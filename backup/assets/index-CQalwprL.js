(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zm(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Af={exports:{}},zo={},Pf={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),Jm=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Xm=Symbol.for("react.context"),Zm=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.memo"),ng=Symbol.for("react.lazy"),bu=Symbol.iterator;function rg(t){return t===null||typeof t!="object"?null:(t=bu&&t[bu]||t["@@iterator"],typeof t=="function"?t:null)}var Rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bf=Object.assign,Mf={};function _r(t,e,n){this.props=t,this.context=e,this.refs=Mf,this.updater=n||Rf}_r.prototype.isReactComponent={};_r.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Df(){}Df.prototype=_r.prototype;function pa(t,e,n){this.props=t,this.context=e,this.refs=Mf,this.updater=n||Rf}var ma=pa.prototype=new Df;ma.constructor=pa;bf(ma,_r.prototype);ma.isPureReactComponent=!0;var Mu=Array.isArray,Lf=Object.prototype.hasOwnProperty,ga={current:null},Uf={key:!0,ref:!0,__self:!0,__source:!0};function Ff(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Lf.call(e,r)&&!Uf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Si,type:t,key:o,ref:s,props:i,_owner:ga.current}}function ig(t,e){return{$$typeof:Si,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ya(t){return typeof t=="object"&&t!==null&&t.$$typeof===Si}function og(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Du=/\/+/g;function vs(t,e){return typeof t=="object"&&t!==null&&t.key!=null?og(""+t.key):e.toString(36)}function eo(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Si:case Jm:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+vs(s,0):r,Mu(i)?(n="",t!=null&&(n=t.replace(Du,"$&/")+"/"),eo(i,e,n,"",function(d){return d})):i!=null&&(ya(i)&&(i=ig(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Du,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Mu(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+vs(o,l);s+=eo(o,e,n,u,i)}else if(u=rg(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+vs(o,l++),s+=eo(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function bi(t,e,n){if(t==null)return t;var r=[],i=0;return eo(t,r,"","",function(o){return e.call(n,o,i++)}),r}function sg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var De={current:null},to={transition:null},lg={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:to,ReactCurrentOwner:ga};function $f(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:bi,forEach:function(t,e,n){bi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bi(t,function(){e++}),e},toArray:function(t){return bi(t,function(e){return e})||[]},only:function(t){if(!ya(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=_r;J.Fragment=Wm;J.Profiler=Ym;J.PureComponent=pa;J.StrictMode=Km;J.Suspense=eg;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lg;J.act=$f;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bf({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ga.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Lf.call(e,u)&&!Uf.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Si,type:t.type,key:i,ref:o,props:r,_owner:s}};J.createContext=function(t){return t={$$typeof:Xm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qm,_context:t},t.Consumer=t};J.createElement=Ff;J.createFactory=function(t){var e=Ff.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:Zm,render:t}};J.isValidElement=ya;J.lazy=function(t){return{$$typeof:ng,_payload:{_status:-1,_result:t},_init:sg}};J.memo=function(t,e){return{$$typeof:tg,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=to.transition;to.transition={};try{t()}finally{to.transition=e}};J.unstable_act=$f;J.useCallback=function(t,e){return De.current.useCallback(t,e)};J.useContext=function(t){return De.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return De.current.useDeferredValue(t)};J.useEffect=function(t,e){return De.current.useEffect(t,e)};J.useId=function(){return De.current.useId()};J.useImperativeHandle=function(t,e,n){return De.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return De.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return De.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return De.current.useMemo(t,e)};J.useReducer=function(t,e,n){return De.current.useReducer(t,e,n)};J.useRef=function(t){return De.current.useRef(t)};J.useState=function(t){return De.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return De.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return De.current.useTransition()};J.version="18.3.1";Pf.exports=J;var N=Pf.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag=N,ug=Symbol.for("react.element"),cg=Symbol.for("react.fragment"),dg=Object.prototype.hasOwnProperty,fg=ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hg={key:!0,ref:!0,__self:!0,__source:!0};function Vf(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)dg.call(e,r)&&!hg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ug,type:t,key:o,ref:s,props:i,_owner:fg.current}}zo.Fragment=cg;zo.jsx=Vf;zo.jsxs=Vf;Af.exports=zo;var f=Af.exports,Bf={exports:{}},Je={},qf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var O=D.length;D.push(V);e:for(;0<O;){var Q=O-1>>>1,X=D[Q];if(0<i(X,V))D[Q]=V,D[O]=X,O=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],O=D.pop();if(O!==V){D[0]=O;e:for(var Q=0,X=D.length,it=X>>>1;Q<it;){var Pe=2*(Q+1)-1,ot=D[Pe],we=Pe+1,hn=D[we];if(0>i(ot,O))we<X&&0>i(hn,ot)?(D[Q]=hn,D[we]=O,Q=we):(D[Q]=ot,D[Pe]=O,Q=Pe);else if(we<X&&0>i(hn,O))D[Q]=hn,D[we]=O,Q=we;else break e}}return V}function i(D,V){var O=D.sortIndex-V.sortIndex;return O!==0?O:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],d=[],h=1,p=null,m=3,g=!1,_=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=D)r(d),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(d)}}function S(D){if(w=!1,v(D),!_)if(n(u)!==null)_=!0,_e(k);else{var V=n(d);V!==null&&rt(S,V.startTime-D)}}function k(D,V){_=!1,w&&(w=!1,x(A),A=-1),g=!0;var O=m;try{for(v(V),p=n(u);p!==null&&(!(p.expirationTime>V)||D&&!q());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,m=p.priorityLevel;var X=Q(p.expirationTime<=V);V=t.unstable_now(),typeof X=="function"?p.callback=X:p===n(u)&&r(u),v(V)}else r(u);p=n(u)}if(p!==null)var it=!0;else{var Pe=n(d);Pe!==null&&rt(S,Pe.startTime-V),it=!1}return it}finally{p=null,m=O,g=!1}}var E=!1,I=null,A=-1,R=5,b=-1;function q(){return!(t.unstable_now()-b<R)}function M(){if(I!==null){var D=t.unstable_now();b=D;var V=!0;try{V=I(!0,D)}finally{V?L():(E=!1,I=null)}}else E=!1}var L;if(typeof y=="function")L=function(){y(M)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,$t=ue.port2;ue.port1.onmessage=M,L=function(){$t.postMessage(null)}}else L=function(){C(M,0)};function _e(D){I=D,E||(E=!0,L())}function rt(D,V){A=C(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,_e(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var O=m;m=V;try{return D()}finally{m=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var O=m;m=D;try{return V()}finally{m=O}},t.unstable_scheduleCallback=function(D,V,O){var Q=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=O+X,D={id:h++,callback:V,priorityLevel:D,startTime:O,expirationTime:X,sortIndex:-1},O>Q?(D.sortIndex=O,e(d,D),n(u)===null&&D===n(d)&&(w?(x(A),A=-1):w=!0,rt(S,O-Q))):(D.sortIndex=X,e(u,D),_||g||(_=!0,_e(k))),D},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(D){var V=m;return function(){var O=m;m=V;try{return D.apply(this,arguments)}finally{m=O}}}})(Of);qf.exports=Of;var pg=qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=N,He=pg;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jf=new Set,ii={};function Rn(t,e){dr(t,e),dr(t+"Capture",e)}function dr(t,e){for(ii[t]=e,t=0;t<e.length;t++)jf.add(e[t])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=Object.prototype.hasOwnProperty,gg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lu={},Uu={};function yg(t){return el.call(Uu,t)?!0:el.call(Lu,t)?!1:gg.test(t)?Uu[t]=!0:(Lu[t]=!0,!1)}function vg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xg(t,e,n,r){if(e===null||typeof e>"u"||vg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var va=/[\-:]([a-z])/g;function xa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(va,xa);Ce[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(va,xa);Ce[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(va,xa);Ce[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function _a(t,e,n,r){var i=Ce.hasOwnProperty(e)?Ce[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xg(e,n,i,r)&&(n=null),r||i===null?yg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ut=mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mi=Symbol.for("react.element"),jn=Symbol.for("react.portal"),Gn=Symbol.for("react.fragment"),wa=Symbol.for("react.strict_mode"),tl=Symbol.for("react.profiler"),Gf=Symbol.for("react.provider"),Hf=Symbol.for("react.context"),Sa=Symbol.for("react.forward_ref"),nl=Symbol.for("react.suspense"),rl=Symbol.for("react.suspense_list"),Ta=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),zf=Symbol.for("react.offscreen"),Fu=Symbol.iterator;function Ar(t){return t===null||typeof t!="object"?null:(t=Fu&&t[Fu]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,xs;function Vr(t){if(xs===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xs=e&&e[1]||""}return`
`+xs+t}var _s=!1;function ws(t,e){if(!t||_s)return"";_s=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{_s=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vr(t):""}function _g(t){switch(t.tag){case 5:return Vr(t.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return t=ws(t.type,!1),t;case 11:return t=ws(t.type.render,!1),t;case 1:return t=ws(t.type,!0),t;default:return""}}function il(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gn:return"Fragment";case jn:return"Portal";case tl:return"Profiler";case wa:return"StrictMode";case nl:return"Suspense";case rl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hf:return(t.displayName||"Context")+".Consumer";case Gf:return(t._context.displayName||"Context")+".Provider";case Sa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ta:return e=t.displayName||null,e!==null?e:il(t.type)||"Memo";case Ot:e=t._payload,t=t._init;try{return il(t(e))}catch{}}return null}function wg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return il(e);case 8:return e===wa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sg(t){var e=Jf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Di(t){t._valueTracker||(t._valueTracker=Sg(t))}function Wf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ol(t,e){var n=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $u(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kf(t,e){e=e.checked,e!=null&&_a(t,"checked",e,!1)}function sl(t,e){Kf(t,e);var n=sn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ll(t,e.type,n):e.hasOwnProperty("defaultValue")&&ll(t,e.type,sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ll(t,e,n){(e!=="number"||mo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Br=Array.isArray;function nr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function al(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Br(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sn(n)}}function Yf(t,e){var n=sn(e.value),r=sn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ul(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Li,Xf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Li.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tg=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(t){Tg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hr[e]=Hr[t]})});function Zf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hr.hasOwnProperty(t)&&Hr[t]?(""+e).trim():e+"px"}function eh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Cg=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(t,e){if(e){if(Cg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function dl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hl=null,rr=null,ir=null;function Ou(t){if(t=Ei(t)){if(typeof hl!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Qo(e),hl(t.stateNode,t.type,e))}}function th(t){rr?ir?ir.push(t):ir=[t]:rr=t}function nh(){if(rr){var t=rr,e=ir;if(ir=rr=null,Ou(t),e)for(t=0;t<e.length;t++)Ou(e[t])}}function rh(t,e){return t(e)}function ih(){}var Ss=!1;function oh(t,e,n){if(Ss)return t(e,n);Ss=!0;try{return rh(t,e,n)}finally{Ss=!1,(rr!==null||ir!==null)&&(ih(),nh())}}function si(t,e){var n=t.stateNode;if(n===null)return null;var r=Qo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var pl=!1;if(bt)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){pl=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{pl=!1}function Eg(t,e,n,r,i,o,s,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var zr=!1,go=null,yo=!1,ml=null,kg={onError:function(t){zr=!0,go=t}};function Ng(t,e,n,r,i,o,s,l,u){zr=!1,go=null,Eg.apply(kg,arguments)}function Ig(t,e,n,r,i,o,s,l,u){if(Ng.apply(this,arguments),zr){if(zr){var d=go;zr=!1,go=null}else throw Error(P(198));yo||(yo=!0,ml=d)}}function bn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ju(t){if(bn(t)!==t)throw Error(P(188))}function Ag(t){var e=t.alternate;if(!e){if(e=bn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ju(i),t;if(o===r)return ju(i),e;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function lh(t){return t=Ag(t),t!==null?ah(t):null}function ah(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ah(t);if(e!==null)return e;t=t.sibling}return null}var uh=He.unstable_scheduleCallback,Gu=He.unstable_cancelCallback,Pg=He.unstable_shouldYield,Rg=He.unstable_requestPaint,de=He.unstable_now,bg=He.unstable_getCurrentPriorityLevel,Ea=He.unstable_ImmediatePriority,ch=He.unstable_UserBlockingPriority,vo=He.unstable_NormalPriority,Mg=He.unstable_LowPriority,dh=He.unstable_IdlePriority,Jo=null,Tt=null;function Dg(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Jo,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Fg,Lg=Math.log,Ug=Math.LN2;function Fg(t){return t>>>=0,t===0?32:31-(Lg(t)/Ug|0)|0}var Ui=64,Fi=4194304;function qr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=qr(l):(o&=s,o!==0&&(r=qr(o)))}else s=n&~i,s!==0?r=qr(s):o!==0&&(r=qr(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mt(e),i=1<<n,r|=t[n],e&=~i;return r}function $g(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-mt(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=$g(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function gl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fh(){var t=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),t}function Ts(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ti(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mt(e),t[e]=n}function Bg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ka(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Y=0;function hh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ph,Na,mh,gh,yh,yl=!1,$i=[],Qt=null,Xt=null,Zt=null,li=new Map,ai=new Map,Gt=[],qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(t,e){switch(t){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":li.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(e.pointerId)}}function Rr(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ei(e),e!==null&&Na(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Og(t,e,n,r,i){switch(e){case"focusin":return Qt=Rr(Qt,t,e,n,r,i),!0;case"dragenter":return Xt=Rr(Xt,t,e,n,r,i),!0;case"mouseover":return Zt=Rr(Zt,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return li.set(o,Rr(li.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ai.set(o,Rr(ai.get(o)||null,t,e,n,r,i)),!0}return!1}function vh(t){var e=_n(t.target);if(e!==null){var n=bn(e);if(n!==null){if(e=n.tag,e===13){if(e=sh(n),e!==null){t.blockedOn=e,yh(t.priority,function(){mh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function no(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fl=r,n.target.dispatchEvent(r),fl=null}else return e=Ei(n),e!==null&&Na(e),t.blockedOn=n,!1;e.shift()}return!0}function zu(t,e,n){no(t)&&n.delete(e)}function jg(){yl=!1,Qt!==null&&no(Qt)&&(Qt=null),Xt!==null&&no(Xt)&&(Xt=null),Zt!==null&&no(Zt)&&(Zt=null),li.forEach(zu),ai.forEach(zu)}function br(t,e){t.blockedOn===e&&(t.blockedOn=null,yl||(yl=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,jg)))}function ui(t){function e(i){return br(i,t)}if(0<$i.length){br($i[0],t);for(var n=1;n<$i.length;n++){var r=$i[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qt!==null&&br(Qt,t),Xt!==null&&br(Xt,t),Zt!==null&&br(Zt,t),li.forEach(e),ai.forEach(e),n=0;n<Gt.length;n++)r=Gt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)vh(n),n.blockedOn===null&&Gt.shift()}var or=Ut.ReactCurrentBatchConfig,_o=!0;function Gg(t,e,n,r){var i=Y,o=or.transition;or.transition=null;try{Y=1,Ia(t,e,n,r)}finally{Y=i,or.transition=o}}function Hg(t,e,n,r){var i=Y,o=or.transition;or.transition=null;try{Y=4,Ia(t,e,n,r)}finally{Y=i,or.transition=o}}function Ia(t,e,n,r){if(_o){var i=vl(t,e,n,r);if(i===null)Ms(t,e,r,wo,n),Hu(t,r);else if(Og(i,t,e,n,r))r.stopPropagation();else if(Hu(t,r),e&4&&-1<qg.indexOf(t)){for(;i!==null;){var o=Ei(i);if(o!==null&&ph(o),o=vl(t,e,n,r),o===null&&Ms(t,e,r,wo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ms(t,e,r,null,n)}}var wo=null;function vl(t,e,n,r){if(wo=null,t=Ca(r),t=_n(t),t!==null)if(e=bn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wo=t,null}function xh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bg()){case Ea:return 1;case ch:return 4;case vo:case Mg:return 16;case dh:return 536870912;default:return 16}default:return 16}}var Wt=null,Aa=null,ro=null;function _h(){if(ro)return ro;var t,e=Aa,n=e.length,r,i="value"in Wt?Wt.value:Wt.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ro=i.slice(t,1<r?1-r:void 0)}function io(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Ju(){return!1}function We(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vi:Ju,this.isPropagationStopped=Ju,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),e}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=We(wr),Ci=ae({},wr,{view:0,detail:0}),zg=We(Ci),Cs,Es,Mr,Wo=ae({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(Cs=t.screenX-Mr.screenX,Es=t.screenY-Mr.screenY):Es=Cs=0,Mr=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:Es}}),Wu=We(Wo),Jg=ae({},Wo,{dataTransfer:0}),Wg=We(Jg),Kg=ae({},Ci,{relatedTarget:0}),ks=We(Kg),Yg=ae({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=We(Yg),Xg=ae({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zg=We(Xg),ey=ae({},wr,{data:0}),Ku=We(ey),ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ny={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ry[t])?!!e[t]:!1}function Ra(){return iy}var oy=ae({},Ci,{key:function(t){if(t.key){var e=ty[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ny[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sy=We(oy),ly=ae({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yu=We(ly),ay=ae({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),uy=We(ay),cy=ae({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dy=We(cy),fy=ae({},Wo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hy=We(fy),py=[9,13,27,32],ba=bt&&"CompositionEvent"in window,Jr=null;bt&&"documentMode"in document&&(Jr=document.documentMode);var my=bt&&"TextEvent"in window&&!Jr,wh=bt&&(!ba||Jr&&8<Jr&&11>=Jr),Qu=" ",Xu=!1;function Sh(t,e){switch(t){case"keyup":return py.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Th(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function gy(t,e){switch(t){case"compositionend":return Th(e);case"keypress":return e.which!==32?null:(Xu=!0,Qu);case"textInput":return t=e.data,t===Qu&&Xu?null:t;default:return null}}function yy(t,e){if(Hn)return t==="compositionend"||!ba&&Sh(t,e)?(t=_h(),ro=Aa=Wt=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wh&&e.locale!=="ko"?null:e.data;default:return null}}var vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vy[t.type]:e==="textarea"}function Ch(t,e,n,r){th(r),e=So(e,"onChange"),0<e.length&&(n=new Pa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wr=null,ci=null;function xy(t){Lh(t,0)}function Ko(t){var e=Wn(t);if(Wf(e))return t}function _y(t,e){if(t==="change")return e}var Eh=!1;if(bt){var Ns;if(bt){var Is="oninput"in document;if(!Is){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),Is=typeof ec.oninput=="function"}Ns=Is}else Ns=!1;Eh=Ns&&(!document.documentMode||9<document.documentMode)}function tc(){Wr&&(Wr.detachEvent("onpropertychange",kh),ci=Wr=null)}function kh(t){if(t.propertyName==="value"&&Ko(ci)){var e=[];Ch(e,ci,t,Ca(t)),oh(xy,e)}}function wy(t,e,n){t==="focusin"?(tc(),Wr=e,ci=n,Wr.attachEvent("onpropertychange",kh)):t==="focusout"&&tc()}function Sy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ko(ci)}function Ty(t,e){if(t==="click")return Ko(e)}function Cy(t,e){if(t==="input"||t==="change")return Ko(e)}function Ey(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:Ey;function di(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!el.call(e,i)||!yt(t[i],e[i]))return!1}return!0}function nc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rc(t,e){var n=nc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nc(n)}}function Nh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ih(){for(var t=window,e=mo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mo(t.document)}return e}function Ma(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ky(t){var e=Ih(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nh(n.ownerDocument.documentElement,n)){if(r!==null&&Ma(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=rc(n,o);var s=rc(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ny=bt&&"documentMode"in document&&11>=document.documentMode,zn=null,xl=null,Kr=null,_l=!1;function ic(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||zn==null||zn!==mo(r)||(r=zn,"selectionStart"in r&&Ma(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kr&&di(Kr,r)||(Kr=r,r=So(xl,"onSelect"),0<r.length&&(e=new Pa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zn)))}function Bi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jn={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},As={},Ah={};bt&&(Ah=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Yo(t){if(As[t])return As[t];if(!Jn[t])return t;var e=Jn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ah)return As[t]=e[n];return t}var Ph=Yo("animationend"),Rh=Yo("animationiteration"),bh=Yo("animationstart"),Mh=Yo("transitionend"),Dh=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(t,e){Dh.set(t,e),Rn(e,[t])}for(var Ps=0;Ps<oc.length;Ps++){var Rs=oc[Ps],Iy=Rs.toLowerCase(),Ay=Rs[0].toUpperCase()+Rs.slice(1);an(Iy,"on"+Ay)}an(Ph,"onAnimationEnd");an(Rh,"onAnimationIteration");an(bh,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Mh,"onTransitionEnd");dr("onMouseEnter",["mouseout","mouseover"]);dr("onMouseLeave",["mouseout","mouseover"]);dr("onPointerEnter",["pointerout","pointerover"]);dr("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function sc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ig(r,e,void 0,t),t.currentTarget=null}function Lh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;sc(i,l,d),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,d=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;sc(i,l,d),o=u}}}if(yo)throw t=ml,yo=!1,ml=null,t}function te(t,e){var n=e[El];n===void 0&&(n=e[El]=new Set);var r=t+"__bubble";n.has(r)||(Uh(e,t,2,!1),n.add(r))}function bs(t,e,n){var r=0;e&&(r|=4),Uh(n,t,r,e)}var qi="_reactListening"+Math.random().toString(36).slice(2);function fi(t){if(!t[qi]){t[qi]=!0,jf.forEach(function(n){n!=="selectionchange"&&(Py.has(n)||bs(n,!1,t),bs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qi]||(e[qi]=!0,bs("selectionchange",!1,e))}}function Uh(t,e,n,r){switch(xh(e)){case 1:var i=Gg;break;case 4:i=Hg;break;default:i=Ia}n=i.bind(null,e,n,t),i=void 0,!pl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ms(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=_n(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}oh(function(){var d=o,h=Ca(n),p=[];e:{var m=Dh.get(t);if(m!==void 0){var g=Pa,_=t;switch(t){case"keypress":if(io(n)===0)break e;case"keydown":case"keyup":g=sy;break;case"focusin":_="focus",g=ks;break;case"focusout":_="blur",g=ks;break;case"beforeblur":case"afterblur":g=ks;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uy;break;case Ph:case Rh:case bh:g=Qg;break;case Mh:g=dy;break;case"scroll":g=zg;break;case"wheel":g=hy;break;case"copy":case"cut":case"paste":g=Zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Yu}var w=(e&4)!==0,C=!w&&t==="scroll",x=w?m!==null?m+"Capture":null:m;w=[];for(var y=d,v;y!==null;){v=y;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,x!==null&&(S=si(y,x),S!=null&&w.push(hi(y,S,v)))),C)break;y=y.return}0<w.length&&(m=new g(m,_,null,n,h),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==fl&&(_=n.relatedTarget||n.fromElement)&&(_n(_)||_[Mt]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=d,_=_?_n(_):null,_!==null&&(C=bn(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=d),g!==_)){if(w=Wu,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Yu,S="onPointerLeave",x="onPointerEnter",y="pointer"),C=g==null?m:Wn(g),v=_==null?m:Wn(_),m=new w(S,y+"leave",g,n,h),m.target=C,m.relatedTarget=v,S=null,_n(h)===d&&(w=new w(x,y+"enter",_,n,h),w.target=v,w.relatedTarget=C,S=w),C=S,g&&_)t:{for(w=g,x=_,y=0,v=w;v;v=Ln(v))y++;for(v=0,S=x;S;S=Ln(S))v++;for(;0<y-v;)w=Ln(w),y--;for(;0<v-y;)x=Ln(x),v--;for(;y--;){if(w===x||x!==null&&w===x.alternate)break t;w=Ln(w),x=Ln(x)}w=null}else w=null;g!==null&&lc(p,m,g,w,!1),_!==null&&C!==null&&lc(p,C,_,w,!0)}}e:{if(m=d?Wn(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=_y;else if(Zu(m))if(Eh)k=Cy;else{k=Sy;var E=wy}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=Ty);if(k&&(k=k(t,d))){Ch(p,k,n,h);break e}E&&E(t,m,d),t==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&ll(m,"number",m.value)}switch(E=d?Wn(d):window,t){case"focusin":(Zu(E)||E.contentEditable==="true")&&(zn=E,xl=d,Kr=null);break;case"focusout":Kr=xl=zn=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,ic(p,n,h);break;case"selectionchange":if(Ny)break;case"keydown":case"keyup":ic(p,n,h)}var I;if(ba)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Hn?Sh(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(wh&&n.locale!=="ko"&&(Hn||A!=="onCompositionStart"?A==="onCompositionEnd"&&Hn&&(I=_h()):(Wt=h,Aa="value"in Wt?Wt.value:Wt.textContent,Hn=!0)),E=So(d,A),0<E.length&&(A=new Ku(A,t,null,n,h),p.push({event:A,listeners:E}),I?A.data=I:(I=Th(n),I!==null&&(A.data=I)))),(I=my?gy(t,n):yy(t,n))&&(d=So(d,"onBeforeInput"),0<d.length&&(h=new Ku("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=I))}Lh(p,e)})}function hi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function So(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=si(t,n),o!=null&&r.unshift(hi(t,o,i)),o=si(t,e),o!=null&&r.push(hi(t,o,i))),t=t.return}return r}function Ln(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lc(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=si(n,o),u!=null&&s.unshift(hi(n,u,l))):i||(u=si(n,o),u!=null&&s.push(hi(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Ry=/\r\n?/g,by=/\u0000|\uFFFD/g;function ac(t){return(typeof t=="string"?t:""+t).replace(Ry,`
`).replace(by,"")}function Oi(t,e,n){if(e=ac(e),ac(t)!==e&&n)throw Error(P(425))}function To(){}var wl=null,Sl=null;function Tl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cl=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,Dy=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(t){return uc.resolve(null).then(t).catch(Ly)}:Cl;function Ly(t){setTimeout(function(){throw t})}function Ds(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ui(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ui(e)}function en(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),St="__reactFiber$"+Sr,pi="__reactProps$"+Sr,Mt="__reactContainer$"+Sr,El="__reactEvents$"+Sr,Uy="__reactListeners$"+Sr,Fy="__reactHandles$"+Sr;function _n(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mt]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cc(t);t!==null;){if(n=t[St])return n;t=cc(t)}return e}t=n,n=t.parentNode}return null}function Ei(t){return t=t[St]||t[Mt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Qo(t){return t[pi]||null}var kl=[],Kn=-1;function un(t){return{current:t}}function re(t){0>Kn||(t.current=kl[Kn],kl[Kn]=null,Kn--)}function ee(t,e){Kn++,kl[Kn]=t.current,t.current=e}var ln={},Ae=un(ln),Ve=un(!1),En=ln;function fr(t,e){var n=t.type.contextTypes;if(!n)return ln;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Be(t){return t=t.childContextTypes,t!=null}function Co(){re(Ve),re(Ae)}function dc(t,e,n){if(Ae.current!==ln)throw Error(P(168));ee(Ae,e),ee(Ve,n)}function Fh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,wg(t)||"Unknown",i));return ae({},n,r)}function Eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ln,En=Ae.current,ee(Ae,t),ee(Ve,Ve.current),!0}function fc(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=Fh(t,e,En),r.__reactInternalMemoizedMergedChildContext=t,re(Ve),re(Ae),ee(Ae,t)):re(Ve),ee(Ve,n)}var It=null,Xo=!1,Ls=!1;function $h(t){It===null?It=[t]:It.push(t)}function $y(t){Xo=!0,$h(t)}function cn(){if(!Ls&&It!==null){Ls=!0;var t=0,e=Y;try{var n=It;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}It=null,Xo=!1}catch(i){throw It!==null&&(It=It.slice(t+1)),uh(Ea,cn),i}finally{Y=e,Ls=!1}}return null}var Yn=[],Qn=0,ko=null,No=0,Ke=[],Ye=0,kn=null,At=1,Pt="";function gn(t,e){Yn[Qn++]=No,Yn[Qn++]=ko,ko=t,No=e}function Vh(t,e,n){Ke[Ye++]=At,Ke[Ye++]=Pt,Ke[Ye++]=kn,kn=t;var r=At;t=Pt;var i=32-mt(r)-1;r&=~(1<<i),n+=1;var o=32-mt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,At=1<<32-mt(e)+i|n<<i|r,Pt=o+t}else At=1<<o|n<<i|r,Pt=t}function Da(t){t.return!==null&&(gn(t,1),Vh(t,1,0))}function La(t){for(;t===ko;)ko=Yn[--Qn],Yn[Qn]=null,No=Yn[--Qn],Yn[Qn]=null;for(;t===kn;)kn=Ke[--Ye],Ke[Ye]=null,Pt=Ke[--Ye],Ke[Ye]=null,At=Ke[--Ye],Ke[Ye]=null}var Ge=null,je=null,ie=!1,pt=null;function Bh(t,e){var n=Qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ge=t,je=en(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ge=t,je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kn!==null?{id:At,overflow:Pt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ge=t,je=null,!0):!1;default:return!1}}function Nl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Il(t){if(ie){var e=je;if(e){var n=e;if(!hc(t,e)){if(Nl(t))throw Error(P(418));e=en(n.nextSibling);var r=Ge;e&&hc(t,e)?Bh(r,n):(t.flags=t.flags&-4097|2,ie=!1,Ge=t)}}else{if(Nl(t))throw Error(P(418));t.flags=t.flags&-4097|2,ie=!1,Ge=t}}}function pc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ge=t}function ji(t){if(t!==Ge)return!1;if(!ie)return pc(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tl(t.type,t.memoizedProps)),e&&(e=je)){if(Nl(t))throw qh(),Error(P(418));for(;e;)Bh(t,e),e=en(e.nextSibling)}if(pc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){je=en(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}je=null}}else je=Ge?en(t.stateNode.nextSibling):null;return!0}function qh(){for(var t=je;t;)t=en(t.nextSibling)}function hr(){je=Ge=null,ie=!1}function Ua(t){pt===null?pt=[t]:pt.push(t)}var Vy=Ut.ReactCurrentBatchConfig;function Dr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Gi(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mc(t){var e=t._init;return e(t._payload)}function Oh(t){function e(x,y){if(t){var v=x.deletions;v===null?(x.deletions=[y],x.flags|=16):v.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=on(x,y),x.index=0,x.sibling=null,x}function o(x,y,v){return x.index=v,t?(v=x.alternate,v!==null?(v=v.index,v<y?(x.flags|=2,y):v):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,v,S){return y===null||y.tag!==6?(y=Os(v,x.mode,S),y.return=x,y):(y=i(y,v),y.return=x,y)}function u(x,y,v,S){var k=v.type;return k===Gn?h(x,y,v.props.children,S,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ot&&mc(k)===y.type)?(S=i(y,v.props),S.ref=Dr(x,y,v),S.return=x,S):(S=fo(v.type,v.key,v.props,null,x.mode,S),S.ref=Dr(x,y,v),S.return=x,S)}function d(x,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=js(v,x.mode,S),y.return=x,y):(y=i(y,v.children||[]),y.return=x,y)}function h(x,y,v,S,k){return y===null||y.tag!==7?(y=Cn(v,x.mode,S,k),y.return=x,y):(y=i(y,v),y.return=x,y)}function p(x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Os(""+y,x.mode,v),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mi:return v=fo(y.type,y.key,y.props,null,x.mode,v),v.ref=Dr(x,null,y),v.return=x,v;case jn:return y=js(y,x.mode,v),y.return=x,y;case Ot:var S=y._init;return p(x,S(y._payload),v)}if(Br(y)||Ar(y))return y=Cn(y,x.mode,v,null),y.return=x,y;Gi(x,y)}return null}function m(x,y,v,S){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(x,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mi:return v.key===k?u(x,y,v,S):null;case jn:return v.key===k?d(x,y,v,S):null;case Ot:return k=v._init,m(x,y,k(v._payload),S)}if(Br(v)||Ar(v))return k!==null?null:h(x,y,v,S,null);Gi(x,v)}return null}function g(x,y,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(v)||null,l(y,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mi:return x=x.get(S.key===null?v:S.key)||null,u(y,x,S,k);case jn:return x=x.get(S.key===null?v:S.key)||null,d(y,x,S,k);case Ot:var E=S._init;return g(x,y,v,E(S._payload),k)}if(Br(S)||Ar(S))return x=x.get(v)||null,h(y,x,S,k,null);Gi(y,S)}return null}function _(x,y,v,S){for(var k=null,E=null,I=y,A=y=0,R=null;I!==null&&A<v.length;A++){I.index>A?(R=I,I=null):R=I.sibling;var b=m(x,I,v[A],S);if(b===null){I===null&&(I=R);break}t&&I&&b.alternate===null&&e(x,I),y=o(b,y,A),E===null?k=b:E.sibling=b,E=b,I=R}if(A===v.length)return n(x,I),ie&&gn(x,A),k;if(I===null){for(;A<v.length;A++)I=p(x,v[A],S),I!==null&&(y=o(I,y,A),E===null?k=I:E.sibling=I,E=I);return ie&&gn(x,A),k}for(I=r(x,I);A<v.length;A++)R=g(I,x,A,v[A],S),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?A:R.key),y=o(R,y,A),E===null?k=R:E.sibling=R,E=R);return t&&I.forEach(function(q){return e(x,q)}),ie&&gn(x,A),k}function w(x,y,v,S){var k=Ar(v);if(typeof k!="function")throw Error(P(150));if(v=k.call(v),v==null)throw Error(P(151));for(var E=k=null,I=y,A=y=0,R=null,b=v.next();I!==null&&!b.done;A++,b=v.next()){I.index>A?(R=I,I=null):R=I.sibling;var q=m(x,I,b.value,S);if(q===null){I===null&&(I=R);break}t&&I&&q.alternate===null&&e(x,I),y=o(q,y,A),E===null?k=q:E.sibling=q,E=q,I=R}if(b.done)return n(x,I),ie&&gn(x,A),k;if(I===null){for(;!b.done;A++,b=v.next())b=p(x,b.value,S),b!==null&&(y=o(b,y,A),E===null?k=b:E.sibling=b,E=b);return ie&&gn(x,A),k}for(I=r(x,I);!b.done;A++,b=v.next())b=g(I,x,A,b.value,S),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?A:b.key),y=o(b,y,A),E===null?k=b:E.sibling=b,E=b);return t&&I.forEach(function(M){return e(x,M)}),ie&&gn(x,A),k}function C(x,y,v,S){if(typeof v=="object"&&v!==null&&v.type===Gn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Mi:e:{for(var k=v.key,E=y;E!==null;){if(E.key===k){if(k=v.type,k===Gn){if(E.tag===7){n(x,E.sibling),y=i(E,v.props.children),y.return=x,x=y;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ot&&mc(k)===E.type){n(x,E.sibling),y=i(E,v.props),y.ref=Dr(x,E,v),y.return=x,x=y;break e}n(x,E);break}else e(x,E);E=E.sibling}v.type===Gn?(y=Cn(v.props.children,x.mode,S,v.key),y.return=x,x=y):(S=fo(v.type,v.key,v.props,null,x.mode,S),S.ref=Dr(x,y,v),S.return=x,x=S)}return s(x);case jn:e:{for(E=v.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(x,y.sibling),y=i(y,v.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=js(v,x.mode,S),y.return=x,x=y}return s(x);case Ot:return E=v._init,C(x,y,E(v._payload),S)}if(Br(v))return _(x,y,v,S);if(Ar(v))return w(x,y,v,S);Gi(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,v),y.return=x,x=y):(n(x,y),y=Os(v,x.mode,S),y.return=x,x=y),s(x)):n(x,y)}return C}var pr=Oh(!0),jh=Oh(!1),Io=un(null),Ao=null,Xn=null,Fa=null;function $a(){Fa=Xn=Ao=null}function Va(t){var e=Io.current;re(Io),t._currentValue=e}function Al(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sr(t,e){Ao=t,Fa=Xn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function tt(t){var e=t._currentValue;if(Fa!==t)if(t={context:t,memoizedValue:e,next:null},Xn===null){if(Ao===null)throw Error(P(308));Xn=t,Ao.dependencies={lanes:0,firstContext:t}}else Xn=Xn.next=t;return e}var wn=null;function Ba(t){wn===null?wn=[t]:wn.push(t)}function Gh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ba(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dt(t,r)}function Dt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jt=!1;function qa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Dt(t,n)}return i=r.interleaved,i===null?(e.next=e,Ba(r)):(e.next=i.next,i.next=e),r.interleaved=e,Dt(t,n)}function oo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ka(t,n)}}function gc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Po(t,e,n,r){var i=t.updateQueue;jt=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,s===null?o=d:s.next=d,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==s&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,h=d=u=null,l=o;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,w=l;switch(m=e,g=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){p=_.call(g,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,m=typeof _=="function"?_.call(g,p,m):_,m==null)break e;p=ae({},p,m);break e;case 2:jt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,u=p):h=h.next=g,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=p),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);In|=s,t.lanes=s,t.memoizedState=p}}function yc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var ki={},Ct=un(ki),mi=un(ki),gi=un(ki);function Sn(t){if(t===ki)throw Error(P(174));return t}function Oa(t,e){switch(ee(gi,e),ee(mi,t),ee(Ct,ki),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ul(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ul(e,t)}re(Ct),ee(Ct,e)}function mr(){re(Ct),re(mi),re(gi)}function zh(t){Sn(gi.current);var e=Sn(Ct.current),n=ul(e,t.type);e!==n&&(ee(mi,t),ee(Ct,n))}function ja(t){mi.current===t&&(re(Ct),re(mi))}var se=un(0);function Ro(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Us=[];function Ga(){for(var t=0;t<Us.length;t++)Us[t]._workInProgressVersionPrimary=null;Us.length=0}var so=Ut.ReactCurrentDispatcher,Fs=Ut.ReactCurrentBatchConfig,Nn=0,le=null,ge=null,ve=null,bo=!1,Yr=!1,yi=0,By=0;function Ee(){throw Error(P(321))}function Ha(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function za(t,e,n,r,i,o){if(Nn=o,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,so.current=t===null||t.memoizedState===null?Gy:Hy,t=n(r,i),Yr){o=0;do{if(Yr=!1,yi=0,25<=o)throw Error(P(301));o+=1,ve=ge=null,e.updateQueue=null,so.current=zy,t=n(r,i)}while(Yr)}if(so.current=Mo,e=ge!==null&&ge.next!==null,Nn=0,ve=ge=le=null,bo=!1,e)throw Error(P(300));return t}function Ja(){var t=yi!==0;return yi=0,t}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?le.memoizedState=ve=t:ve=ve.next=t,ve}function nt(){if(ge===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=ve===null?le.memoizedState:ve.next;if(e!==null)ve=e,ge=t;else{if(t===null)throw Error(P(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ve===null?le.memoizedState=ve=t:ve=ve.next=t}return ve}function vi(t,e){return typeof e=="function"?e(t):e}function $s(t){var e=nt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=ge,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,d=o;do{var h=d.lane;if((Nn&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,le.lanes|=h,In|=h}d=d.next}while(d!==null&&d!==o);u===null?s=r:u.next=l,yt(r,e.memoizedState)||($e=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,le.lanes|=o,In|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vs(t){var e=nt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);yt(o,e.memoizedState)||($e=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Jh(){}function Wh(t,e){var n=le,r=nt(),i=e(),o=!yt(r.memoizedState,i);if(o&&(r.memoizedState=i,$e=!0),r=r.queue,Wa(Qh.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,xi(9,Yh.bind(null,n,r,i,e),void 0,null),xe===null)throw Error(P(349));Nn&30||Kh(n,e,i)}return i}function Kh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yh(t,e,n,r){e.value=n,e.getSnapshot=r,Xh(e)&&Zh(t)}function Qh(t,e,n){return n(function(){Xh(e)&&Zh(t)})}function Xh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function Zh(t){var e=Dt(t,1);e!==null&&gt(e,t,1,-1)}function vc(t){var e=_t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},e.queue=t,t=t.dispatch=jy.bind(null,le,t),[e.memoizedState,t]}function xi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ep(){return nt().memoizedState}function lo(t,e,n,r){var i=_t();le.flags|=t,i.memoizedState=xi(1|e,n,void 0,r===void 0?null:r)}function Zo(t,e,n,r){var i=nt();r=r===void 0?null:r;var o=void 0;if(ge!==null){var s=ge.memoizedState;if(o=s.destroy,r!==null&&Ha(r,s.deps)){i.memoizedState=xi(e,n,o,r);return}}le.flags|=t,i.memoizedState=xi(1|e,n,o,r)}function xc(t,e){return lo(8390656,8,t,e)}function Wa(t,e){return Zo(2048,8,t,e)}function tp(t,e){return Zo(4,2,t,e)}function np(t,e){return Zo(4,4,t,e)}function rp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ip(t,e,n){return n=n!=null?n.concat([t]):null,Zo(4,4,rp.bind(null,e,t),n)}function Ka(){}function op(t,e){var n=nt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ha(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sp(t,e){var n=nt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ha(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lp(t,e,n){return Nn&21?(yt(n,e)||(n=fh(),le.lanes|=n,In|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=n)}function qy(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=Fs.transition;Fs.transition={};try{t(!1),e()}finally{Y=n,Fs.transition=r}}function ap(){return nt().memoizedState}function Oy(t,e,n){var r=rn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},up(t))cp(e,n);else if(n=Gh(t,e,n,r),n!==null){var i=Me();gt(n,t,r,i),dp(n,e,r)}}function jy(t,e,n){var r=rn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(up(t))cp(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,yt(l,s)){var u=e.interleaved;u===null?(i.next=i,Ba(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Gh(t,e,i,r),n!==null&&(i=Me(),gt(n,t,r,i),dp(n,e,r))}}function up(t){var e=t.alternate;return t===le||e!==null&&e===le}function cp(t,e){Yr=bo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ka(t,n)}}var Mo={readContext:tt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Gy={readContext:tt,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:tt,useEffect:xc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lo(4194308,4,rp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lo(4194308,4,t,e)},useInsertionEffect:function(t,e){return lo(4,2,t,e)},useMemo:function(t,e){var n=_t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Oy.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:vc,useDebugValue:Ka,useDeferredValue:function(t){return _t().memoizedState=t},useTransition:function(){var t=vc(!1),e=t[0];return t=qy.bind(null,t[1]),_t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=le,i=_t();if(ie){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),xe===null)throw Error(P(349));Nn&30||Kh(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,xc(Qh.bind(null,r,o,t),[t]),r.flags|=2048,xi(9,Yh.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_t(),e=xe.identifierPrefix;if(ie){var n=Pt,r=At;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=By++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hy={readContext:tt,useCallback:op,useContext:tt,useEffect:Wa,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:sp,useReducer:$s,useRef:ep,useState:function(){return $s(vi)},useDebugValue:Ka,useDeferredValue:function(t){var e=nt();return lp(e,ge.memoizedState,t)},useTransition:function(){var t=$s(vi)[0],e=nt().memoizedState;return[t,e]},useMutableSource:Jh,useSyncExternalStore:Wh,useId:ap,unstable_isNewReconciler:!1},zy={readContext:tt,useCallback:op,useContext:tt,useEffect:Wa,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:sp,useReducer:Vs,useRef:ep,useState:function(){return Vs(vi)},useDebugValue:Ka,useDeferredValue:function(t){var e=nt();return ge===null?e.memoizedState=t:lp(e,ge.memoizedState,t)},useTransition:function(){var t=Vs(vi)[0],e=nt().memoizedState;return[t,e]},useMutableSource:Jh,useSyncExternalStore:Wh,useId:ap,unstable_isNewReconciler:!1};function dt(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var es={isMounted:function(t){return(t=t._reactInternals)?bn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Me(),i=rn(t),o=Rt(r,i);o.payload=e,n!=null&&(o.callback=n),e=tn(t,o,i),e!==null&&(gt(e,t,i,r),oo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Me(),i=rn(t),o=Rt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=tn(t,o,i),e!==null&&(gt(e,t,i,r),oo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Me(),r=rn(t),i=Rt(n,r);i.tag=2,e!=null&&(i.callback=e),e=tn(t,i,r),e!==null&&(gt(e,t,r,n),oo(e,t,r))}};function _c(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!di(n,r)||!di(i,o):!0}function fp(t,e,n){var r=!1,i=ln,o=e.contextType;return typeof o=="object"&&o!==null?o=tt(o):(i=Be(e)?En:Ae.current,r=e.contextTypes,o=(r=r!=null)?fr(t,i):ln),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=es,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&es.enqueueReplaceState(e,e.state,null)}function Rl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qa(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=tt(o):(o=Be(e)?En:Ae.current,i.context=fr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Pl(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&es.enqueueReplaceState(i,i.state,null),Po(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gr(t,e){try{var n="",r=e;do n+=_g(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Bs(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jy=typeof WeakMap=="function"?WeakMap:Map;function hp(t,e,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lo||(Lo=!0,Ol=r),bl(t,e)},n}function pp(t,e,n){n=Rt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bl(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bl(t,e),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Sc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jy;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=l0.bind(null,t,e,n),e.then(t,t))}function Tc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rt(-1,1),e.tag=2,tn(n,e,1))),n.lanes|=1),t)}var Wy=Ut.ReactCurrentOwner,$e=!1;function be(t,e,n,r){e.child=t===null?jh(e,null,n,r):pr(e,t.child,n,r)}function Ec(t,e,n,r,i){n=n.render;var o=e.ref;return sr(e,i),r=za(t,e,n,r,o,i),n=Ja(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lt(t,e,i)):(ie&&n&&Da(e),e.flags|=1,be(t,e,r,i),e.child)}function kc(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ru(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,mp(t,e,o,r,i)):(t=fo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:di,n(s,r)&&t.ref===e.ref)return Lt(t,e,i)}return e.flags|=1,t=on(o,r),t.ref=e.ref,t.return=e,e.child=t}function mp(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(di(o,r)&&t.ref===e.ref)if($e=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,Lt(t,e,i)}return Ml(t,e,n,r,i)}function gp(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(er,Oe),Oe|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(er,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ee(er,Oe),Oe|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ee(er,Oe),Oe|=r;return be(t,e,i,n),e.child}function yp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ml(t,e,n,r,i){var o=Be(n)?En:Ae.current;return o=fr(e,o),sr(e,i),n=za(t,e,n,r,o,i),r=Ja(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lt(t,e,i)):(ie&&r&&Da(e),e.flags|=1,be(t,e,n,i),e.child)}function Nc(t,e,n,r,i){if(Be(n)){var o=!0;Eo(e)}else o=!1;if(sr(e,i),e.stateNode===null)ao(t,e),fp(e,n,r),Rl(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=tt(d):(d=Be(n)?En:Ae.current,d=fr(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==d)&&wc(e,s,r,d),jt=!1;var m=e.memoizedState;s.state=m,Po(e,r,s,i),u=e.memoizedState,l!==r||m!==u||Ve.current||jt?(typeof h=="function"&&(Pl(e,n,h,r),u=e.memoizedState),(l=jt||_c(e,n,l,r,m,u,d))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=d,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Hh(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:dt(e.type,l),s.props=d,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=tt(u):(u=Be(n)?En:Ae.current,u=fr(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&wc(e,s,r,u),jt=!1,m=e.memoizedState,s.state=m,Po(e,r,s,i);var _=e.memoizedState;l!==p||m!==_||Ve.current||jt?(typeof g=="function"&&(Pl(e,n,g,r),_=e.memoizedState),(d=jt||_c(e,n,d,r,m,_,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=u,r=d):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Dl(t,e,n,r,o,i)}function Dl(t,e,n,r,i,o){yp(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&fc(e,n,!1),Lt(t,e,o);r=e.stateNode,Wy.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=pr(e,t.child,null,o),e.child=pr(e,null,l,o)):be(t,e,l,o),e.memoizedState=r.state,i&&fc(e,n,!0),e.child}function vp(t){var e=t.stateNode;e.pendingContext?dc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dc(t,e.context,!1),Oa(t,e.containerInfo)}function Ic(t,e,n,r,i){return hr(),Ua(i),e.flags|=256,be(t,e,n,r),e.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Ul(t){return{baseLanes:t,cachePool:null,transitions:null}}function xp(t,e,n){var r=e.pendingProps,i=se.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ee(se,i&1),t===null)return Il(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=rs(s,r,0,null),t=Cn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ul(n),e.memoizedState=Ll,t):Ya(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ky(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=on(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=on(l,o):(o=Cn(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ul(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ll,r}return o=t.child,t=o.sibling,r=on(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ya(t,e){return e=rs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hi(t,e,n,r){return r!==null&&Ua(r),pr(e,t.child,null,n),t=Ya(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ky(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Bs(Error(P(422))),Hi(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=rs({mode:"visible",children:r.children},i,0,null),o=Cn(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&pr(e,t.child,null,s),e.child.memoizedState=Ul(s),e.memoizedState=Ll,o);if(!(e.mode&1))return Hi(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(P(419)),r=Bs(o,r,void 0),Hi(t,e,s,r)}if(l=(s&t.childLanes)!==0,$e||l){if(r=xe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Dt(t,i),gt(r,t,i,-1))}return nu(),r=Bs(Error(P(421))),Hi(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a0.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,je=en(i.nextSibling),Ge=e,ie=!0,pt=null,t!==null&&(Ke[Ye++]=At,Ke[Ye++]=Pt,Ke[Ye++]=kn,At=t.id,Pt=t.overflow,kn=e),e=Ya(e,r.children),e.flags|=4096,e)}function Ac(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Al(t.return,e,n)}function qs(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _p(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(be(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ac(t,n,e);else if(t.tag===19)Ac(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(se,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ro(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ro(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qs(e,!0,n,null,o);break;case"together":qs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ao(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),In|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=on(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=on(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yy(t,e,n){switch(e.tag){case 3:vp(e),hr();break;case 5:zh(e);break;case 1:Be(e.type)&&Eo(e);break;case 4:Oa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ee(Io,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ee(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?xp(t,e,n):(ee(se,se.current&1),t=Lt(t,e,n),t!==null?t.sibling:null);ee(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _p(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,gp(t,e,n)}return Lt(t,e,n)}var wp,Fl,Sp,Tp;wp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fl=function(){};Sp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sn(Ct.current);var o=null;switch(n){case"input":i=ol(t,i),r=ol(t,r),o=[];break;case"select":i=ae({},i,{value:void 0}),r=ae({},r,{value:void 0}),o=[];break;case"textarea":i=al(t,i),r=al(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=To)}cl(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ii.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ii.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&te("scroll",t),o||l===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};Tp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lr(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qy(t,e,n){var r=e.pendingProps;switch(La(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Be(e.type)&&Co(),ke(e),null;case 3:return r=e.stateNode,mr(),re(Ve),re(Ae),Ga(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ji(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pt!==null&&(Hl(pt),pt=null))),Fl(t,e),ke(e),null;case 5:ja(e);var i=Sn(gi.current);if(n=e.type,t!==null&&e.stateNode!=null)Sp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return ke(e),null}if(t=Sn(Ct.current),ji(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[St]=e,r[pi]=o,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)te(Or[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":$u(r,o),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},te("invalid",r);break;case"textarea":Bu(r,o),te("invalid",r)}cl(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Oi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Oi(r.textContent,l,t),i=["children",""+l]):ii.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":Di(r),Vu(r,o,!0);break;case"textarea":Di(r),qu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=To)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[St]=e,t[pi]=r,wp(t,e,!1,!1),e.stateNode=t;e:{switch(s=dl(n,r),n){case"dialog":te("cancel",t),te("close",t),i=r;break;case"iframe":case"object":case"embed":te("load",t),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)te(Or[i],t);i=r;break;case"source":te("error",t),i=r;break;case"img":case"image":case"link":te("error",t),te("load",t),i=r;break;case"details":te("toggle",t),i=r;break;case"input":$u(t,r),i=ol(t,r),te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ae({},r,{value:void 0}),te("invalid",t);break;case"textarea":Bu(t,r),i=al(t,r),te("invalid",t);break;default:i=r}cl(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?eh(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Xf(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&oi(t,u):typeof u=="number"&&oi(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ii.hasOwnProperty(o)?u!=null&&o==="onScroll"&&te("scroll",t):u!=null&&_a(t,o,u,s))}switch(n){case"input":Di(t),Vu(t,r,!1);break;case"textarea":Di(t),qu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?nr(t,!!r.multiple,o,!1):r.defaultValue!=null&&nr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=To)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)Tp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Sn(gi.current),Sn(Ct.current),ji(e)){if(r=e.stateNode,n=e.memoizedProps,r[St]=e,(o=r.nodeValue!==n)&&(t=Ge,t!==null))switch(t.tag){case 3:Oi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=e,e.stateNode=r}return ke(e),null;case 13:if(re(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&je!==null&&e.mode&1&&!(e.flags&128))qh(),hr(),e.flags|=98560,o=!1;else if(o=ji(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(P(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[St]=e}else hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),o=!1}else pt!==null&&(Hl(pt),pt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?ye===0&&(ye=3):nu())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return mr(),Fl(t,e),t===null&&fi(e.stateNode.containerInfo),ke(e),null;case 10:return Va(e.type._context),ke(e),null;case 17:return Be(e.type)&&Co(),ke(e),null;case 19:if(re(se),o=e.memoizedState,o===null)return ke(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Lr(o,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ro(t),s!==null){for(e.flags|=128,Lr(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(se,se.current&1|2),e.child}t=t.sibling}o.tail!==null&&de()>yr&&(e.flags|=128,r=!0,Lr(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ro(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ie)return ke(e),null}else 2*de()-o.renderingStartTime>yr&&n!==1073741824&&(e.flags|=128,r=!0,Lr(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=de(),e.sibling=null,n=se.current,ee(se,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return tu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oe&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Xy(t,e){switch(La(e),e.tag){case 1:return Be(e.type)&&Co(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mr(),re(Ve),re(Ae),Ga(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ja(e),null;case 13:if(re(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(se),null;case 4:return mr(),null;case 10:return Va(e.type._context),null;case 22:case 23:return tu(),null;case 24:return null;default:return null}}var zi=!1,Ne=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,U=null;function Zn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(t,e,r)}else n.current=null}function $l(t,e,n){try{n()}catch(r){ce(t,e,r)}}var Pc=!1;function e0(t,e){if(wl=_o,t=Ih(),Ma(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,d=0,h=0,p=t,m=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===n&&++d===i&&(l=s),m===o&&++h===r&&(u=s),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sl={focusedElem:t,selectionRange:n},_o=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,C=_.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:dt(e.type,w),C);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ce(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return _=Pc,Pc=!1,_}function Qr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&$l(e,n,o)}i=i.next}while(i!==r)}}function ts(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cp(t){var e=t.alternate;e!==null&&(t.alternate=null,Cp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[St],delete e[pi],delete e[El],delete e[Uy],delete e[Fy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ep(t){return t.tag===5||t.tag===3||t.tag===4}function Rc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=To));else if(r!==4&&(t=t.child,t!==null))for(Bl(t,e,n),t=t.sibling;t!==null;)Bl(t,e,n),t=t.sibling}function ql(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ql(t,e,n),t=t.sibling;t!==null;)ql(t,e,n),t=t.sibling}var Se=null,ft=!1;function Vt(t,e,n){for(n=n.child;n!==null;)kp(t,e,n),n=n.sibling}function kp(t,e,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Jo,n)}catch{}switch(n.tag){case 5:Ne||Zn(n,e);case 6:var r=Se,i=ft;Se=null,Vt(t,e,n),Se=r,ft=i,Se!==null&&(ft?(t=Se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(ft?(t=Se,n=n.stateNode,t.nodeType===8?Ds(t.parentNode,n):t.nodeType===1&&Ds(t,n),ui(t)):Ds(Se,n.stateNode));break;case 4:r=Se,i=ft,Se=n.stateNode.containerInfo,ft=!0,Vt(t,e,n),Se=r,ft=i;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&$l(n,e,s),i=i.next}while(i!==r)}Vt(t,e,n);break;case 1:if(!Ne&&(Zn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ce(n,e,l)}Vt(t,e,n);break;case 21:Vt(t,e,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Vt(t,e,n),Ne=r):Vt(t,e,n);break;default:Vt(t,e,n)}}function bc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zy),e.forEach(function(r){var i=u0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function at(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,ft=!1;break e;case 3:Se=l.stateNode.containerInfo,ft=!0;break e;case 4:Se=l.stateNode.containerInfo,ft=!0;break e}l=l.return}if(Se===null)throw Error(P(160));kp(o,s,i),Se=null,ft=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){ce(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Np(e,t),e=e.sibling}function Np(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(at(e,t),xt(t),r&4){try{Qr(3,t,t.return),ts(3,t)}catch(w){ce(t,t.return,w)}try{Qr(5,t,t.return)}catch(w){ce(t,t.return,w)}}break;case 1:at(e,t),xt(t),r&512&&n!==null&&Zn(n,n.return);break;case 5:if(at(e,t),xt(t),r&512&&n!==null&&Zn(n,n.return),t.flags&32){var i=t.stateNode;try{oi(i,"")}catch(w){ce(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Kf(i,o),dl(l,s);var d=dl(l,o);for(s=0;s<u.length;s+=2){var h=u[s],p=u[s+1];h==="style"?eh(i,p):h==="dangerouslySetInnerHTML"?Xf(i,p):h==="children"?oi(i,p):_a(i,h,p,d)}switch(l){case"input":sl(i,o);break;case"textarea":Yf(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?nr(i,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?nr(i,!!o.multiple,o.defaultValue,!0):nr(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(w){ce(t,t.return,w)}}break;case 6:if(at(e,t),xt(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){ce(t,t.return,w)}}break;case 3:if(at(e,t),xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(e.containerInfo)}catch(w){ce(t,t.return,w)}break;case 4:at(e,t),xt(t);break;case 13:at(e,t),xt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Za=de())),r&4&&bc(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ne=(d=Ne)||h,at(e,t),Ne=d):at(e,t),xt(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(U=t,h=t.child;h!==null;){for(p=U=h;U!==null;){switch(m=U,g=m.child,m.tag){case 0:case 11:case 14:case 15:Qr(4,m,m.return);break;case 1:Zn(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){ce(r,n,w)}}break;case 5:Zn(m,m.return);break;case 22:if(m.memoizedState!==null){Dc(p);continue}}g!==null?(g.return=m,U=g):Dc(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Zf("display",s))}catch(w){ce(t,t.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(w){ce(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:at(e,t),xt(t),r&4&&bc(t);break;case 21:break;default:at(e,t),xt(t)}}function xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ep(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oi(i,""),r.flags&=-33);var o=Rc(t);ql(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Rc(t);Bl(t,l,s);break;default:throw Error(P(161))}}catch(u){ce(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t0(t,e,n){U=t,Ip(t)}function Ip(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||zi;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ne;l=zi;var d=Ne;if(zi=s,(Ne=u)&&!d)for(U=i;U!==null;)s=U,u=s.child,s.tag===22&&s.memoizedState!==null?Lc(i):u!==null?(u.return=s,U=u):Lc(i);for(;o!==null;)U=o,Ip(o),o=o.sibling;U=i,zi=l,Ne=d}Mc(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,U=o):Mc(t)}}function Mc(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ne||ts(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&yc(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yc(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&ui(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ne||e.flags&512&&Vl(e)}catch(m){ce(e,e.return,m)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Dc(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function Lc(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ts(4,e)}catch(u){ce(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ce(e,i,u)}}var o=e.return;try{Vl(e)}catch(u){ce(e,o,u)}break;case 5:var s=e.return;try{Vl(e)}catch(u){ce(e,s,u)}}}catch(u){ce(e,e.return,u)}if(e===t){U=null;break}var l=e.sibling;if(l!==null){l.return=e.return,U=l;break}U=e.return}}var n0=Math.ceil,Do=Ut.ReactCurrentDispatcher,Qa=Ut.ReactCurrentOwner,Xe=Ut.ReactCurrentBatchConfig,W=0,xe=null,fe=null,Te=0,Oe=0,er=un(0),ye=0,_i=null,In=0,ns=0,Xa=0,Xr=null,Ue=null,Za=0,yr=1/0,kt=null,Lo=!1,Ol=null,nn=null,Ji=!1,Kt=null,Uo=0,Zr=0,jl=null,uo=-1,co=0;function Me(){return W&6?de():uo!==-1?uo:uo=de()}function rn(t){return t.mode&1?W&2&&Te!==0?Te&-Te:Vy.transition!==null?(co===0&&(co=fh()),co):(t=Y,t!==0||(t=window.event,t=t===void 0?16:xh(t.type)),t):1}function gt(t,e,n,r){if(50<Zr)throw Zr=0,jl=null,Error(P(185));Ti(t,n,r),(!(W&2)||t!==xe)&&(t===xe&&(!(W&2)&&(ns|=n),ye===4&&Ht(t,Te)),qe(t,r),n===1&&W===0&&!(e.mode&1)&&(yr=de()+500,Xo&&cn()))}function qe(t,e){var n=t.callbackNode;Vg(t,e);var r=xo(t,t===xe?Te:0);if(r===0)n!==null&&Gu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gu(n),e===1)t.tag===0?$y(Uc.bind(null,t)):$h(Uc.bind(null,t)),Dy(function(){!(W&6)&&cn()}),n=null;else{switch(hh(r)){case 1:n=Ea;break;case 4:n=ch;break;case 16:n=vo;break;case 536870912:n=dh;break;default:n=vo}n=Up(n,Ap.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ap(t,e){if(uo=-1,co=0,W&6)throw Error(P(327));var n=t.callbackNode;if(lr()&&t.callbackNode!==n)return null;var r=xo(t,t===xe?Te:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fo(t,r);else{e=r;var i=W;W|=2;var o=Rp();(xe!==t||Te!==e)&&(kt=null,yr=de()+500,Tn(t,e));do try{o0();break}catch(l){Pp(t,l)}while(!0);$a(),Do.current=o,W=i,fe!==null?e=0:(xe=null,Te=0,e=ye)}if(e!==0){if(e===2&&(i=gl(t),i!==0&&(r=i,e=Gl(t,i))),e===1)throw n=_i,Tn(t,0),Ht(t,r),qe(t,de()),n;if(e===6)Ht(t,r);else{if(i=t.current.alternate,!(r&30)&&!r0(i)&&(e=Fo(t,r),e===2&&(o=gl(t),o!==0&&(r=o,e=Gl(t,o))),e===1))throw n=_i,Tn(t,0),Ht(t,r),qe(t,de()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:yn(t,Ue,kt);break;case 3:if(Ht(t,r),(r&130023424)===r&&(e=Za+500-de(),10<e)){if(xo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Me(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cl(yn.bind(null,t,Ue,kt),e);break}yn(t,Ue,kt);break;case 4:if(Ht(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-mt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n0(r/1960))-r,10<r){t.timeoutHandle=Cl(yn.bind(null,t,Ue,kt),r);break}yn(t,Ue,kt);break;case 5:yn(t,Ue,kt);break;default:throw Error(P(329))}}}return qe(t,de()),t.callbackNode===n?Ap.bind(null,t):null}function Gl(t,e){var n=Xr;return t.current.memoizedState.isDehydrated&&(Tn(t,e).flags|=256),t=Fo(t,e),t!==2&&(e=Ue,Ue=n,e!==null&&Hl(e)),t}function Hl(t){Ue===null?Ue=t:Ue.push.apply(Ue,t)}function r0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ht(t,e){for(e&=~Xa,e&=~ns,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mt(e),r=1<<n;t[n]=-1,e&=~r}}function Uc(t){if(W&6)throw Error(P(327));lr();var e=xo(t,0);if(!(e&1))return qe(t,de()),null;var n=Fo(t,e);if(t.tag!==0&&n===2){var r=gl(t);r!==0&&(e=r,n=Gl(t,r))}if(n===1)throw n=_i,Tn(t,0),Ht(t,e),qe(t,de()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yn(t,Ue,kt),qe(t,de()),null}function eu(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(yr=de()+500,Xo&&cn())}}function An(t){Kt!==null&&Kt.tag===0&&!(W&6)&&lr();var e=W;W|=1;var n=Xe.transition,r=Y;try{if(Xe.transition=null,Y=1,t)return t()}finally{Y=r,Xe.transition=n,W=e,!(W&6)&&cn()}}function tu(){Oe=er.current,re(er)}function Tn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,My(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(La(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Co();break;case 3:mr(),re(Ve),re(Ae),Ga();break;case 5:ja(r);break;case 4:mr();break;case 13:re(se);break;case 19:re(se);break;case 10:Va(r.type._context);break;case 22:case 23:tu()}n=n.return}if(xe=t,fe=t=on(t.current,null),Te=Oe=e,ye=0,_i=null,Xa=ns=In=0,Ue=Xr=null,wn!==null){for(e=0;e<wn.length;e++)if(n=wn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}wn=null}return t}function Pp(t,e){do{var n=fe;try{if($a(),so.current=Mo,bo){for(var r=le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bo=!1}if(Nn=0,ve=ge=le=null,Yr=!1,yi=0,Qa.current=null,n===null||n.return===null){ye=1,_i=e,fe=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=Te,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Tc(s);if(g!==null){g.flags&=-257,Cc(g,s,l,o,e),g.mode&1&&Sc(o,d,e),e=g,u=d;var _=e.updateQueue;if(_===null){var w=new Set;w.add(u),e.updateQueue=w}else _.add(u);break e}else{if(!(e&1)){Sc(o,d,e),nu();break e}u=Error(P(426))}}else if(ie&&l.mode&1){var C=Tc(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Cc(C,s,l,o,e),Ua(gr(u,l));break e}}o=u=gr(u,l),ye!==4&&(ye=2),Xr===null?Xr=[o]:Xr.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=hp(o,u,e);gc(o,x);break e;case 1:l=u;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(nn===null||!nn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=pp(o,l,e);gc(o,S);break e}}o=o.return}while(o!==null)}Mp(n)}catch(k){e=k,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Rp(){var t=Do.current;return Do.current=Mo,t===null?Mo:t}function nu(){(ye===0||ye===3||ye===2)&&(ye=4),xe===null||!(In&268435455)&&!(ns&268435455)||Ht(xe,Te)}function Fo(t,e){var n=W;W|=2;var r=Rp();(xe!==t||Te!==e)&&(kt=null,Tn(t,e));do try{i0();break}catch(i){Pp(t,i)}while(!0);if($a(),W=n,Do.current=r,fe!==null)throw Error(P(261));return xe=null,Te=0,ye}function i0(){for(;fe!==null;)bp(fe)}function o0(){for(;fe!==null&&!Pg();)bp(fe)}function bp(t){var e=Lp(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Mp(t):fe=e,Qa.current=null}function Mp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xy(n,e),n!==null){n.flags&=32767,fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,fe=null;return}}else if(n=Qy(n,e,Oe),n!==null){fe=n;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);ye===0&&(ye=5)}function yn(t,e,n){var r=Y,i=Xe.transition;try{Xe.transition=null,Y=1,s0(t,e,n,r)}finally{Xe.transition=i,Y=r}return null}function s0(t,e,n,r){do lr();while(Kt!==null);if(W&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bg(t,o),t===xe&&(fe=xe=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ji||(Ji=!0,Up(vo,function(){return lr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Xe.transition,Xe.transition=null;var s=Y;Y=1;var l=W;W|=4,Qa.current=null,e0(t,n),Np(n,t),ky(Sl),_o=!!wl,Sl=wl=null,t.current=n,t0(n),Rg(),W=l,Y=s,Xe.transition=o}else t.current=n;if(Ji&&(Ji=!1,Kt=t,Uo=i),o=t.pendingLanes,o===0&&(nn=null),Dg(n.stateNode),qe(t,de()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lo)throw Lo=!1,t=Ol,Ol=null,t;return Uo&1&&t.tag!==0&&lr(),o=t.pendingLanes,o&1?t===jl?Zr++:(Zr=0,jl=t):Zr=0,cn(),null}function lr(){if(Kt!==null){var t=hh(Uo),e=Xe.transition,n=Y;try{if(Xe.transition=null,Y=16>t?16:t,Kt===null)var r=!1;else{if(t=Kt,Kt=null,Uo=0,W&6)throw Error(P(331));var i=W;for(W|=4,U=t.current;U!==null;){var o=U,s=o.child;if(U.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(U=d;U!==null;){var h=U;switch(h.tag){case 0:case 11:case 15:Qr(8,h,o)}var p=h.child;if(p!==null)p.return=h,U=p;else for(;U!==null;){h=U;var m=h.sibling,g=h.return;if(Cp(h),h===d){U=null;break}if(m!==null){m.return=g,U=m;break}U=g}}}var _=o.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}U=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,U=s;else e:for(;U!==null;){if(o=U,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Qr(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,U=x;break e}U=o.return}}var y=t.current;for(U=y;U!==null;){s=U;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,U=v;else e:for(s=y;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ts(9,l)}}catch(k){ce(l,l.return,k)}if(l===s){U=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,U=S;break e}U=l.return}}if(W=i,cn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Jo,t)}catch{}r=!0}return r}finally{Y=n,Xe.transition=e}}return!1}function Fc(t,e,n){e=gr(n,e),e=hp(t,e,1),t=tn(t,e,1),e=Me(),t!==null&&(Ti(t,1,e),qe(t,e))}function ce(t,e,n){if(t.tag===3)Fc(t,t,n);else for(;e!==null;){if(e.tag===3){Fc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){t=gr(n,t),t=pp(e,t,1),e=tn(e,t,1),t=Me(),e!==null&&(Ti(e,1,t),qe(e,t));break}}e=e.return}}function l0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Me(),t.pingedLanes|=t.suspendedLanes&n,xe===t&&(Te&n)===n&&(ye===4||ye===3&&(Te&130023424)===Te&&500>de()-Za?Tn(t,0):Xa|=n),qe(t,e)}function Dp(t,e){e===0&&(t.mode&1?(e=Fi,Fi<<=1,!(Fi&130023424)&&(Fi=4194304)):e=1);var n=Me();t=Dt(t,e),t!==null&&(Ti(t,e,n),qe(t,n))}function a0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dp(t,n)}function u0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Dp(t,n)}var Lp;Lp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ve.current)$e=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $e=!1,Yy(t,e,n);$e=!!(t.flags&131072)}else $e=!1,ie&&e.flags&1048576&&Vh(e,No,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ao(t,e),t=e.pendingProps;var i=fr(e,Ae.current);sr(e,n),i=za(null,e,r,t,i,n);var o=Ja();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(r)?(o=!0,Eo(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qa(e),i.updater=es,e.stateNode=i,i._reactInternals=e,Rl(e,r,t,n),e=Dl(null,e,r,!0,o,n)):(e.tag=0,ie&&o&&Da(e),be(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ao(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d0(r),t=dt(r,t),i){case 0:e=Ml(null,e,r,t,n);break e;case 1:e=Nc(null,e,r,t,n);break e;case 11:e=Ec(null,e,r,t,n);break e;case 14:e=kc(null,e,r,dt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dt(r,i),Ml(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dt(r,i),Nc(t,e,r,i,n);case 3:e:{if(vp(e),t===null)throw Error(P(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Hh(t,e),Po(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=gr(Error(P(423)),e),e=Ic(t,e,r,n,i);break e}else if(r!==i){i=gr(Error(P(424)),e),e=Ic(t,e,r,n,i);break e}else for(je=en(e.stateNode.containerInfo.firstChild),Ge=e,ie=!0,pt=null,n=jh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===i){e=Lt(t,e,n);break e}be(t,e,r,n)}e=e.child}return e;case 5:return zh(e),t===null&&Il(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Tl(r,i)?s=null:o!==null&&Tl(r,o)&&(e.flags|=32),yp(t,e),be(t,e,s,n),e.child;case 6:return t===null&&Il(e),null;case 13:return xp(t,e,n);case 4:return Oa(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pr(e,null,r,n):be(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dt(r,i),Ec(t,e,r,i,n);case 7:return be(t,e,e.pendingProps,n),e.child;case 8:return be(t,e,e.pendingProps.children,n),e.child;case 12:return be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ee(Io,r._currentValue),r._currentValue=s,o!==null)if(yt(o.value,s)){if(o.children===i.children&&!Ve.current){e=Lt(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Rt(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Al(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(P(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Al(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}be(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sr(e,n),i=tt(i),r=r(i),e.flags|=1,be(t,e,r,n),e.child;case 14:return r=e.type,i=dt(r,e.pendingProps),i=dt(r.type,i),kc(t,e,r,i,n);case 15:return mp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dt(r,i),ao(t,e),e.tag=1,Be(r)?(t=!0,Eo(e)):t=!1,sr(e,n),fp(e,r,i),Rl(e,r,i,n),Dl(null,e,r,!0,t,n);case 19:return _p(t,e,n);case 22:return gp(t,e,n)}throw Error(P(156,e.tag))};function Up(t,e){return uh(t,e)}function c0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(t,e,n,r){return new c0(t,e,n,r)}function ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d0(t){if(typeof t=="function")return ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sa)return 11;if(t===Ta)return 14}return 2}function on(t,e){var n=t.alternate;return n===null?(n=Qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fo(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ru(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Gn:return Cn(n.children,i,o,e);case wa:s=8,i|=8;break;case tl:return t=Qe(12,n,e,i|2),t.elementType=tl,t.lanes=o,t;case nl:return t=Qe(13,n,e,i),t.elementType=nl,t.lanes=o,t;case rl:return t=Qe(19,n,e,i),t.elementType=rl,t.lanes=o,t;case zf:return rs(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gf:s=10;break e;case Hf:s=9;break e;case Sa:s=11;break e;case Ta:s=14;break e;case Ot:s=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Qe(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Cn(t,e,n,r){return t=Qe(7,t,r,e),t.lanes=n,t}function rs(t,e,n,r){return t=Qe(22,t,r,e),t.elementType=zf,t.lanes=n,t.stateNode={isHidden:!1},t}function Os(t,e,n){return t=Qe(6,t,null,e),t.lanes=n,t}function js(t,e,n){return e=Qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f0(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iu(t,e,n,r,i,o,s,l,u){return t=new f0(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qe(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qa(o),t}function h0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fp(t){if(!t)return ln;t=t._reactInternals;e:{if(bn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Be(n))return Fh(t,n,e)}return e}function $p(t,e,n,r,i,o,s,l,u){return t=iu(n,r,!0,t,i,o,s,l,u),t.context=Fp(null),n=t.current,r=Me(),i=rn(n),o=Rt(r,i),o.callback=e??null,tn(n,o,i),t.current.lanes=i,Ti(t,i,r),qe(t,r),t}function is(t,e,n,r){var i=e.current,o=Me(),s=rn(i);return n=Fp(n),e.context===null?e.context=n:e.pendingContext=n,e=Rt(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tn(i,e,s),t!==null&&(gt(t,i,s,o),oo(t,i,s)),s}function $o(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $c(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ou(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}function p0(){return null}var Vp=typeof reportError=="function"?reportError:function(t){console.error(t)};function su(t){this._internalRoot=t}os.prototype.render=su.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));is(t,e,null,null)};os.prototype.unmount=su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;An(function(){is(null,t,null,null)}),e[Mt]=null}};function os(t){this._internalRoot=t}os.prototype.unstable_scheduleHydration=function(t){if(t){var e=gh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gt.length&&e!==0&&e<Gt[n].priority;n++);Gt.splice(n,0,t),n===0&&vh(t)}};function lu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ss(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vc(){}function m0(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=$o(s);o.call(d)}}var s=$p(e,r,t,0,null,!1,!1,"",Vc);return t._reactRootContainer=s,t[Mt]=s.current,fi(t.nodeType===8?t.parentNode:t),An(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=$o(u);l.call(d)}}var u=iu(t,0,!1,null,null,!1,!1,"",Vc);return t._reactRootContainer=u,t[Mt]=u.current,fi(t.nodeType===8?t.parentNode:t),An(function(){is(e,u,n,r)}),u}function ls(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=$o(s);l.call(u)}}is(e,s,t,i)}else s=m0(n,e,t,i,r);return $o(s)}ph=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qr(e.pendingLanes);n!==0&&(ka(e,n|1),qe(e,de()),!(W&6)&&(yr=de()+500,cn()))}break;case 13:An(function(){var r=Dt(t,1);if(r!==null){var i=Me();gt(r,t,1,i)}}),ou(t,1)}};Na=function(t){if(t.tag===13){var e=Dt(t,134217728);if(e!==null){var n=Me();gt(e,t,134217728,n)}ou(t,134217728)}};mh=function(t){if(t.tag===13){var e=rn(t),n=Dt(t,e);if(n!==null){var r=Me();gt(n,t,e,r)}ou(t,e)}};gh=function(){return Y};yh=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};hl=function(t,e,n){switch(e){case"input":if(sl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qo(r);if(!i)throw Error(P(90));Wf(r),sl(r,i)}}}break;case"textarea":Yf(t,n);break;case"select":e=n.value,e!=null&&nr(t,!!n.multiple,e,!1)}};rh=eu;ih=An;var g0={usingClientEntryPoint:!1,Events:[Ei,Wn,Qo,th,nh,eu]},Ur={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y0={bundleType:Ur.bundleType,version:Ur.version,rendererPackageName:Ur.rendererPackageName,rendererConfig:Ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lh(t),t===null?null:t.stateNode},findFiberByHostInstance:Ur.findFiberByHostInstance||p0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{Jo=Wi.inject(y0),Tt=Wi}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0;Je.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lu(e))throw Error(P(200));return h0(t,e,null,n)};Je.createRoot=function(t,e){if(!lu(t))throw Error(P(299));var n=!1,r="",i=Vp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iu(t,1,!1,null,null,n,!1,r,i),t[Mt]=e.current,fi(t.nodeType===8?t.parentNode:t),new su(e)};Je.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=lh(e),t=t===null?null:t.stateNode,t};Je.flushSync=function(t){return An(t)};Je.hydrate=function(t,e,n){if(!ss(e))throw Error(P(200));return ls(null,t,e,!0,n)};Je.hydrateRoot=function(t,e,n){if(!lu(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Vp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=$p(e,null,t,1,n??null,i,!1,o,s),t[Mt]=e.current,fi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new os(e)};Je.render=function(t,e,n){if(!ss(e))throw Error(P(200));return ls(null,t,e,!1,n)};Je.unmountComponentAtNode=function(t){if(!ss(t))throw Error(P(40));return t._reactRootContainer?(An(function(){ls(null,null,t,!1,function(){t._reactRootContainer=null,t[Mt]=null})}),!0):!1};Je.unstable_batchedUpdates=eu;Je.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ss(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return ls(t,e,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Bp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bp)}catch(t){console.error(t)}}Bp(),Bf.exports=Je;var v0=Bf.exports,qp,Bc=v0;qp=Bc.createRoot,Bc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),j=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:u,...d},h)=>N.createElement("svg",{ref:h,...x0,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${_0(t)}`,l].join(" "),...d},[...e.map(([p,m])=>N.createElement(p,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=j("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=j("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"M8 7h6",key:"1f0q6e"}],["path",{d:"M8 11h8",key:"vwpz6n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=j("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=j("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=j("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=j("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=j("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=j("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=j("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=j("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=j("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=j("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=j("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=j("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=j("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=j("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=j("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=j("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=j("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=j("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=j("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=j("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=j("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=j("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=j("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=j("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=j("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=j("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=j("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=j("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=j("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=j("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=j("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=j("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=j("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=j("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=j("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=j("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=j("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=j("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=j("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=j("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=j("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=j("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=j("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=j("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),O0=({onAdminAccess:t,config:e})=>{const[n,r]=N.useState(0),i=N.useRef(null),o=()=>{const s=n+1;r(s),i.current&&window.clearTimeout(i.current),s===3?(r(0),t==null||t()):i.current=window.setTimeout(()=>{r(0)},1e3)};return f.jsxs("div",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-100 via-pink-50 to-orange-50",children:f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${e.hero.backgroundImage})`}})}),f.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((s,l)=>f.jsx(ze,{className:"absolute text-rose-300 opacity-20 animate-float",size:Math.random()*30+20,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+10}s`},fill:"currentColor"},l))}),f.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(15)].map((s,l)=>f.jsx(Bo,{className:"absolute text-amber-400 opacity-40 animate-sparkle",size:Math.random()*20+10,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*5+3}s`}},l))}),f.jsxs("div",{className:"relative z-10 text-center px-4",children:[f.jsxs("div",{className:"mb-8 animate-fade-in",children:[f.jsx("p",{className:"text-gray-700 font-serif text-lg mb-2",children:"The Wedding of"}),f.jsxs("h1",{className:"text-6xl md:text-8xl font-serif text-gray-800 mb-4 animate-scale-in",children:[e.couple.groom.name," & ",e.couple.bride.name]}),f.jsxs("div",{className:"flex items-center justify-center space-x-4 text-gray-600",children:[f.jsx("div",{className:"h-px w-16 bg-gray-400 animate-slide-in-left"}),f.jsxs("button",{onClick:o,className:"focus:outline-none transition-transform hover:scale-110 active:scale-95 cursor-pointer group relative",title:"Triple click for admin access","aria-label":"Heart icon - Triple click for admin access",children:[f.jsx(ze,{className:`text-rose-500 ${n>0?"animate-pulse":"animate-pulse-glow"}`,size:24,fill:"currentColor"}),n>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-rose-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold animate-bounce",children:n}),f.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Triple click me! "})]}),f.jsx("div",{className:"h-px w-16 bg-gray-400 animate-slide-in-right"})]})]}),f.jsxs("div",{className:"animate-fade-in-delay",children:[f.jsx("p",{className:"text-2xl font-light text-gray-700 mb-8",children:e.wedding.dateDisplay}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto leading-relaxed",children:e.hero.tagline})]}),f.jsx("div",{className:"mt-16 animate-bounce",children:f.jsx(S0,{size:32,className:"text-gray-600 mx-auto"})})]})]})};function j0({config:t}){const e=new Date(`${t.wedding.date}T${t.wedding.time}`).getTime(),[n,r]=N.useState({Hari:0,Jam:0,Menit:0,Detik:0});return N.useEffect(()=>{const i=()=>{const s=new Date().getTime(),l=e-s;r({Hari:Math.max(Math.floor(l/864e5),0),Jam:Math.max(Math.floor(l%864e5/36e5),0),Menit:Math.max(Math.floor(l%36e5/6e4),0),Detik:Math.max(Math.floor(l%6e4/1e3),0)})};i();const o=setInterval(i,1e3);return()=>clearInterval(o)},[e]),f.jsx("div",{className:"py-16 bg-gradient-to-r from-rose-500 to-orange-500",children:f.jsxs("div",{className:"container mx-auto px-4 text-center text-white",children:[f.jsx(zl,{size:48,className:"mx-auto mb-4"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-serif mb-12",children:"Menghitung Mundur Menuju Selamanya"}),f.jsx("div",{className:"flex flex-wrap justify-center gap-3 max-w-3xl mx-auto",children:Object.entries(n).map(([i,o],s)=>f.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 md:p-8 w-20 md:w-28 hover:bg-white/30 transition-all duration-300 hover:scale-105 hover:shadow-xl animate-fade-in-up flex flex-col items-center justify-center",style:{animationDelay:`${s*.1}s`},children:[f.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2 transition-transform duration-300",children:o.toString().padStart(2,"0")}),f.jsx("div",{className:"text-xs md:text-sm uppercase tracking-wider",children:i})]},i))})]})})}function Ni(){const t=N.useRef(null),[e,n]=N.useState(!1);return N.useEffect(()=>{const r=new IntersectionObserver(([o])=>{o.isIntersecting&&n(!0)},{threshold:.1,rootMargin:"50px"}),i=t.current;return i&&r.observe(i),()=>{i&&r.unobserve(i)}},[]),{elementRef:t,isVisible:e}}function G0({config:t}){const{bride:e,groom:n}=t.couple,r=({person:i,reverse:o})=>{const{elementRef:s,isVisible:l}=Ni();return f.jsxs("div",{ref:s,className:`flex flex-col ${o?"md:flex-row-reverse":"md:flex-row"} gap-8 items-center animate-on-scroll ${l?"visible":""}`,children:[f.jsx("div",{className:"md:w-5/12",children:f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-400 to-orange-400 rounded-2xl transform rotate-6 group-hover:rotate-12 transition-transform duration-500"}),f.jsx("img",{src:i.image,alt:i.name,className:"relative rounded-2xl w-full h-96 object-cover shadow-xl transform group-hover:scale-105 transition-transform duration-500"})]})}),f.jsxs("div",{className:"md:w-7/12 text-center md:text-left",children:[f.jsx("p",{className:"text-rose-500 font-medium mb-2",children:i.role}),f.jsx("h3",{className:"text-4xl md:text-5xl font-serif text-gray-800 mb-2",children:i.name}),f.jsx("p",{className:"text-xl text-gray-600 mb-4 font-light",children:i.fullName}),f.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 mb-6",children:[f.jsx("div",{className:"h-px w-12 bg-gray-300"}),f.jsx(ze,{className:"text-rose-400",size:16,fill:"currentColor"}),f.jsx("div",{className:"h-px w-12 bg-gray-300"})]}),f.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:i.bio}),f.jsx("p",{className:"text-gray-500 italic mb-6",children:i.parents}),f.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-4",children:[f.jsxs("a",{href:`https://instagram.com/${i.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-gray-600 hover:text-rose-500 transition-colors",children:[f.jsx(A0,{size:20}),f.jsx("span",{className:"text-sm",children:i.instagram})]}),f.jsxs("a",{href:`mailto:${i.email}`,className:"flex items-center space-x-2 text-gray-600 hover:text-rose-500 transition-colors",children:[f.jsx(cu,{size:20}),f.jsx("span",{className:"text-sm",children:i.email})]})]})]})]})};return f.jsx("div",{className:"py-20 bg-gradient-to-br from-orange-50 via-rose-50 to-pink-50",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-gray-800 mb-4",children:"Perkenalkan Kami"}),f.jsx("p",{className:"text-gray-600",children:"Dua Jiwa, Satu Hati"})]}),f.jsxs("div",{className:"max-w-6xl mx-auto space-y-20",children:[f.jsx(r,{person:e}),f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"bg-white rounded-full p-6 shadow-lg animate-pulse-glow",children:f.jsx(ze,{className:"text-rose-500",size:48,fill:"currentColor"})})}),f.jsx(r,{person:n,reverse:!0})]})]})})}function H0({config:t}){const[e,n]=N.useState(0),[r,i]=N.useState(0),[o,s]=N.useState(0),[l,u]=N.useState(!1),[d,h]=N.useState(0),p=N.useRef(null),m=t.story,g=50,_=A=>{i(A.touches[0].clientX),u(!0)},w=A=>{if(!l)return;const R=A.touches[0].clientX,b=R-r;h(b),s(R)},C=()=>{if(u(!1),h(0),!r||!o)return;const A=r-o,R=A>g,b=A<-g;R&&e<m.length-1&&n(e+1),b&&e>0&&n(e-1)},x=A=>{i(A.clientX),u(!0)},y=A=>{if(!l)return;const R=A.clientX-r;h(R),s(A.clientX)},v=()=>{if(u(!1),h(0),!r||!o)return;const A=r-o,R=A>g,b=A<-g;R&&e<m.length-1&&n(e+1),b&&e>0&&n(e-1)},S=()=>{e<m.length-1&&n(e+1)},k=()=>{e>0&&n(e-1)},{elementRef:E,isVisible:I}=Ni();return N.useEffect(()=>{const A=setInterval(()=>{n(R=>(R+1)%m.length)},5e3);return()=>clearInterval(A)},[m.length]),f.jsx("div",{className:"py-20 bg-white overflow-hidden",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-gray-800 mb-4",children:"Kisah Cinta Kami"}),f.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[f.jsx("div",{className:"h-px w-16 bg-gray-300"}),f.jsx(ze,{className:"text-rose-500",size:20,fill:"currentColor"}),f.jsx("div",{className:"h-px w-16 bg-gray-300"})]})]}),f.jsxs("div",{ref:E,className:`relative z-[30] max-w-6xl mx-auto relative animate-on-scroll ${I?"visible":""}`,children:[f.jsxs("div",{ref:p,className:"relative overflow-hidden rounded-2xl shadow-2xl cursor-grab active:cursor-grabbing",onTouchStart:_,onTouchMove:w,onTouchEnd:C,onMouseDown:x,onMouseMove:y,onMouseUp:v,onMouseLeave:v,children:[f.jsx("div",{className:"flex transition-transform duration-500 ease-out",style:{transform:l?`translateX(calc(-${e*100}% + ${d}px))`:`translateX(-${e*100}%)`},children:m.map((A,R)=>f.jsxs("div",{className:"min-w-full flex flex-col md:flex-row items-center gap-8 p-8 md:p-12 bg-gradient-to-br from-rose-50 via-pink-50 to-orange-50",children:[f.jsx("div",{className:"md:w-1/2 w-full",children:f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-400 to-orange-400 rounded-2xl transform rotate-3 group-hover:rotate-6 transition-transform duration-500"}),f.jsx("img",{src:A.image,alt:A.title,className:"relative rounded-2xl w-full h-80 md:h-96 object-cover shadow-xl transform group-hover:scale-105 transition-transform duration-500",draggable:"false"})]})}),f.jsxs("div",{className:"md:w-1/2 w-full text-center md:text-left",children:[f.jsx("div",{className:"inline-block bg-rose-500 text-white px-4 py-2 rounded-full text-sm font-medium mb-4",children:A.date}),f.jsx("h3",{className:"text-4xl md:text-5xl font-serif text-gray-800 mb-6",children:A.title}),f.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 mb-6",children:[f.jsx("div",{className:"h-px w-12 bg-gray-300"}),f.jsx(ze,{className:"text-rose-400",size:16,fill:"currentColor"}),f.jsx("div",{className:"h-px w-12 bg-gray-300"})]}),f.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:A.description})]})]},R))}),f.jsx("button",{onClick:k,disabled:e===0,className:`absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition-all duration-300 z-10 ${e===0?"opacity-30 cursor-not-allowed":"hover:scale-110"}`,children:f.jsx(Op,{className:"text-gray-800",size:24})}),f.jsx("button",{onClick:S,disabled:e===m.length-1,className:`absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition-all duration-300 z-10 ${e===m.length-1?"opacity-30 cursor-not-allowed":"hover:scale-110"}`,children:f.jsx(jp,{className:"text-gray-800",size:24})})]}),f.jsx("div",{className:"flex justify-center items-center space-x-3 mt-8",children:m.map((A,R)=>f.jsx("button",{onClick:()=>n(R),className:`transition-all duration-300 rounded-full ${e===R?"w-12 h-3 bg-rose-500":"w-3 h-3 bg-gray-300 hover:bg-rose-300"}`},R))}),f.jsx("div",{className:"mt-4 max-w-md mx-auto",children:f.jsx("div",{className:"h-1 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-rose-500 to-orange-500 transition-all duration-500",style:{width:`${(e+1)/m.length*100}%`}})})}),f.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:f.jsx("p",{className:"animate-pulse",children:" Swipe or drag to explore "})})]})]})})}function z0({config:t}){const[e,n]=N.useState(0),[r,i]=N.useState(0),[o,s]=N.useState(!0),l=t.events;N.useEffect(()=>{if(!o)return;const p=setInterval(()=>{i(m=>{const g=m+.5;return g>=100?(setTimeout(()=>i(0),1e3),100):g})},30);return()=>clearInterval(p)},[o]),N.useEffect(()=>{r>50?n(1):r<50&&n(0)},[r]);const{elementRef:u,isVisible:d}=Ni(),h=p=>p.toLowerCase().includes("akad")?Vo:p.toLowerCase().includes("resepsi")?zl:jc;return f.jsxs("div",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-orange-50 via-rose-50 to-pink-50 overflow-hidden relative",children:[f.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-rose-300 rounded-full filter blur-3xl opacity-30 animate-float"}),f.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-orange-300 rounded-full filter blur-3xl opacity-30 animate-float",style:{animationDelay:"2s"}}),f.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-8 sm:mb-12 lg:mb-16",children:[f.jsx("div",{className:"inline-block mb-4",children:f.jsx("div",{className:"bg-white rounded-full px-6 py-2 shadow-md",children:f.jsx("span",{className:"text-rose-600 font-semibold text-sm",children:"Informasi Acara"})})}),f.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-serif text-gray-800 mb-3 sm:mb-4",children:"Kapan & Dimana"}),f.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg max-w-2xl mx-auto px-4",children:"Ikuti perjalanan kami melalui hari yang sempurna"})]}),f.jsxs("div",{ref:u,className:`max-w-7xl mx-auto animate-on-scroll ${d?"visible":""}`,children:[f.jsxs("div",{className:"mb-8 sm:mb-12 lg:mb-16",children:[f.jsx("div",{className:"hidden sm:block",children:f.jsxs("div",{className:"relative px-4 sm:px-8 lg:px-12 py-8",children:[f.jsxs("div",{className:"relative h-24 sm:h-32 flex items-center",children:[f.jsx("div",{className:"absolute inset-x-0 h-3 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 rounded-full shadow-inner"}),f.jsx("div",{className:"absolute h-3 bg-gradient-to-r from-rose-500 via-pink-400 to-orange-500 rounded-full shadow-lg transition-all duration-300 ease-out",style:{width:`${r}%`,boxShadow:"0 0 20px rgba(244, 63, 94, 0.5)"},children:f.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full animate-pulse"})}),l.map((p,m)=>{const g=h(p.title);return f.jsx("button",{onClick:()=>{n(m),s(!1),setTimeout(()=>s(!0),3e3)},className:`absolute z-10 transition-all duration-500 transform ${m===0?"left-0":"right-0"} ${e===m?"scale-110":"scale-100 hover:scale-105"}`,children:f.jsxs("div",{className:"relative",children:[e===m&&f.jsx("div",{className:"absolute inset-0 -m-2",children:f.jsx("div",{className:`w-full h-full rounded-full bg-gradient-to-r ${p.color} opacity-40 animate-ping`})}),f.jsx("div",{className:`relative w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 rounded-full bg-gradient-to-br ${p.color} p-1 shadow-2xl`,children:f.jsx("div",{className:"w-full h-full bg-white rounded-full flex items-center justify-center",children:f.jsx(g,{className:`${e===m?p.iconColor:"text-gray-400"} transition-colors`,size:window.innerWidth<640?20:window.innerWidth<1024?24:32})})}),f.jsx("div",{className:`absolute -bottom-14 left-1/2 -translate-x-1/2 transition-all duration-300 ${e===m?"opacity-100 translate-y-0":"opacity-70 translate-y-1"}`,children:f.jsx("div",{className:`bg-gradient-to-r ${p.color} text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-bold shadow-lg whitespace-nowrap`,children:p.time})}),f.jsx("div",{className:`absolute -top-12 left-1/2 -translate-x-1/2 text-center whitespace-nowrap transition-all duration-300 ${e===m?"opacity-100":"opacity-60"}`,children:f.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-700",children:p.title})})]})},m)}),f.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 transition-all duration-300 ease-out z-20",style:{left:`${r}%`},children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 bg-rose-500 rounded-full filter blur-md opacity-50 animate-pulse"}),f.jsx("div",{className:"relative bg-white p-2.5 sm:p-3 rounded-full shadow-2xl ring-2 ring-rose-400 animate-bounce",children:f.jsx(qc,{className:"text-rose-600",size:window.innerWidth<640?16:20})})]})})]}),f.jsx("div",{className:"text-center mt-16 sm:mt-20",children:f.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white rounded-full px-4 py-2 shadow-md",children:[f.jsx(Hc,{className:"text-rose-600",size:16}),f.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Perjalanan: ",Math.round(r),"%"]})]})})]})}),f.jsx("div",{className:"sm:hidden flex gap-3 px-4 mb-8",children:l.map((p,m)=>{const g=h(p.title);return f.jsxs("button",{onClick:()=>n(m),className:`flex-1 py-4 rounded-2xl transition-all duration-300 ${e===m?`bg-gradient-to-br ${p.color} text-white shadow-xl scale-105 ring-4 ${p.ringColor} ring-opacity-30`:"bg-white text-gray-600 shadow-md hover:shadow-lg"}`,children:[f.jsx(g,{className:"mx-auto mb-2",size:24}),f.jsx("div",{className:"text-xs font-bold",children:p.time}),f.jsx("div",{className:"text-[10px] opacity-80",children:p.duration})]},m)})})]}),f.jsx("div",{className:"grid sm:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-8 sm:mb-12",children:l.map((p,m)=>{const g=h(p.title);return f.jsxs("div",{onClick:()=>n(m),className:`group bg-white rounded-3xl shadow-xl overflow-hidden transition-all duration-500 cursor-pointer ${e===m?`scale-100 sm:scale-105 shadow-2xl ring-4 ${p.ringColor}`:"hover:scale-102 hover:shadow-2xl opacity-90 hover:opacity-100"}`,children:[f.jsxs("div",{className:`relative bg-gradient-to-br ${p.color} p-6 sm:p-8 text-white overflow-hidden`,children:[f.jsx("div",{className:"absolute inset-0 opacity-10",children:f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,_white_1px,_transparent_1px)] bg-[length:20px_20px] animate-pulse"})}),f.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white rounded-full opacity-10"}),f.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-white rounded-full opacity-10"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-2xl group-hover:scale-110 transition-transform",children:f.jsx(g,{size:28})}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-3xl sm:text-4xl font-bold tracking-tight",children:p.time}),f.jsx("div",{className:"text-sm opacity-90 mt-1",children:p.duration})]})]}),f.jsx("h3",{className:"text-2xl sm:text-3xl font-serif font-bold tracking-wide",children:p.title})]})]}),f.jsxs("div",{className:"p-5 sm:p-6 space-y-4",children:[f.jsxs("div",{className:"flex items-start space-x-3 group/item",children:[f.jsx("div",{className:`${p.bgColor} p-2.5 rounded-xl group-hover/item:scale-110 transition-transform`,children:f.jsx(Jl,{className:p.iconColor,size:20})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-bold text-gray-800 text-sm sm:text-base",children:p.location}),f.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mt-0.5 line-clamp-2",children:p.address})]})]}),f.jsx("p",{className:"text-gray-600 text-sm leading-relaxed pl-12",children:p.description}),f.jsxs("div",{className:"flex items-center gap-3 pl-12 pt-2",children:[f.jsxs("a",{href:`tel:${p.phone}`,className:"flex items-center gap-1.5 text-xs text-gray-500 hover:text-rose-600 transition-colors",onClick:_=>_.stopPropagation(),children:[f.jsx(D0,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Telepon"})]}),f.jsx("div",{className:"w-px h-4 bg-gray-300"}),f.jsxs("a",{href:`mailto:${p.email}`,className:"flex items-center gap-1.5 text-xs text-gray-500 hover:text-rose-600 transition-colors",onClick:_=>_.stopPropagation(),children:[f.jsx(cu,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Email"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 pt-3",children:[f.jsxs("button",{className:`bg-gradient-to-r ${p.color} text-white py-2.5 sm:py-3 rounded-xl font-semibold text-xs sm:text-sm transition-all duration-300 hover:shadow-lg hover:scale-105 flex items-center justify-center gap-2`,onClick:_=>_.stopPropagation(),children:[f.jsx(Jl,{size:16}),f.jsx("span",{children:"Petunjuk"})]}),f.jsxs("button",{className:"bg-gray-100 text-gray-800 py-2.5 sm:py-3 rounded-xl font-semibold text-xs sm:text-sm transition-all duration-300 hover:bg-gray-200 hover:scale-105 flex items-center justify-center gap-2",onClick:_=>_.stopPropagation(),children:[f.jsx(Vo,{size:16}),f.jsx("span",{children:"Simpan"})]})]})]}),f.jsx("div",{className:`h-1.5 sm:h-2 bg-gradient-to-r ${p.color}`})]},m)})}),f.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[f.jsx("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-lg p-5 sm:p-6 lg:p-8",children:f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6 lg:gap-8 text-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-rose-100 p-3 rounded-xl",children:f.jsx(zl,{className:"text-rose-600",size:20})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold text-gray-800 text-sm sm:text-base",children:"Jadwal Acara"}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"20:00 - 12:00"})]})]}),f.jsx("div",{className:"hidden sm:block w-px h-12 bg-gray-200"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-orange-100 p-3 rounded-xl",children:f.jsx(Hc,{className:"text-orange-600",size:20})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold text-gray-800 text-sm sm:text-base",children:"Jarak"}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"~5 KM"})]})]}),f.jsx("div",{className:"hidden sm:block w-px h-12 bg-gray-200"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-pink-100 p-3 rounded-xl",children:f.jsx(qc,{className:"text-pink-600",size:20})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold text-gray-800 text-sm sm:text-base",children:"Waktu Perjalanan"}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"~15 Menit"})]})]})]})}),f.jsx("div",{className:"bg-gradient-to-br from-rose-100 via-pink-100 to-orange-100 rounded-2xl sm:rounded-3xl p-5 sm:p-6 border-l-4 border-rose-500 shadow-md",children:f.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[f.jsx("div",{className:"bg-rose-500 text-white p-2.5 sm:p-3 rounded-xl shrink-0",children:f.jsx(jc,{size:20})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-bold text-gray-800 mb-2 text-sm sm:text-base",children:"Catatan Transportasi"}),f.jsx("p",{className:"text-gray-700 text-xs sm:text-sm leading-relaxed",children:"Layanan antar-jemput tersedia antar lokasi. Tempat parkir gratis di kedua venue. Kami sarankan tiba 15 menit lebih awal untuk kenyamanan Anda."})]})]})})]})]})]})]})}const J0=({image:t,index:e,onClick:n})=>{const{elementRef:r,isVisible:i}=Ni();return f.jsxs("div",{ref:r,className:`relative z-[30] backdrop-blur-sm group rounded-xl overflow-hidden cursor-pointer shadow-md hover:shadow-2xl transition-all duration-500 animate-on-scroll ${i?"visible":""} ${t.type==="portrait"?"md:row-span-2":""}`,onClick:n,style:{animationDelay:`${e*.05}s`},children:[f.jsx("img",{src:t.url,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 ease-in-out group-hover:scale-110",loading:"lazy"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:f.jsxs("div",{className:"absolute bottom-0 left-0 p-4 md:p-6 text-white",children:[f.jsx("h3",{className:"text-lg font-semibold transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500 ease-out",children:t.title}),f.jsx("p",{className:"text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100",children:"Click to view"})]})}),f.jsx("div",{className:"absolute top-3 right-3 bg-white/80 backdrop-blur-sm p-2 rounded-full transform scale-0 group-hover:scale-100 transition-transform duration-300 ease-out delay-100",children:f.jsx(R0,{size:16,className:"text-rose-600"})})]})};function W0({config:t}){const[e,n]=N.useState(null),[r,i]=N.useState(1),[o,s]=N.useState({x:0,y:0}),[l,u]=N.useState(!1),[d,h]=N.useState({x:0,y:0}),[p,m]=N.useState("all"),g=t.gallery,_=p==="all"?g:g.filter(M=>M.type===p),w=N.useCallback(()=>{i(1),s({x:0,y:0})},[]);N.useEffect(()=>{e===null?(w(),document.body.style.overflow="auto"):document.body.style.overflow="hidden"},[e,w]);const C=()=>i(M=>Math.min(M+.5,3)),x=()=>{i(M=>{const L=Math.max(M-.5,1);return L===1&&s({x:0,y:0}),L})},y=(M,L)=>{r>1&&(u(!0),h({x:M-o.x,y:L-o.y}))},v=(M,L)=>{l&&r>1&&s({x:M-d.x,y:L-d.y})},S=()=>u(!1),k=M=>y(M.clientX,M.clientY),E=M=>v(M.clientX,M.clientY),I=M=>M.touches.length===1&&y(M.touches[0].clientX,M.touches[0].clientY),A=M=>M.touches.length===1&&v(M.touches[0].clientX,M.touches[0].clientY),R=N.useCallback(()=>{e!==null&&(n(M=>M!==null&&M<_.length-1?M+1:M),w())},[e,_.length,w]),b=N.useCallback(()=>{e!==null&&(n(M=>M!==null&&M>0?M-1:M),w())},[e,w]),q=N.useCallback(M=>{if(e!==null)switch(M.key){case"ArrowRight":R();break;case"ArrowLeft":b();break;case"Escape":n(null);break;case"+":case"=":C();break;case"-":x();break}},[e,R,b]);return N.useEffect(()=>(window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)),[q]),f.jsxs("div",{className:"py-16 sm:py-24",children:[f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12 animate-slide-up",children:[f.jsx("h1",{className:"text-4xl md:text-6xl font-serif text-gray-800 mb-4",children:"Momen Bersama"}),f.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Koleksi momen-momen yang diabadikan, masing-masing menceritakan kisah cinta dan hubungan yang unik."})]}),f.jsx("div",{className:"flex justify-center space-x-2 sm:space-x-4 mb-12 animate-slide-up",style:{animationDelay:"0.2s"},children:["all","portrait","landscape"].map(M=>f.jsx("button",{onClick:()=>m(M),className:`px-5 py-2 rounded-full font-medium text-sm sm:text-base transition-all duration-300 ${p===M?"bg-gradient-to-r from-rose-500 to-orange-500 text-white shadow-lg scale-105":"bg-white text-gray-600 hover:bg-gray-100 shadow-sm"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 auto-rows-fr gap-4 max-w-7xl mx-auto",children:_.map((M,L)=>f.jsx(J0,{image:M,index:L,onClick:()=>n(L)},M.url))}),f.jsx("div",{className:"text-center mt-12 text-sm text-gray-500",children:f.jsxs("p",{children:["Showing ",_.length," of ",g.length," photos"]})})]}),e!==null&&f.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:()=>n(null),children:[f.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-2 z-20",children:[f.jsx("button",{onClick:M=>{M.stopPropagation(),x()},disabled:r<=1,className:"p-3 rounded-full text-white bg-black/30 backdrop-blur-lg hover:bg-white/20 transition disabled:opacity-50",children:f.jsx(q0,{size:20})}),f.jsx("button",{onClick:M=>{M.stopPropagation(),C()},disabled:r>=3,className:"p-3 rounded-full text-white bg-black/30 backdrop-blur-lg hover:bg-white/20 transition disabled:opacity-50",children:f.jsx(B0,{size:20})}),f.jsx("a",{href:_[e].url,download:!0,onClick:M=>M.stopPropagation(),className:"p-3 rounded-full text-white bg-black/30 backdrop-blur-lg hover:bg-white/20 transition",children:f.jsx(Gp,{size:20})}),f.jsx("button",{onClick:M=>{M.stopPropagation(),n(null)},className:"p-3 rounded-full text-white bg-black/30 backdrop-blur-lg hover:bg-rose-500 transition",children:f.jsx(du,{size:20})})]}),f.jsx("button",{onClick:M=>{M.stopPropagation(),b()},disabled:e===0,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full text-white bg-black/30 backdrop-blur-lg hover:bg-white/20 transition disabled:opacity-30 disabled:cursor-not-allowed z-20",children:f.jsx(Op,{size:32})}),f.jsx("button",{onClick:M=>{M.stopPropagation(),R()},disabled:e===_.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full text-white bg-black/30 backdrop-blur-lg hover:bg-white/20 transition disabled:opacity-30 disabled:cursor-not-allowed z-20",children:f.jsx(jp,{size:32})}),f.jsx("div",{className:"relative max-w-full max-h-full",onClick:M=>M.stopPropagation(),style:{cursor:r>1?l?"grabbing":"grab":"default"},children:f.jsx("img",{src:_[e].url,alt:_[e].title,className:"max-w-[90vw] max-h-[90vh] object-contain animate-scale-in select-none rounded-lg shadow-2xl",style:{transform:`scale(${r}) translate(${o.x/r}px, ${o.y/r}px)`,transition:l?"none":"transform 0.3s ease-out"},onMouseDown:k,onMouseMove:E,onMouseUp:S,onMouseLeave:S,onTouchStart:I,onTouchMove:A,onTouchEnd:S,draggable:!1},e)}),f.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white text-center z-20",children:[f.jsx("p",{className:"font-semibold text-lg",children:_[e].title}),f.jsxs("p",{className:"text-sm opacity-80",children:[e+1," / ",_.length]})]})]})]})}function K0({config:t}){const[e,n]=N.useState(null),[r,i]=N.useState(null),[o,s]=N.useState({}),l=t.donations.map(p=>({...p,icon:p.type==="Bank Account"?E0:Wp}));N.useEffect(()=>{const p=async()=>{const m={};for(const g of l)if(g.qrUrl)m[g.id]=g.qrUrl;else{const _=`${g.bank}|${g.accountName}|${g.accountNumber}`,w=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(_)}`;m[g.id]=w}s(m)};l.length>0&&p()},[l]);const u=(p,m)=>{navigator.clipboard.writeText(p),n(m),setTimeout(()=>n(null),2e3)},{elementRef:d,isVisible:h}=Ni();return f.jsxs("div",{className:"py-20 bg-white",children:[f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"bg-gradient-to-br from-rose-100 to-orange-100 p-6 rounded-full animate-pulse-glow",children:f.jsx(uu,{className:"text-rose-600",size:48})})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-gray-800 mb-4",children:"Beri Dukungan Istimewa"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Kehadiran Anda di pernikahan kami adalah hadiah terindah. Namun, jika Anda ingin memberikan hadiah, kami dengan senang hati akan menerima sumbangan untuk masa depan kita bersama."})]}),f.jsx("div",{ref:d,className:`relative z-[30] max-w-4xl mx-auto grid md:grid-cols-2 gap-6 animate-on-scroll ${h?"visible":""}`,children:l.map((p,m)=>f.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white border-2 border-gray-100 rounded-xl p-6 hover:shadow-xl hover:scale-105 transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${m*.1}s`},children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("div",{className:"bg-rose-100 p-3 rounded-full mr-4",children:f.jsx(p.icon,{className:"text-rose-600",size:24})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:p.type}),f.jsx("p",{className:"font-semibold text-gray-800",children:p.bank})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Account Name"}),f.jsx("p",{className:"font-medium text-gray-800",children:p.accountName})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Account Number"}),f.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[f.jsx("p",{className:"font-mono font-semibold text-gray-800",children:p.accountNumber}),f.jsx("button",{onClick:()=>u(p.accountNumber,p.id),className:"ml-2 p-2 hover:bg-rose-100 rounded-lg transition-colors group",title:"Copy to clipboard",children:e===p.id?f.jsx(Oc,{className:"text-green-600",size:20}):f.jsx(C0,{className:"text-gray-600 group-hover:text-rose-600 transition-colors",size:20})})]})]}),f.jsxs("button",{onClick:()=>i(p.id),className:"w-full mt-4 flex items-center justify-center space-x-2 bg-rose-500 hover:bg-rose-600 text-white py-3 rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[f.jsx(U0,{size:20}),f.jsx("span",{children:"Show QR Code"})]})]})]},p.id))}),f.jsx("div",{className:"text-center mt-12",children:f.jsx("div",{className:"inline-block bg-rose-50 rounded-lg p-6 max-w-2xl",children:f.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[f.jsx("span",{className:"font-semibold text-rose-600",children:"Catatan:"})," Hadiah dan dukungan Anda yang murah hati akan membantu kita memulai babak baru bersama. Terima kasih telah menjadi bagian dari hari istimewa kami dan atas cinta serta dukungan Anda."]})})})]}),r&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:()=>i(null),children:f.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full animate-scale-in",onClick:p=>p.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-serif text-gray-800",children:"Scan QR Code"}),f.jsx("button",{onClick:()=>i(null),className:"text-gray-500 hover:text-rose-600 transition-colors",children:f.jsx(Oc,{size:24})})]}),o[r]&&f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"bg-white p-4 rounded-lg border-4 border-rose-100 inline-block mb-4",children:f.jsx("img",{src:o[r],alt:"QR Code",className:"w-64 h-64"})}),f.jsx("div",{className:"mt-4",children:l.map(p=>p.id===r?f.jsxs("div",{className:"text-left bg-gray-50 rounded-lg p-4",children:[f.jsx("p",{className:"text-sm text-gray-500",children:p.bank}),f.jsx("p",{className:"font-semibold text-gray-800",children:p.accountName}),f.jsx("p",{className:"font-mono text-gray-700",children:p.accountNumber})]},p.id):null)}),f.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Scan this QR code with your banking app to send a gift"})]})]})})]})}const Y0="modulepreload",Q0=function(t){return"/"+t},Wc={},Ii=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=Q0(u),u in Wc)return;Wc[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Y0,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},X0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class fu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Z0 extends fu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kc extends fu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yc extends fu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Wl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Wl||(Wl={}));var ev=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};class tv{constructor(e,{headers:n={},customFetch:r,region:i=Wl.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=X0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return ev(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=n;let l={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(l["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(l["Content-Type"]="application/json",h=JSON.stringify(s)));const p=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h}).catch(w=>{throw new Z0(w)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new Kc(p);if(!p.ok)throw new Yc(p);let g=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield p.json():g==="application/octet-stream"?_=yield p.blob():g==="text/event-stream"?_=p:g==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof Yc||i instanceof Kc?i.context:void 0}}})}}var Fe={},hu={},as={},Ai={},us={},cs={},nv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xr=nv();const rv=xr.fetch,Kp=xr.fetch.bind(xr),Yp=xr.Headers,iv=xr.Request,ov=xr.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yp,Request:iv,Response:ov,default:Kp,fetch:rv},Symbol.toStringTag,{value:"Module"})),sv=zm(Tr);var ds={};Object.defineProperty(ds,"__esModule",{value:!0});let lv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ds.default=lv;var Qp=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});const av=Qp(sv),uv=Qp(ds);let cv=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=av.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,l,u,d;let h=null,p=null,m=null,g=o.status,_=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?p=y:p=JSON.parse(y))}const C=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");C&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const C=await o.text();try{h=JSON.parse(C),Array.isArray(h)&&o.status===404&&(p=[],h=null,g=200,_="OK")}catch{o.status===404&&C===""?(g=204,_="No Content"):h={message:C}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,g=200,_="OK"),h&&this.shouldThrowOnError)throw new uv.default(h)}return{error:h,data:p,count:m,status:g,statusText:_}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,l,u;return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=o==null?void 0:o.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};cs.default=cv;var dv=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});const fv=dv(cs);let hv=class extends fv.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${d}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};us.default=hv;var pv=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});const mv=pv(us);let gv=class extends mv.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ai.default=gv;var yv=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});const Fr=yv(Ai);let vv=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const s=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Fr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Fr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new Fr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Fr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};as.default=vv;var Xp=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hu,"__esModule",{value:!0});const xv=Xp(as),_v=Xp(Ai);let wv=class Zp{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new xv.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zp(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let l;const u=new URL(`${this.url}/rpc/${e}`);let d;r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{u.searchParams.append(p,m)})):(l="POST",d=n);const h=new Headers(this.headers);return o&&h.set("Prefer",`count=${o}`),new _v.default({method:l,url:u,headers:h,schema:this.schemaName,body:d,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};hu.default=wv;var Cr=et&&et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const em=Cr(hu);Fe.PostgrestClient=em.default;const tm=Cr(as);Fe.PostgrestQueryBuilder=tm.default;const nm=Cr(Ai);Fe.PostgrestFilterBuilder=nm.default;const rm=Cr(us);Fe.PostgrestTransformBuilder=rm.default;const im=Cr(cs);Fe.PostgrestBuilder=im.default;const om=Cr(ds);Fe.PostgrestError=om.default;var Sv=Fe.default={PostgrestClient:em.default,PostgrestQueryBuilder:tm.default,PostgrestFilterBuilder:nm.default,PostgrestTransformBuilder:rm.default,PostgrestBuilder:im.default,PostgrestError:om.default};const{PostgrestClient:Tv,PostgrestQueryBuilder:wE,PostgrestFilterBuilder:SE,PostgrestTransformBuilder:TE,PostgrestBuilder:CE,PostgrestError:EE}=Sv;class Cv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ev="2.15.5",kv=`realtime-js/${Ev}`,Nv="1.0.0",Kl=1e4,Iv=1e3,Av=100;var ei;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ei||(ei={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ht||(ht={}));var Yl;(function(t){t.websocket="websocket"})(Yl||(Yl={}));var xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xn||(xn={}));class Pv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=r.decode(e.slice(s,s+i));s=s+i;const u=r.decode(e.slice(s,s+o));s=s+o;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class sm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Z||(Z={}));const Qc=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=Rv(s,t,e,i),o),{})},Rv=(t,e,n,r)=>{const i=e.find(l=>l.name===t),o=i==null?void 0:i.type,s=n[t];return o&&!r.includes(o)?lm(o,s):Ql(s)},lm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Lv(e,n)}switch(t){case Z.bool:return bv(e);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return Mv(e);case Z.json:case Z.jsonb:return Dv(e);case Z.timestamp:return Uv(e);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Ql(e);default:return Ql(e)}},Ql=t=>t,bv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Mv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Dv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Lv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(l=>lm(e,l))}return t},Uv=t=>typeof t=="string"?t.replace(" ","T"):t,am=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Gs{constructor(e,n,r={},i=Kl){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Xc||(Xc={}));class ti{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ti.syncState(this.state,i,o,s),this.pendingDiffs.forEach(u=>{this.state=ti.syncDiff(this.state,u,o,s)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ti.syncDiff(this.state,i,o,s),l())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),s=this.transformState(n),l={},u={};return this.map(o,(d,h)=>{s[d]||(u[d]=h)}),this.map(s,(d,h)=>{const p=o[d];if(p){const m=h.map(C=>C.presence_ref),g=p.map(C=>C.presence_ref),_=h.filter(C=>g.indexOf(C.presence_ref)<0),w=p.filter(C=>m.indexOf(C.presence_ref)<0);_.length>0&&(l[d]=_),w.length>0&&(u[d]=w)}else l[d]=h}),this.syncDiff(o,{joins:l,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(l,u)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),h.length>0){const p=e[l].map(g=>g.presence_ref),m=h.filter(g=>p.indexOf(g.presence_ref)<0);e[l].unshift(...m)}r(l,h,u)}),this.map(s,(l,u)=>{let d=e[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[l]=d,i(l,d,u),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zc||(Zc={}));var ni;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ni||(ni={}));var Nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class pu{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gs(this,ht.join,this.params,this.timeout),this.rejoinTimer=new sm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new ti(this),this.broadcastEndpointURL=am(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:s,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[ni.PRESENCE]&&this.bindings[ni.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},m={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Nt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket.setAuth(),g===void 0){e==null||e(Nt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,C=(_=w==null?void 0:w.length)!==null&&_!==void 0?_:0,x=[];for(let y=0;y<C;y++){const v=w[y],{filter:{event:S,schema:k,table:E,filter:I}}=v,A=g&&g[y];if(A&&A.event===S&&A.schema===k&&A.table===E&&A.filter===I)x.push(Object.assign(Object.assign({},v),{id:A.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Nt.SUBSCRIBED);return}}).receive("error",g=>{this.state=pe.errored,e==null||e(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===pe.joined&&e===ni.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:s}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,l,u;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Gs(this,ht.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Gs(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Av){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const s=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=ht;if(r&&[l,u,d,h].indexOf(s)>=0&&r!==this._joinRef())return;let m=this._onMessage(s,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,w,C;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(w=g.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(g=>g.callback(m,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var _,w,C,x,y,v;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const S=g.id,k=(_=g.filter)===null||_===void 0?void 0:_.event;return S&&((w=n.ids)===null||w===void 0?void 0:w.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const S=(y=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:w,table:C,commit_timestamp:x,type:y,errors:v}=_;m=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:x,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(_))}g.callback(m,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&pu.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ht.close,{},e)}_onError(e){this._on(ht.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Qc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Qc(e.columns,e.old_record)),n}}const Hs=()=>{},Ki={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fv=[1e3,2e3,5e3,1e4],$v=1e4,Vv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bv{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kl,this.transport=null,this.heartbeatIntervalMs=Ki.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hs,this.ref=0,this.reconnectTimer=null,this.logger=Hs,this.conn=null,this.sendBuffer=[],this.serializer=new Pv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>Ii(async()=>{const{default:l}=await Promise.resolve().then(()=>Tr);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Yl.websocket}`,this.httpEndpoint=am(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Nv}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ei.connecting:return xn.Connecting;case ei.open:return xn.Open;case ei.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new pu(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Iv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ki.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=n,l=s?`(${s})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ht.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Vv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:kv};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ht.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ki.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,s,l,u,d,h;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Kl,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ki.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Hs,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:p=>Fv[p-1]||$v,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(p,m)=>m(JSON.stringify(p)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class mu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qv extends mu{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xl extends mu{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ov=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};const um=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},jv=()=>Ov(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ii(()=>Promise.resolve().then(()=>Tr),void 0)).Response:Response}),Zl=t=>{if(Array.isArray(t))return t.map(n=>Zl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Zl(r)}),e},Gv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Mn=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};const zs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hv=(t,e,n)=>Mn(void 0,void 0,void 0,function*(){const r=yield jv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,s=(i==null?void 0:i.statusCode)||o+"";e(new qv(zs(i),o,s))}).catch(i=>{e(new Xl(zs(i),i))}):e(new Xl(zs(t),t))}),zv=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Gv(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Pi(t,e,n,r,i,o){return Mn(this,void 0,void 0,function*(){return new Promise((s,l)=>{t(n,zv(e,r,i,o)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>Hv(u,l,r))})})}function qo(t,e,n,r){return Mn(this,void 0,void 0,function*(){return Pi(t,"GET",e,n,r)})}function wt(t,e,n,r,i){return Mn(this,void 0,void 0,function*(){return Pi(t,"POST",e,r,i,n)})}function ea(t,e,n,r,i){return Mn(this,void 0,void 0,function*(){return Pi(t,"PUT",e,r,i,n)})}function Jv(t,e,n,r){return Mn(this,void 0,void 0,function*(){return Pi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function cm(t,e,n,r,i){return Mn(this,void 0,void 0,function*(){return Pi(t,"DELETE",e,r,i,n)})}var Re=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};const Wv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ed={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kv{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=um(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Re(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},ed),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(e=="PUT"?ea:wt)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(me(o))return{data:null,error:o};throw o}})}upload(e,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Re(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:ed.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield ea(this.fetch,l.toString(),u,{headers:h});return{data:{path:o,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(me(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Re(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield wt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),l=s.searchParams.get("token");if(!l)throw new mu("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}update(e,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Re(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield wt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Re(this,void 0,void 0,function*(){try{const i=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}download(e,n){return Re(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield qo(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}info(e){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield qo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}exists(e){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Jv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r)&&r instanceof Xl){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield cm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}list(e,n,r){return Re(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Wv),n),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}listV2(e,n){return Re(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Yv="2.12.1",Qv={"X-Client-Info":`storage-js/${Yv}`};var Un=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};class Xv{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Qv),n),this.fetch=um(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Un(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Un(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Un(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield cm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}}class Zv extends Xv{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Kv(this.url,this.headers,e,this.fetch)}}const ex="2.57.4";let Gr="";typeof Deno<"u"?Gr="deno":typeof document<"u"?Gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gr="react-native":Gr="node";const tx={"X-Client-Info":`supabase-js-${Gr}/${ex}`},nx={headers:tx},rx={schema:"public"},ix={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ox={};var sx=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};const lx=t=>{let e;return t?e=t:typeof fetch>"u"?e=Kp:e=fetch,(...n)=>e(...n)},ax=()=>typeof Headers>"u"?Yp:Headers,ux=(t,e,n)=>{const r=lx(n),i=ax();return(o,s)=>sx(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},s),{headers:d}))})};var cx=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};function dx(t){return t.endsWith("/")?t:t+"/"}function fx(t,e){var n,r;const{db:i,auth:o,realtime:s,global:l}=t,{db:u,auth:d,realtime:h,global:p}=e,m={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},h),s),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>cx(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function hx(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dm="2.71.1",qn=30*1e3,ta=3,Js=ta*qn,px="http://localhost:9999",mx="supabase.auth.token",gx={"X-Client-Info":`gotrue-js/${dm}`},na="X-Supabase-Api-Version",fm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vx=10*60*1e3;class gu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xx extends gu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function _x(t){return H(t)&&t.name==="AuthApiError"}class hm extends gu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class dn extends gu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class qt extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wx(t){return H(t)&&t.name==="AuthSessionMissingError"}class Yi extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qi extends dn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xi extends dn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Sx(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class td extends dn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ra extends dn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ws(t){return H(t)&&t.name==="AuthRetryableFetchError"}class nd extends dn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ia extends dn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rd=` 	
\r=`.split(""),Tx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rd.length;e+=1)t[rd[e].charCodeAt(0)]=-2;for(let e=0;e<Oo.length;e+=1)t[Oo[e].charCodeAt(0)]=e;return t})();function id(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Oo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Oo[r]),e.queuedBits-=6}}function pm(t,e,n){const r=Tx[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function od(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{kx(s,r,n)};for(let s=0;s<t.length;s+=1)pm(t.charCodeAt(s),i,o);return e.join("")}function Cx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ex(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Cx(r,e)}}function kx(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Nx(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)pm(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Ix(t){const e=[];return Ex(t,n=>e.push(n)),new Uint8Array(e)}function Ax(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>id(i,n,r)),id(null,n,r),e.join("")}function Px(t){return Math.round(Date.now()/1e3)+t}function Rx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ct=()=>typeof window<"u"&&typeof document<"u",pn={tested:!1,writable:!1},mm=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pn.tested)return pn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pn.tested=!0,pn.writable=!0}catch{pn.tested=!0,pn.writable=!1}return pn.writable};function bx(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const gm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Mx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",On=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},mn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bt=async(t,e)=>{await t.removeItem(e)};class fs{constructor(){this.promise=new fs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fs.promiseConstructor=Promise;function Ks(t){const e=t.split(".");if(e.length!==3)throw new ia("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!yx.test(e[r]))throw new ia("JWT not in base64url format");return{header:JSON.parse(od(e[0])),payload:JSON.parse(od(e[1])),signature:Nx(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lx(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function Ux(t){return("0"+t.toString(16)).substr(-2)}function Fx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Ux).join("")}async function $x(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Vx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await $x(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fn(t,e,n=!1){const r=Fx();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await On(t,`${e}-code-verifier`,i);const o=await Vx(r);return[o,r===o?"plain":"s256"]}const Bx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qx(t){const e=t.headers.get(na);if(!e||!e.match(Bx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ox(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $n(t){if(!Gx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ys(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sd(t){return JSON.parse(JSON.stringify(t))}var Hx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const vn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zx=[502,503,504];async function ld(t){var e;if(!Mx(t))throw new ra(vn(t),0);if(zx.includes(t.status))throw new ra(vn(t),t.status);let n;try{n=await t.json()}catch(o){throw new hm(vn(o),o)}let r;const i=qx(t);if(i&&i.getTime()>=fm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new nd(vn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new nd(vn(n),t.status,n.weak_password.reasons);throw new xx(vn(n),t.status||500,r)}const Jx=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function z(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[na]||(o[na]=fm["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await Wx(t,e,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function Wx(t,e,n,r,i,o){const s=Jx(e,r,i,o);let l;try{l=await t(n,Object.assign({},s))}catch(u){throw console.error(u),new ra(vn(u),0)}if(l.ok||await ld(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await ld(u)}}function Et(t){var e;let n=null;Xx(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Px(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ad(t){const e=Et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Kx(t){return{data:t,error:null}}function Yx(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=Hx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},s);return{data:{properties:l,user:u},error:null}}function Qx(t){return t}function Xx(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qs=["global","local","others"];var Zx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class e_{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Qs[0]){if(Qs.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qs.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Zx(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Yx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(H(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Qx});if(h.error)throw h.error;const p=await h.json(),m=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);d[`${C}Page`]=w}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(H(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){$n(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zt})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){$n(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:zt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){$n(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:zt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){$n(e.userId);try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(H(n))return{data:null,error:n};throw n}}async _deleteFactor(e){$n(e.userId),$n(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}}function ud(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function t_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vn={debug:!!(globalThis&&mm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ym extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n_ extends ym{}async function r_(t,e,n){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new n_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}t_();const i_={url:px,storageKey:mx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cd(t,e,n){return await n()}const Bn={};class wi{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wi.nextInstanceID,wi.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},i_),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new e_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gm(i.fetch),this.lock=i.lock||cd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ct()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=r_:this.lock=cd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:mm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ud(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ud(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Bn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Bn[this.storageKey]=Object.assign(Object.assign({},Bn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Bn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Bn[this.storageKey]=Object.assign(Object.assign({},Bn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=bx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ct()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Sx(o)){const u=(e=o.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return H(n)?{error:n}:{error:new hm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Et}),{data:s,error:l}=o;if(l||!s)return{data:{user:null,session:null},error:l};const u=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(o){if(H(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:h,password:p,options:m}=e;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await Fn(this.storage,this.storageKey)),o=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:_},xform:Et})}else if("phone"in e){const{phone:h,password:p,options:m}=e;o=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Et})}else throw new Qi("You must provide either an email or phone number and a password");const{data:s,error:l}=o;if(l||!s)return{data:{user:null,session:null},error:l};const u=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(o){if(H(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:l}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ad})}else if("phone"in e){const{phone:o,password:s,options:l}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ad})}else throw new Qi("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,o,s,l,u,d,h,p,m,g;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:C,wallet:x,statement:y,options:v}=e;let S;if(ct())if(typeof x=="object")S=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const k=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let I;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")I=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)I=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)_=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((p=(h=v==null?void 0:v.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...v.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(_),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:C,error:x}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ax(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Et});if(x)throw x;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Yi}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:x})}catch(C){if(H(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await mn(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Et});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Yi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(H(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=e,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Et}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Yi}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,o,s;try{if("email"in e){const{email:l,options:u}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Fn(this.storage,this.storageKey));const{error:p}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(s=u==null?void 0:u.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Qi("You must provide either an email or phone number.")}catch(l){if(H(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Et});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const u=s.session,d=s.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await Fn(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:Kx})}catch(o){if(H(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new qt;const{error:i}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(H(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:s}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:s,error:l}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new Qi("You must provide either an email or phone number and a type")}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await mn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Js:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await mn(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Ys()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,h)=>(!s&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zt}):await this._useSession(async n=>{var r,i,o;const{data:s,error:l}=n;if(l)throw l;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:zt})})}catch(n){if(H(n))return wx(n)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new qt;const s=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Fn(this.storage,this.storageKey));const{data:d,error:h}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:s.access_token,xform:zt});if(h)throw h;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=Ks(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(H(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:l}=n;if(l)throw l;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new qt;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ct())throw new Xi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new td("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new td("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:l,expires_at:u,token_type:d}=e;if(!o||!l||!s||!d)throw new Xi("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let m=h+p;u&&(m=parseInt(u));const g=m-h;g*1e3<=qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const _=m-p;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,h);const{data:w,error:C}=await this._getUser(o);if(C)throw C;const x={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:m,refresh_token:s,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await mn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(_x(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Rx(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Fn(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(H(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,l,u,d,h;const{data:p,error:m}=o;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return ct()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Lx(async i=>(i>0&&await Dx(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Et})),(i,o)=>{const s=200*Math.pow(2,i);return o&&Ws(o)&&Date.now()+s-r<qn})}catch(r){if(this._debug(n,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ct()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await mn(this.storage,this.storageKey);if(i&&this.userStorage){let s=await mn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await On(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Ys()}else if(i&&!i.user&&!i.user){const s=await mn(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Bt(this.storage,this.storageKey+"-user"),await On(this.storage,this.storageKey,i)):i.user=Ys()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Js;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Js}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ws(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fs;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new qt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(i,"error",o),H(o)){const s={session:null,error:o};return Ws(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){o.push(u)}});if(await Promise.all(s),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await On(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=sd(i);await On(this.storage,this.storageKey,o)}else{const i=sd(n);await On(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qn}ms, refresh threshold is ${ta} ticks`),i<=ta&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ym)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await Fn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(H(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(H(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ks(i.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+vx>i)return r;const{data:o,error:s}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:_}=await this.getSession();if(_||!g.session)return{data:null,error:_};r=g.session.access_token}const{header:i,payload:o,signature:s,raw:{header:l,payload:u}}=Ks(r);n!=null&&n.allowExpired||Ox(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:s},error:null}}const h=jx(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,s,Ix(`${l}.${u}`)))throw new ia("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}wi.nextInstanceID=0;const o_=wi;class s_ extends o_{constructor(e){super(e)}}var l_=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(h){try{d(r.next(h))}catch(p){s(p)}}function u(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):i(h.value).then(l,u)}d((r=r.apply(t,e||[])).next())})};class a_{constructor(e,n,r){var i,o,s;this.supabaseUrl=e,this.supabaseKey=n;const l=hx(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:rx,realtime:ox,auth:Object.assign(Object.assign({},ix),{storageKey:u}),global:nx},h=fx(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=ux(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Tv(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Zv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new tv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return l_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:l,lock:u,debug:d},h,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s_({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:l,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Bv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u_=(t,e,n)=>new a_(t,e,n);function c_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}c_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d_="https://pdjgcmcpdyosofpbjqfp.supabase.co",f_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkamdjbWNwZHlvc29mcGJqcWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyODUyMjYsImV4cCI6MjA3NTg2MTIyNn0.AgXF7oObUf3O9BAN3fwM7PSUk_AW6_rXwYfHw5KyXhY",Jt=u_(d_,f_);function h_(){const[t,e]=N.useState({name:"",email:"",guests:"1",attending:"yes",dietary:"",message:""}),[n,r]=N.useState(!1),[i,o]=N.useState(!1),s=async l=>{l.preventDefault(),r(!0);try{const{error:u}=await Jt.from("rsvp").insert([{name:t.name,email:t.email,guests:parseInt(t.guests),attending:t.attending==="yes",dietary_requirements:t.dietary,message:t.message}]);if(u)throw u;o(!0),e({name:"",email:"",guests:"1",attending:"yes",dietary:"",message:""})}catch(u){console.error("Error submitting RSVP:",u),alert("Failed to submit RSVP. Please try again.")}finally{r(!1)}};return i?f.jsx("div",{className:"py-20 bg-gradient-to-br from-rose-50 to-orange-50",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-12 text-center animate-scale-in",children:[f.jsx(ze,{className:"text-rose-500 mx-auto mb-4 animate-pulse-glow",size:64,fill:"currentColor"}),f.jsx("h2",{className:"text-3xl font-serif text-gray-800 mb-4",children:"Terima Kasih!"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"RSVP Anda telah diterima. Kami sangat senang bisa merayakannya bersama Anda!"}),f.jsx("button",{onClick:()=>o(!1),className:"text-rose-600 hover:text-rose-700 font-medium",children:"Kirimkan RSVP lainnya"})]})})}):f.jsx("div",{className:"py-20 bg-gradient-to-br from-rose-50 to-orange-50",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-gray-800 mb-4",children:"RSVP"}),f.jsx("p",{className:"text-gray-600",children:"Tolong beri tahu kami jika Anda dapat bergabung dengan kami"})]}),f.jsx("form",{onSubmit:s,className:"relative z-[30] bg-white/80 backdrop-blur-sm max-w-2xl mx-auto  rounded-xl shadow-lg p-8 hover:shadow-2xl transition-shadow duration-500",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Nama Lengkap *"}),f.jsx("input",{type:"text",required:!0,value:t.name,onChange:l=>e({...t,name:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"John Doe"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email *"}),f.jsx("input",{type:"email",required:!0,value:t.email,onChange:l=>e({...t,email:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"john@example.com"})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Jumlah Anggota *"}),f.jsx("select",{required:!0,value:t.guests,onChange:l=>e({...t,guests:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",children:[1,2,3,4,5].map(l=>f.jsxs("option",{value:l,children:[l," ","Orang"]},l))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Apakah Anda akan hadir? *"}),f.jsxs("select",{required:!0,value:t.attending,onChange:l=>e({...t,attending:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",children:[f.jsx("option",{value:"yes",children:"Ya, Kami Akan Datang"}),f.jsx("option",{value:"no",children:"Tidak, Kendala Masalah"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Gejala Kebutuhan"}),f.jsx("input",{type:"text",value:t.dietary,onChange:l=>e({...t,dietary:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"Sayuran, Alergi, dll."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Pesan untuk Pengantin"}),f.jsx("textarea",{value:t.message,onChange:l=>e({...t,message:l.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"Bagikan harapan Anda untuk pasangan yang berbahagia..."})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full bg-rose-500 hover:bg-rose-600 text-white py-4 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 hover:shadow-lg",children:n?f.jsx("span",{children:"Submitting..."}):f.jsxs(f.Fragment,{children:[f.jsx(vr,{size:20}),f.jsx("span",{children:"Kirim RSVP"})]})})]})})]})})}function p_(){const[t,e]=N.useState([]),[n,r]=N.useState(""),[i,o]=N.useState(""),[s,l]=N.useState(!1);N.useEffect(()=>{u()},[]);const u=async()=>{const{data:h,error:p}=await Jt.from("guest_book").select("*").order("created_at",{ascending:!1}).limit(10);!p&&h&&e(h)},d=async h=>{if(h.preventDefault(),!(!n.trim()||!i.trim())){l(!0);try{const{error:p}=await Jt.from("guest_book").insert([{name:n.trim(),message:i.trim()}]);if(p)throw p;r(""),o(""),u()}catch(p){console.error("Error submitting message:",p),alert("Failed to submit message. Please try again.")}finally{l(!1)}}};return f.jsx("div",{className:"py-20 bg-white",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-gray-800 mb-4",children:"Buku Tamu"}),f.jsx("p",{className:"text-gray-600",children:"Tinggalkan pesan dan doa untuk pasangan yang berbahagia"})]}),f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("form",{onSubmit:d,className:"bg-gradient-to-br from-rose-50 to-orange-50 rounded-xl p-8 mb-12 hover:shadow-lg transition-shadow duration-300",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{children:f.jsx("input",{type:"text",required:!0,value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"Nama Kamu"})}),f.jsx("div",{children:f.jsx("textarea",{required:!0,value:i,onChange:h=>o(h.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"Apa Harapan Kamu..."})}),f.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-rose-500 hover:bg-rose-600 text-white py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 hover:scale-105 hover:shadow-lg",children:[f.jsx(vr,{size:18}),f.jsx("span",{children:s?"Kirim...":"Kirim Harapan"})]})]})}),f.jsxs("div",{className:"space-y-6",children:[t.map((h,p)=>f.jsx("div",{className:"bg-gray-50 rounded-lg p-6 hover:shadow-lg transition-all duration-300 hover:scale-102 animate-fade-in-up",style:{animationDelay:`${p*.1}s`},children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("div",{className:"bg-rose-100 p-3 rounded-full mr-4 hover:bg-rose-200 transition-colors",children:f.jsx(ze,{className:"text-rose-600 hover:scale-110 transition-transform",size:20,fill:"currentColor"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:h.name}),f.jsx("p",{className:"text-gray-600 leading-relaxed",children:h.message}),f.jsx("p",{className:"text-sm text-gray-400 mt-2",children:new Date(h.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},h.id)),t.length===0&&f.jsx("div",{className:"text-center py-12 text-gray-400",children:"Be the first to leave a message!"})]})]})]})})}const m_=()=>f.jsxs("div",{className:"fixed inset-0 bg-[#FBF9F6] flex flex-col items-center justify-center z-[100]",children:[f.jsxs("div",{className:"relative flex items-center justify-center",children:[f.jsx(ze,{className:"text-rose-500 animate-ping absolute h-24 w-24 opacity-75"}),f.jsx(ze,{className:"text-rose-500 relative h-20 w-20",fill:"currentColor"})]}),f.jsx("p",{className:"mt-6 text-lg text-gray-700 font-serif",children:"Loading Our Special Day..."})]}),g_=({isOpen:t,onOpen:e,config:n,guestName:r})=>{if(!t)return null;const i=r?`Yth. ${r},

Anda diundang ke pernikahan ${n.couple.groom.name} & ${n.couple.bride.name}.

Buka undangan Anda di sini:
${window.location.href}`:`Anda diundang ke pernikahan ${n.couple.groom.name} & ${n.couple.bride.name}.

Buka undangan Anda di sini:
${window.location.href}`,o=encodeURIComponent(i);return f.jsxs("div",{className:"fixed inset-0 z-[99] flex items-center justify-center bg-black transition-opacity duration-500 ease-in-out",style:{opacity:t?1:0},children:[f.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute top-0 left-0 w-full h-full object-cover",src:n.invitation.backgroundVideo},n.invitation.backgroundVideo),f.jsx("div",{className:"absolute inset-0 bg-black/70"}),f.jsxs("div",{className:"relative z-10 text-center text-white p-8 max-w-lg mx-auto",children:[r&&f.jsxs("div",{className:"mb-6 animate-fade-in",style:{animationDelay:"0.2s"},children:[f.jsx("p",{className:"text-lg font-light tracking-wider",children:"Teruntuk Yth,"}),f.jsx("p",{className:"text-2xl md:text-3xl font-serif font-semibold mt-1 break-words",children:r})]}),f.jsx("p",{className:"text-lg md:text-xl font-light tracking-widest uppercase",children:n.invitation.title}),f.jsxs("h1",{className:"font-serif text-5xl md:text-7xl my-6",children:[n.couple.groom.name," & ",n.couple.bride.name]}),f.jsx("p",{className:"text-lg md:text-xl font-light",children:n.invitation.subtitle}),f.jsxs("div",{className:"mt-10 flex flex-col items-center gap-4",children:[f.jsx("button",{onClick:e,className:"w-full max-w-xs px-8 py-3 bg-white text-gray-800 font-semibold rounded-full shadow-lg hover:bg-rose-100 transition-all duration-300 transform hover:scale-105",children:n.invitation.buttonText}),f.jsxs("a",{href:`https://wa.me/?text=${o}`,target:"_blank",rel:"noopener noreferrer",className:"w-full max-w-xs px-8 py-3 bg-[#25D366] text-white font-semibold rounded-full shadow-lg hover:bg-[#128C7E] transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2 animate-fade-in",children:[f.jsx(vr,{size:18}),"Bagikan di WhatsApp"]})]})]})]})},Zi="https://www.vhv.rs/dpng/d/427-4272115_white-flower-corner-png-transparent-png.png";function y_({activeSection:t}){const[e,n]=N.useState(!1),[r,i]=N.useState(!1),[o,s]=N.useState(!1),[l,u]=N.useState(!1),[d,h]=N.useState(!1);return N.useEffect(()=>{n(!1);const p=setTimeout(()=>n(!0),250);return()=>clearTimeout(p)},[t]),N.useEffect(()=>{i(!1);const p=setTimeout(()=>i(!0),400);return()=>clearTimeout(p)},[t]),N.useEffect(()=>{s(!1);const p=setTimeout(()=>s(!0),550);return()=>clearTimeout(p)},[t]),N.useEffect(()=>{u(!1);const p=setTimeout(()=>u(!0),700);return()=>clearTimeout(p)},[t]),N.useEffect(()=>{const p=setTimeout(()=>{h(!0)},1e3);return()=>clearTimeout(p)},[]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed -left-5 -top-5 z-30 pointer-events-none transition-all duration-1000 ease-out ${e?"-translate-x-20 opacity-100":"-translate-x-full -translate-y-full opacity-0"}`,children:f.jsx("img",{src:Zi,alt:"Floral decoration",className:"w-60 h-60 md:w-64 md:h-64 opacity-70"})}),f.jsx("div",{className:`fixed -right-5 -top-5 z-30 pointer-events-none transition-all duration-1000 ease-out ${r?"translate-x-20 opacity-100":"translate-x-full -translate-y-full opacity-0"}`,children:f.jsx("img",{src:Zi,alt:"Floral decoration",className:"w-60 h-60 md:w-64 md:h-64 transform -scale-x-100 opacity-70"})}),f.jsx("div",{className:`fixed -left-5 -bottom-5 z-30 pointer-events-none transition-all duration-1000 ease-out ${o?"-translate-x-20 opacity-100":"-translate-x-full translate-y-full opacity-0"}`,children:f.jsx("img",{src:Zi,alt:"Floral decoration",className:"w-60 h-60 md:w-64 md:h-64 transform -scale-y-100 opacity-70"})}),f.jsx("div",{className:`fixed -right-5 -bottom-5 z-30 pointer-events-none transition-all duration-1000 ease-out ${l?"translate-x-20 opacity-100":"translate-x-full translate-y-full opacity-0"}`,children:f.jsx("img",{src:Zi,alt:"Floral decoration",className:"w-60 h-60 md:w-64 md:h-64 transform -scale-x-100 -scale-y-100 opacity-70"})}),d&&f.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[...Array(12)].map((p,m)=>f.jsx("div",{className:"absolute animate-float-petal",style:{left:`${Math.random()*100}%`,top:"-10%",animationDelay:`${m*1.5}s`,animationDuration:`${10+Math.random()*10}s`},children:f.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:f.jsx("ellipse",{cx:"10",cy:"10",rx:4+Math.random()*2,ry:8+Math.random()*2,fill:"#FDB9C8",opacity:"0.4",transform:`rotate(${Math.random()*360} 10 10)`})})},`petal-${m}`))})]})}const v_=({isOpen:t,onClose:e,onLogin:n})=>{const[r,i]=N.useState(""),[o,s]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState(!1),p=async m=>{if(m.preventDefault(),u(""),h(!0),!r||!o){u("Please fill in all fields"),h(!1);return}r==="admin"&&o==="wedding2025"?(n(r,o),i(""),s("")):u("Invalid username or password"),h(!1)};return t?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 animate-scale-in",children:[f.jsxs("div",{className:"relative bg-gradient-to-r from-rose-500 to-orange-500 text-white p-6 rounded-t-2xl",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors",children:f.jsx(du,{size:24})}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full",children:f.jsx(Gc,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-serif font-bold",children:"Admin Login"}),f.jsx("p",{className:"text-sm text-white/80",children:"Access Wedding Configuration"})]})]})]}),f.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[l&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:l}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Username"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(V0,{className:"text-gray-400",size:20})}),f.jsx("input",{type:"text",value:r,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"Enter username",disabled:d})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Gc,{className:"text-gray-400",size:20})}),f.jsx("input",{type:"password",value:o,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",placeholder:"Enter password",disabled:d})]})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-rose-500 to-orange-500 hover:from-rose-600 hover:to-orange-600 text-white py-3 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Logging in...":"Login to Dashboard"})]}),f.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-2xl border-t border-gray-100",children:f.jsx("p",{className:"text-xs text-gray-500 text-center",children:"This dashboard allows you to configure your wedding website settings"})})]})}):null},x_=({isOpen:t,onClose:e,config:n,onSave:r})=>{var ot,we,hn,Tu,Cu,Eu,ku,Nu;const[i,o]=N.useState(n),[s,l]=N.useState(!1),u=N.useRef(null),d=N.useRef(null),[h,p]=N.useState([]),[m,g]=N.useState(!1),[_,w]=N.useState(""),[C,x]=N.useState(""),[y,v]=N.useState(!1),[S,k]=N.useState(!1),[E,I]=N.useState(null),[A,R]=N.useState(`_Assalamualaikum Warahmatullahi Wabarakatuh_

Tanpa mengurangi rasa hormat, perkenankan kami mengundang Bapak/Ibu/Saudara/i *guestname* untuk menghadiri acara kami.

*Berikut link undangan kami*, untuk info lengkap dari acara bisa kunjungi:
link url to guest name

Merupakan suatu kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan untuk hadir dan memberikan doa restu.

*Mohon maaf perihal undangan hanya di bagikan melalui pesan ini.*

Terima kasih banyak atas perhatiannya.

Salam Hormat
${n.couple.groom.name} & ${n.couple.bride.name}`);N.useEffect(()=>{o(n),R(T=>T.replace(/Salam Hormat\n.*/,`Salam Hormat
${n.couple.groom.name} & ${n.couple.bride.name}`))},[n]);const b=[{id:"couple",label:"Couple Info",icon:ze},{id:"hero",label:"Hero Section",icon:Bo},{id:"cinematic",label:"Cinematic",icon:Hp},{id:"invitation",label:"Invitation",icon:cu},{id:"wedding",label:"Wedding Date",icon:Vo},{id:"events",label:"Events",icon:Jl},{id:"story",label:"Story",icon:Jp},{id:"prayerLetter",label:"Prayer Letter",icon:au},{id:"music",label:"Music",icon:zp},{id:"gallery",label:"Gallery",icon:I0},{id:"donations",label:"Donations",icon:uu},{id:"theme",label:"Theme",icon:M0},{id:"whatsapp",label:"Bulk WhatsApp",icon:vr},{id:"json",label:"Settings & Data",icon:k0}],[q,M]=N.useState("couple");N.useEffect(()=>{t&&(async()=>{if(q==="whatsapp"){g(!0);try{const{data:B,error:$}=await Jt.from("guests").select("id, name, phone").order("name",{ascending:!0});if($)throw $;B&&p(B)}catch(B){console.error("Error fetching guests:",B),alert("Could not fetch guest list from Supabase.")}finally{g(!1)}}})()},[q,t]);const L=(T,B,$,oe)=>{o(st=>{const he=JSON.parse(JSON.stringify(st));if(oe!==void 0&&Array.isArray(he[T])){const lt=he[T];lt[oe]={...lt[oe],[B]:$},he[T]=lt}else he[T]={...he[T]||{},[B]:$};return he}),l(!0)},ue=(T,B,$,oe)=>{o(st=>{const he=JSON.parse(JSON.stringify(st));return he[T][B][$]=oe,he}),l(!0)},$t=()=>{const T=JSON.stringify(i,null,2),B=new Blob([T],{type:"application/json"}),$=URL.createObjectURL(B),oe=document.createElement("a");oe.href=$,oe.download="wedding-config.json",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL($)},_e=()=>{var T;(T=u.current)==null||T.click()},rt=T=>{var oe;const B=(oe=T.target.files)==null?void 0:oe[0];if(!B)return;const $=new FileReader;$.onload=st=>{var he;try{const lt=(he=st.target)==null?void 0:he.result;if(typeof lt!="string")throw new Error("File is not readable");const Iu=JSON.parse(lt);o(Iu),l(!0),alert("Configuration imported successfully! Remember to save your changes.")}catch(lt){alert("Failed to import configuration. Please check if the file is a valid JSON config."),console.error(lt)}},$.readAsText(B),u.current&&(u.current.value="")},D=()=>{r(i),l(!1),alert("Configuration saved successfully!")},V=()=>{s?window.confirm("You have unsaved changes. Are you sure you want to logout?")&&e():e()},O=T=>{if(!T.phone){alert(`Phone number is missing for ${T.name}.`);return}const B=T.phone.replace(/[^0-9]/g,""),oe=`${window.location.origin}/?to=${encodeURIComponent(T.name)}`,st=A.replace(/\*guestname\*/g,`*${T.name}*`).replace("link url to guest name",oe),he=`https://wa.me/${B}?text=${encodeURIComponent(st)}`;window.open(he,"_blank")},Q=async T=>{if(T.preventDefault(),!_.trim()){alert("Guest name is required.");return}v(!0);try{const{data:B,error:$}=await Jt.from("guests").insert([{name:_.trim(),phone:C.trim()||null}]).select();if($)throw $;B&&(p(oe=>[...oe,...B].sort((st,he)=>st.name.localeCompare(he.name))),w(""),x(""))}catch(B){console.error("Error adding guest:",B),alert("Failed to add guest.")}finally{v(!1)}},X=async T=>{if(window.confirm(`Are you sure you want to delete ${T.name}?`)){I(T.id);try{const{error:B}=await Jt.from("guests").delete().match({id:T.id});if(B)throw B;p($=>$.filter(oe=>oe.id!==T.id))}catch(B){console.error("Error deleting guest:",B),alert("Failed to delete guest.")}finally{I(null)}}},it=()=>{var T;(T=d.current)==null||T.click()},Pe=T=>{var oe;const B=(oe=T.target.files)==null?void 0:oe[0];if(!B)return;k(!0);const $=new FileReader;$.onload=async st=>{var he;try{const ys=((he=st.target)==null?void 0:he.result).split(`
`).filter(Ir=>Ir.trim()!=="").map(Ir=>{const[jm,Gm]=Ir.split(",").map(Hm=>Hm.trim());return{name:jm,phone:Gm}}).filter(Ir=>Ir.name);if(ys.length===0){alert("No valid guests found in the file."),k(!1);return}const{error:Au}=await Jt.from("guests").insert(ys);if(Au)throw Au;const{data:Pu,error:Ru}=await Jt.from("guests").select("id, name, phone").order("name",{ascending:!0});if(Ru)throw Ru;Pu&&p(Pu),alert(`${ys.length} guests imported successfully!`)}catch(lt){console.error("Error importing CSV:",lt),alert("Failed to import CSV. Please check the file format (Name,Phone) and console for errors.")}finally{k(!1),d.current&&(d.current.value="")}},$.readAsText(B)};return t?f.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm overflow-y-auto",children:f.jsx("div",{className:"min-h-screen p-4 md:p-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[f.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-orange-500 text-white p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full",children:f.jsx(F0,{size:24})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-serif font-bold",children:"Wedding Configuration Dashboard"}),f.jsx("p",{className:"text-sm text-white/80",children:"Customize your wedding website"})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[s&&f.jsxs("button",{onClick:D,className:"flex items-center space-x-2 bg-white text-rose-600 px-4 py-2 rounded-lg hover:bg-rose-50 transition-colors",children:[f.jsx(zc,{size:18})," ",f.jsx("span",{className:"hidden md:inline",children:"Save Changes"})]}),f.jsxs("button",{onClick:V,className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[f.jsx(P0,{size:18})," ",f.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})]})}),f.jsxs("div",{className:"flex flex-col md:flex-row",children:[f.jsx("div",{className:"md:w-64 bg-gray-50 border-r border-gray-200",children:f.jsx("nav",{className:"p-4 space-y-2",children:b.map(T=>f.jsxs("button",{onClick:()=>M(T.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${q===T.id?"bg-gradient-to-r from-rose-500 to-orange-500 text-white":"text-gray-700 hover:bg-gray-200"}`,children:[f.jsx(T.icon,{size:20})," ",f.jsx("span",{className:"font-medium",children:T.label})]},T.id))})}),f.jsxs("div",{className:"flex-1 p-6 md:p-8 overflow-y-auto max-h-[calc(100vh-200px)]",children:[q==="couple"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Couple Information"}),f.jsxs("div",{className:"bg-rose-50 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-rose-600 mb-4",children:"Bride Details"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsx(G,{label:"Name",value:i.couple.bride.name,onChange:T=>ue("couple","bride","name",T.target.value)}),f.jsx(G,{label:"Full Name",value:i.couple.bride.fullName,onChange:T=>ue("couple","bride","fullName",T.target.value)}),f.jsx(G,{label:"Instagram",value:i.couple.bride.instagram,onChange:T=>ue("couple","bride","instagram",T.target.value)}),f.jsx(G,{label:"Email",type:"email",value:i.couple.bride.email,onChange:T=>ue("couple","bride","email",T.target.value)}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(G,{label:"Parents",value:i.couple.bride.parents,onChange:T=>ue("couple","bride","parents",T.target.value)})}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(ut,{label:"Bio",value:i.couple.bride.bio,onChange:T=>ue("couple","bride","bio",T.target.value)})}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(G,{label:"Image URL",type:"url",value:i.couple.bride.image,onChange:T=>ue("couple","bride","image",T.target.value)})})]})]}),f.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-blue-600 mb-4",children:"Groom Details"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsx(G,{label:"Name",value:i.couple.groom.name,onChange:T=>ue("couple","groom","name",T.target.value),focusColor:"focus:ring-blue-500"}),f.jsx(G,{label:"Full Name",value:i.couple.groom.fullName,onChange:T=>ue("couple","groom","fullName",T.target.value),focusColor:"focus:ring-blue-500"}),f.jsx(G,{label:"Instagram",value:i.couple.groom.instagram,onChange:T=>ue("couple","groom","instagram",T.target.value),focusColor:"focus:ring-blue-500"}),f.jsx(G,{label:"Email",type:"email",value:i.couple.groom.email,onChange:T=>ue("couple","groom","email",T.target.value),focusColor:"focus:ring-blue-500"}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(G,{label:"Parents",value:i.couple.groom.parents,onChange:T=>ue("couple","groom","parents",T.target.value),focusColor:"focus:ring-blue-500"})}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(ut,{label:"Bio",value:i.couple.groom.bio,onChange:T=>ue("couple","groom","bio",T.target.value),focusColor:"focus:ring-blue-500"})}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(G,{label:"Image URL",type:"url",value:i.couple.groom.image,onChange:T=>ue("couple","groom","image",T.target.value),focusColor:"focus:ring-blue-500"})})]})]})]}),q==="hero"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Hero Section"}),f.jsx("div",{className:"bg-gradient-to-br from-rose-50 to-orange-50 rounded-xl p-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(G,{label:"Background Image URL",type:"url",value:i.hero.backgroundImage,onChange:T=>L("hero","backgroundImage",T.target.value)}),f.jsx(ut,{label:"Tagline",value:i.hero.tagline,onChange:T=>L("hero","tagline",T.target.value)})]})})]}),q==="cinematic"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Cinematic Intro"}),f.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(G,{label:"Video Source URL",type:"url",value:i.cinematic.videoSrc,onChange:T=>L("cinematic","videoSrc",T.target.value)}),f.jsx(G,{label:"Door Image URL",type:"url",value:i.cinematic.doorImage,onChange:T=>L("cinematic","doorImage",T.target.value)})]})})]}),q==="invitation"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Invitation Modal"}),f.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(G,{label:"Title",value:i.invitation.title,onChange:T=>L("invitation","title",T.target.value),focusColor:"focus:ring-indigo-500"}),f.jsx(G,{label:"Subtitle",value:i.invitation.subtitle,onChange:T=>L("invitation","subtitle",T.target.value),focusColor:"focus:ring-indigo-500"}),f.jsx(G,{label:"Button Text",value:i.invitation.buttonText,onChange:T=>L("invitation","buttonText",T.target.value),focusColor:"focus:ring-indigo-500"}),f.jsx(G,{label:"Background Video URL",type:"url",value:i.invitation.backgroundVideo,onChange:T=>L("invitation","backgroundVideo",T.target.value),focusColor:"focus:ring-indigo-500"})]})})]}),q==="wedding"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Wedding Date & Time"}),f.jsx("div",{className:"bg-gradient-to-br from-rose-50 to-orange-50 rounded-xl p-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(G,{label:"Wedding Date",type:"date",value:i.wedding.date,onChange:T=>L("wedding","date",T.target.value)}),f.jsx(G,{label:"Display Date Text",value:i.wedding.dateDisplay,onChange:T=>L("wedding","dateDisplay",T.target.value),placeholder:"e.g., Sabtu, 22 November 2025"}),f.jsx(G,{label:"Time",type:"time",value:i.wedding.time,onChange:T=>L("wedding","time",T.target.value)})]})})]}),q==="events"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Event Details"}),i.events.map((T,B)=>f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Event ",B+1,": ",T.title]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsx(G,{label:"Title",value:T.title,onChange:$=>L("events","title",$.target.value,B)}),f.jsx(G,{label:"Time",value:T.time,onChange:$=>L("events","time",$.target.value,B)}),f.jsx(G,{label:"Duration",value:T.duration,onChange:$=>L("events","duration",$.target.value,B)}),f.jsx(G,{label:"Location",value:T.location,onChange:$=>L("events","location",$.target.value,B)}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(G,{label:"Address",value:T.address,onChange:$=>L("events","address",$.target.value,B)})}),f.jsx(G,{label:"Phone",type:"tel",value:T.phone,onChange:$=>L("events","phone",$.target.value,B)}),f.jsx(G,{label:"Email",type:"email",value:T.email,onChange:$=>L("events","email",$.target.value,B)}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(ut,{label:"Description",value:T.description,onChange:$=>L("events","description",$.target.value,B)})})]})]},T.id))]}),q==="story"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Our Story Timeline"}),i.story.map((T,B)=>f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Story Point ",B+1,": ",T.title]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsx(G,{label:"Title",value:T.title,onChange:$=>L("story","title",$.target.value,B)}),f.jsx(G,{label:"Date",value:T.date,onChange:$=>L("story","date",$.target.value,B)}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(G,{label:"Image URL",type:"url",value:T.image,onChange:$=>L("story","image",$.target.value,B)})}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(ut,{label:"Description",value:T.description,onChange:$=>L("story","description",$.target.value,B)})})]})]},`story-${B}`))]}),q==="prayerLetter"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Prayer Letter Content"}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Edit the content of the prayer letter. The couple's names are added automatically at the end."}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(ut,{label:"Greeting",value:((ot=i.prayerLetter)==null?void 0:ot.greeting)||"",onChange:T=>L("prayerLetter","greeting",T.target.value)}),f.jsx(ut,{label:"Body Paragraph 1",value:((we=i.prayerLetter)==null?void 0:we.body1)||"",onChange:T=>L("prayerLetter","body1",T.target.value)}),f.jsx(ut,{label:"Body Paragraph 2",value:((hn=i.prayerLetter)==null?void 0:hn.body2)||"",onChange:T=>L("prayerLetter","body2",T.target.value)}),f.jsx(ut,{label:"Body Paragraph 3",value:((Tu=i.prayerLetter)==null?void 0:Tu.body3)||"",onChange:T=>L("prayerLetter","body3",T.target.value)}),f.jsx(ut,{label:"Closing",value:((Cu=i.prayerLetter)==null?void 0:Cu.closing)||"",onChange:T=>L("prayerLetter","closing",T.target.value)})]})]})]}),q==="music"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Music Configuration"}),f.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(G,{label:"Audio Source URL",type:"url",value:i.music.audioSrc,onChange:T=>L("music","audioSrc",T.target.value),focusColor:"focus:ring-purple-500"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Lyrics configuration requires manual editing in the code for now."})]})})]}),q==="gallery"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Gallery Images"}),i.gallery.map((T,B)=>f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Image ",B+1]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsx("div",{className:"md:col-span-2",children:f.jsx(G,{label:"Image URL",type:"url",value:T.url,onChange:$=>L("gallery","url",$.target.value,B)})}),f.jsx(G,{label:"Title",value:T.title,onChange:$=>L("gallery","title",$.target.value,B)}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),f.jsxs("select",{value:T.type,onChange:$=>L("gallery","type",$.target.value,B),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:outline-none",children:[f.jsx("option",{value:"portrait",children:"Portrait"}),f.jsx("option",{value:"landscape",children:"Landscape"})]})]})]})]},`gallery-${B}`))]}),q==="donations"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Donation Accounts"}),i.donations.map((T,B)=>f.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200",children:[f.jsxs("h3",{className:"text-xl font-semibold text-green-700 mb-4",children:["Account ",B+1]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsx(G,{label:"Type",value:T.type,onChange:$=>L("donations","type",$.target.value,B),focusColor:"focus:ring-green-500"}),f.jsx(G,{label:"Bank/E-Wallet",value:T.bank,onChange:$=>L("donations","bank",$.target.value,B),focusColor:"focus:ring-green-500"}),f.jsx(G,{label:"Account Number",value:T.accountNumber,onChange:$=>L("donations","accountNumber",$.target.value,B),focusColor:"focus:ring-green-500"}),f.jsx(G,{label:"Account Name",value:T.accountName,onChange:$=>L("donations","accountName",$.target.value,B),focusColor:"focus:ring-green-500"}),f.jsx("div",{className:"md:col-span-2",children:f.jsx(G,{label:"QR Code Image URL (Optional)",type:"url",value:T.qrUrl||"",onChange:$=>L("donations","qrUrl",$.target.value,B),focusColor:"focus:ring-green-500",placeholder:"https://example.com/qris.png"})})]})]},T.id))]}),q==="theme"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Theme Colors"}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Customize the main colors of your website. Changes apply to various elements like buttons and highlights."}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[f.jsx(Xs,{label:"Primary",value:((Eu=i.theme)==null?void 0:Eu.primary)||"#f43f5e",onChange:T=>L("theme","primary",T.target.value)}),f.jsx(Xs,{label:"Secondary",value:((ku=i.theme)==null?void 0:ku.secondary)||"#f97316",onChange:T=>L("theme","secondary",T.target.value)}),f.jsx(Xs,{label:"Accent",value:((Nu=i.theme)==null?void 0:Nu.accent)||"#ec4899",onChange:T=>L("theme","accent",T.target.value)})]})]})]}),q==="whatsapp"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Send Bulk WhatsApp Invitations"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[f.jsx(L0,{className:"mr-2 text-green-600",size:22})," Add New Guest"]}),f.jsxs("form",{onSubmit:Q,className:"space-y-3",children:[f.jsx(G,{label:"Guest Name",value:_,onChange:T=>w(T.target.value),placeholder:"Enter full name"}),f.jsx(G,{label:"Phone Number",value:C,onChange:T=>x(T.target.value),placeholder:"e.g., 628123456789"}),f.jsxs("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors disabled:bg-gray-400",children:[y?f.jsx(jr,{className:"animate-spin",size:18}):f.jsx(zc,{size:16}),f.jsx("span",{children:y?"Adding...":"Add Guest"})]})]})]}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[f.jsx(N0,{className:"mr-2 text-blue-600",size:22})," Import from CSV"]}),f.jsx("input",{type:"file",ref:d,onChange:Pe,className:"hidden",accept:".csv"}),f.jsxs("button",{onClick:it,disabled:S,className:"w-full flex items-center justify-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors disabled:bg-gray-400",children:[S?f.jsx(jr,{className:"animate-spin",size:18}):f.jsx(Jc,{size:16}),f.jsx("span",{children:S?"Importing...":"Import Guests from CSV"})]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:[f.jsx("b",{children:"Format:"})," Create a CSV file with two columns: `Name,Phone`.",f.jsx("br",{}),"Example: `John Doe,628123456789`"]})]})]}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Message Template"}),f.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Edit the message below. `*guestname*` will be replaced with the guest's name, and `link url to guest name` will be replaced with their unique invitation link."}),f.jsx(ut,{label:"WhatsApp Message",value:A,onChange:T=>R(T.target.value),rows:15})]}),f.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[f.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Guest List (",h.length,")"]}),f.jsx("div",{className:"overflow-x-auto max-h-96",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-gray-100 sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"Name"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"Phone"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600 text-center",children:"Actions"})]})}),f.jsx("tbody",{children:m?f.jsx("tr",{children:f.jsxs("td",{colSpan:3,className:"text-center p-4 text-gray-500 flex items-center justify-center",children:[f.jsx(jr,{className:"animate-spin mr-2"})," Loading guests..."]})}):h.length>0?h.map(T=>f.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[f.jsx("td",{className:"p-3 text-gray-800",children:T.name}),f.jsx("td",{className:"p-3 text-gray-600 font-mono",children:T.phone||"N/A"}),f.jsx("td",{className:"p-3 text-center",children:f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsxs("button",{onClick:()=>O(T),disabled:!T.phone||E===T.id,className:"flex items-center space-x-1 bg-green-500 hover:bg-green-600 text-white px-3 py-1.5 rounded-lg text-xs transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[f.jsx(vr,{size:14})," ",f.jsx("span",{children:"Send"})]}),f.jsx("button",{onClick:()=>X(T),disabled:E===T.id,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-full transition-colors disabled:opacity-50",title:"Delete Guest",children:E===T.id?f.jsx(jr,{className:"animate-spin",size:16}):f.jsx($0,{size:16})})]})})]},T.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:3,className:"text-center p-4 text-gray-500",children:"No guests found. Add guests above or import a CSV file."})})})]})})]})]}),q==="json"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6",children:"Settings & Data Management"}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Import / Export"}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("input",{type:"file",ref:u,onChange:rt,className:"hidden",accept:".json"}),f.jsxs("button",{onClick:_e,className:"flex items-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:[f.jsx(Jc,{size:18})," ",f.jsx("span",{children:"Import JSON"})]}),f.jsxs("button",{onClick:$t,className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",children:[f.jsx(Gp,{size:18})," ",f.jsx("span",{children:"Export JSON"})]})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Importing a file will overwrite your current unsaved changes."})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Live JSON Preview"}),f.jsx("textarea",{readOnly:!0,value:JSON.stringify(i,null,2),className:"w-full h-96 bg-gray-900 text-green-300 font-mono text-xs rounded-lg p-4 border border-gray-700 focus:outline-none"})]})]})]})]})]})})}):null},G=({label:t,value:e,onChange:n,type:r="text",placeholder:i,focusColor:o="focus:ring-rose-500"})=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),f.jsx("input",{type:r,value:e,onChange:n,placeholder:i,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 ${o} focus:outline-none`})]}),ut=({label:t,value:e,onChange:n,focusColor:r="focus:ring-rose-500",rows:i=3})=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),f.jsx("textarea",{value:e,onChange:n,rows:i,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 ${r} focus:outline-none`})]}),Xs=({label:t,value:e,onChange:n})=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"color",value:e,onChange:n,className:"p-1 h-10 w-10 block bg-white border border-gray-300 cursor-pointer rounded-lg"}),f.jsx("input",{type:"text",value:e,onChange:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:outline-none"})]})]}),__=()=>{const[t,e]=N.useState(!0),[n,r]=N.useState(!1);return N.useEffect(()=>{const o=setTimeout(()=>{e(!1),r(!0)},2500);return()=>clearTimeout(o)},[]),{isLoading:t,showInvitation:n,handleOpenInvitation:()=>{r(!1)}}},w_=()=>N.useMemo(()=>({couple:{bride:{name:"Sarah",fullName:"Sarah Anggraini",role:"Mempelai Wanita",image:"https://picsum.photos/seed/bride/600/800",bio:"Seorang arsitek penuh semangat yang mencintai seni, kopi, dan menjelajahi tempat-tempat tersembunyi di seluruh dunia.",parents:"Putri dari Bapak Dedy & Ibu Martina",instagram:"@sarahanggraini",email:"sarah@example.com"},groom:{name:"Adam",fullName:"Adam Kurniawan",role:"Mempelai Pria",image:"https://picsum.photos/seed/groom/600/800",bio:"Seorang Software Engineer yang gemar mendaki, fotografi, dan memasak resep-resep baru.",parents:"Putra dari Bapak Martono & Ibu Widya",instagram:"@adamkurniawan",email:"adam@example.com"}},wedding:{date:"2025-11-22",dateDisplay:"Sabtu, 22 November 2025",time:"14:00:00"},events:[{id:"akad",title:"Akad Nikah",time:"20:00",duration:"1 Jam",location:"Rumah Mempelai Wanita",address:"Jl. Raya Temoran Omben, Kab. Sampang",description:"Bergabunglah dengan kami saat kami mengucapkan janji pernikahan di hadapan orang-orang yang kami cintai",phone:"+62 875-1263-4567",email:"ceremony@wedding.com",color:"from-rose-500 via-pink-500 to-rose-600",bgColor:"bg-rose-50",iconColor:"text-rose-600",ringColor:"ring-rose-400"},{id:"reception",title:"Resepsi",time:"08:00",duration:"4 Jam",location:"Grand Hotel Ballroom",address:"Jl. Jendral Sudirman",description:"Rayakan bersama kami dengan makan malam, berdansa, dan kenangan yang tak terlupakan",phone:"+62 875-2987-6543",email:"reception@wedding.com",color:"from-orange-500 via-amber-500 to-orange-600",bgColor:"bg-orange-50",iconColor:"text-orange-600",ringColor:"ring-orange-400"}],story:[{title:"Pertemuan Pertama",date:"Musim Semi 2019",description:"Kisah kami bermula di sebuah kedai kopi yang nyaman di suatu sore yang hujan.",image:"https://picsum.photos/seed/story1/800/600"},{title:"Kencan Pertama",date:"Musim Panas 2019",description:"Kencan resmi pertama kami adalah jalan-jalan di kebun raya.",image:"https://picsum.photos/seed/story2/800/600"},{title:"Lamaran",date:"Musim Dingin 2023",description:"Di bawah langit berbintang di atas gedung rooftop yang indah, Adam berlutut.",image:"https://picsum.photos/seed/story3/800/600"}],music:{audioSrc:"https://cdn.pixabay.com/audio/2022/02/14/audio_208a2f8b53.mp3",lyrics:[]},gallery:[{url:"https://picsum.photos/seed/gal1/600/800",type:"portrait",title:"Couple by the Sea"},{url:"https://picsum.photos/seed/gal2/800/600",type:"landscape",title:"Lakeside Vows"},{url:"https://picsum.photos/seed/gal3/600/800",type:"portrait",title:"First Dance"},{url:"https://picsum.photos/seed/gal4/800/600",type:"landscape",title:"Sunset Kiss"},{url:"https://picsum.photos/seed/gal5/600/800",type:"portrait",title:"Bridal Portrait"},{url:"https://picsum.photos/seed/gal6/800/600",type:"landscape",title:"Walk to Remember"},{url:"https://picsum.photos/seed/gal7/600/800",type:"portrait",title:"Joyful Embrace"},{url:"https://picsum.photos/seed/gal8/800/600",type:"landscape",title:"Autumn Love"},{url:"https://picsum.photos/seed/gal9/600/800",type:"portrait",title:"Candid Laughter"},{url:"https://picsum.photos/seed/gal10/800/600",type:"landscape",title:"Beach Romance"},{url:"https://picsum.photos/seed/gal11/600/800",type:"portrait",title:"Shared Secrets"},{url:"https://picsum.photos/seed/gal12/800/600",type:"landscape",title:"Holding Hands"}],donations:[{id:"BCA1",type:"Bank Account",bank:"Bank Central Asia",accountNumber:"1234567890",accountName:"Sarah Anggraini",qrUrl:""},{id:"BCA2",type:"Bank Account",bank:"Bank Central Asia",accountNumber:"0987654321",accountName:"Adam Kurniawan",qrUrl:""},{id:"ewallet1",type:"E-Wallet",bank:"OVO",accountNumber:"+62-555-0123",accountName:"Sarah Anggraini",qrUrl:""},{id:"ewallet2",type:"E-Wallet",bank:"GoPay",accountNumber:"+62-555-0124",accountName:"Adam Kurniawan",qrUrl:""}],hero:{backgroundImage:"https://picsum.photos/seed/hero/1920/1080",tagline:"Bersama keluarga kami, kami mengundang Anda untuk merayakan cinta kami"},cinematic:{videoSrc:"https://cdn.coverr.co/videos/coverr-a-beautiful-wedding-ceremony-4217/1080p.mp4",doorImage:"https://upload.wikimedia.org/wikipedia/commons/4/44/White_double_door.svg"},invitation:{title:"You're Invited To The Wedding Of",subtitle:"Kepada Teman dan Keluarga besar, Kami Mengundang",buttonText:"Buka Undangan",backgroundVideo:"https://cdn.coverr.co/videos/coverr-a-beautiful-wedding-ceremony-4217/1080p.mp4"},prayerLetter:{greeting:"Dearest Family and Friends,",body1:"As we stand on the threshold of our new life together, our hearts are overflowing with joy and gratitude. We are so blessed to be surrounded by your love and support, which has shaped us into the people we are today.",body2:"We kindly ask for your prayers as we begin our marriage. Pray that our love for each other will deepen with each passing day, rooted in patience, kindness, and understanding. Pray for wisdom to navigate the challenges that may come our way, and for a bond that is resilient and unbreakable.",body3:"May our home be a sanctuary of peace, laughter, and love, reflecting the grace we have so freely received. Your spiritual support is a cornerstone upon which we hope to build our future, and we are eternally grateful for it.",closing:"With love and gratitude,"},theme:{primary:"#f43f5e",secondary:"#f97316",accent:"#ec4899"}}),[]),S_=({lyrics:t,initialShowLyrics:e=!1,audioSrc:n,autoPlay:r=!1,autoPlayLyrics:i=!1})=>{const o=N.useRef(null),[s,l]=N.useState(r),[u,d]=N.useState(e||i),[h,p]=N.useState(-1),[m,g]=N.useState("");N.useEffect(()=>{r&&o.current&&(o.current.play().catch(w=>console.log("Autoplay blocked:",w)),l(!0))},[r]);const _=()=>{o.current&&(s?o.current.pause():o.current.play().catch(w=>console.error("Playback error:",w)),l(!s))};return N.useEffect(()=>{const w=o.current;if(!w||!u)return;const C=setInterval(()=>{const x=w.currentTime;let y=-1;for(let v=t.length-1;v>=0;v--)if(x>=t[v].time){y=v;break}y!==h&&y>=0&&(p(y),g(""))},100);return()=>clearInterval(C)},[h,u,t]),N.useEffect(()=>{if(h<0||!u)return;const w=t[h].text;let C=0;const x=setInterval(()=>{g(w.slice(0,C+1)),C++,C>=w.length&&clearInterval(x)},50);return()=>clearInterval(x)},[h,u,t]),f.jsx(f.Fragment,{children:f.jsxs("div",{className:"fixed bottom-6 right-6 flex items-center space-x-3 z-50",children:[f.jsx("div",{className:`transition-all duration-700 ease-in-out overflow-hidden ${u?"opacity-100 translate-x-0 max-w-xs":"opacity-0 translate-x-20 max-w-0"}`,children:f.jsx("div",{className:"bg-white/90 backdrop-blur-md text-gray-800 text-sm rounded-xl shadow-lg px-4 py-3 border border-rose-200 w-48 animate-fade-slide whitespace-pre-line",children:m})}),f.jsx("button",{onClick:()=>d(!u),className:"bg-pink-500 hover:bg-pink-600 text-white p-4 rounded-full shadow-lg transition-transform hover:scale-110",children:f.jsx(w0,{size:22})}),f.jsx("button",{onClick:_,className:"bg-rose-600 hover:bg-rose-700 text-white p-4 rounded-full shadow-lg transition-transform hover:scale-110",children:f.jsx(zp,{size:24,className:`${s?"animate-spin-slow text-yellow-200":""}`})}),f.jsx("audio",{ref:o,loop:!0,src:n})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let T_,C_;function E_(){return{geminiUrl:T_,vertexUrl:C_}}function k_(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=E_();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dn{}function F(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function c(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const h=u[d];c(h,e.slice(o+1),n[d])}else for(const d of u)c(d,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];c(u[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(l=>a(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function N_(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let l=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){l=u;break}if(l!==-1&&o.length>l)for(let u=l;u<o.length;u++){const d=o[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}oa(t,i,o,0,s)}}function oa(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const u of l[s])oa(u,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of l)u[d]=s[d];for(const[d,h]of Object.entries(u)){const p=[];for(const m of n.slice(r))m==="*"?p.push(d):p.push(m);c(s,p,h)}for(const d of l)delete s[d]}}else{const s=t;o in s&&oa(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yu(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I_(t){const e={},n=a(t,["operationName"]);n!=null&&c(e,["operationName"],n);const r=a(t,["resourceName"]);return r!=null&&c(e,["_url","resourceName"],r),e}function A_(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const r=a(t,["metadata"]);r!=null&&c(e,["metadata"],r);const i=a(t,["done"]);i!=null&&c(e,["done"],i);const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["response","generateVideoResponse"]);return s!=null&&c(e,["response"],R_(s)),e}function P_(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const r=a(t,["metadata"]);r!=null&&c(e,["metadata"],r);const i=a(t,["done"]);i!=null&&c(e,["done"],i);const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["response"]);return s!=null&&c(e,["response"],b_(s)),e}function R_(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>M_(s))),c(e,["generatedVideos"],o)}const r=a(t,["raiMediaFilteredCount"]);r!=null&&c(e,["raiMediaFilteredCount"],r);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&c(e,["raiMediaFilteredReasons"],i),e}function b_(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>D_(s))),c(e,["generatedVideos"],o)}const r=a(t,["raiMediaFilteredCount"]);r!=null&&c(e,["raiMediaFilteredCount"],r);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&c(e,["raiMediaFilteredReasons"],i),e}function M_(t){const e={},n=a(t,["video"]);return n!=null&&c(e,["video"],F_(n)),e}function D_(t){const e={},n=a(t,["_self"]);return n!=null&&c(e,["video"],$_(n)),e}function L_(t){const e={},n=a(t,["operationName"]);return n!=null&&c(e,["_url","operationName"],n),e}function U_(t){const e={},n=a(t,["operationName"]);return n!=null&&c(e,["_url","operationName"],n),e}function F_(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["uri"],n);const r=a(t,["encodedVideo"]);r!=null&&c(e,["videoBytes"],yu(r));const i=a(t,["encoding"]);return i!=null&&c(e,["mimeType"],i),e}function $_(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["uri"],n);const r=a(t,["bytesBase64Encoded"]);r!=null&&c(e,["videoBytes"],yu(r));const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dd;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dd||(dd={}));var fd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(fd||(fd={}));var Yt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Yt||(Yt={}));var hd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(hd||(hd={}));var pd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(pd||(pd={}));var md;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(md||(md={}));var gd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gd||(gd={}));var yd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(yd||(yd={}));var vd;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(vd||(vd={}));var xd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xd||(xd={}));var _d;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(_d||(_d={}));var wd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(wd||(wd={}));var Sd;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Sd||(Sd={}));var Td;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Td||(Td={}));var Cd;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cd||(Cd={}));var jo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(jo||(jo={}));var Ed;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ed||(Ed={}));var sa;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sa||(sa={}));var kd;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(kd||(kd={}));var Nd;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Nd||(Nd={}));var Id;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Id||(Id={}));var Ad;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ad||(Ad={}));var Pd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Pd||(Pd={}));var Rd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Rd||(Rd={}));var bd;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(bd||(bd={}));var Md;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Md||(Md={}));var Dd;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Dd||(Dd={}));var Ld;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ld||(Ld={}));var Ud;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ud||(Ud={}));var Fd;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fd||(Fd={}));var $d;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($d||($d={}));var Vd;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Vd||(Vd={}));var Bd;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Bd||(Bd={}));var qd;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(qd||(qd={}));var Od;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Od||(Od={}));var jd;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(jd||(jd={}));var Gd;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Gd||(Gd={}));var Hd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Hd||(Hd={}));var zd;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(zd||(zd={}));var Jd;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Jd||(Jd={}));var Wd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Wd||(Wd={}));var Kd;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Kd||(Kd={}));var Yd;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yd||(Yd={}));var Qd;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Qd||(Qd={}));var Xd;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Xd||(Xd={}));var Zd;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Zd||(Zd={}));var ef;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ef||(ef={}));var tf;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(tf||(tf={}));var tr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(tr||(tr={}));class la{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $r{get text(){var e,n,r,i,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const p=[];for(const m of(u=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[g,_]of Object.entries(m))g!=="text"&&g!=="thought"&&(_!==null||_!==void 0)&&p.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;h=!0,d+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const p of(u=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[m,g]of Object.entries(p))m!=="inlineData"&&(g!==null||g!==void 0)&&h.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,s,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,s,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class nf{}class rf{}class V_{}class B_{}class q_{}class O_{}class of{}class sf{}class lf{}class j_{}class Go{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Go;let i;const o=e;return n?i=P_(o):i=A_(o),Object.assign(r,i),r}}class af{}class uf{}class cf{}class G_{}class H_{}class z_{}class df{}class J_{get text(){var e,n,r;let i="",o=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&s.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;o=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="inlineData"&&u!==null&&o.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class W_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function vm(t,e){const n=K(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function xm(t){return Array.isArray(t)?t.map(e=>Ho(e)):[Ho(t)]}function Ho(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function _m(t){const e=Ho(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wm(t){const e=Ho(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ff(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Sm(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ff(e)):[ff(t)]}function aa(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function hf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function pf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ie(t){if(t==null)throw new Error("ContentUnion is required");return aa(t)?t:{role:"user",parts:Sm(t)}}function vu(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ie(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ie(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ie(n)):[Ie(e)]}function Ze(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(hf(t)||pf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ie(t)]}const e=[],n=[],r=aa(t[0]);for(const i of t){const o=aa(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(hf(i)||pf(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Sm(n)}),e}function K_(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Yt).includes(n[0].toUpperCase())?n[0].toUpperCase():Yt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Yt).includes(r.toUpperCase())?r.toUpperCase():Yt.TYPE_UNSPECIFIED})}}function ar(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&K_(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Yt).includes(l.toUpperCase())?l.toUpperCase():Yt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=ar(l);else if(r.includes(s)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(ar(d))}e[s]=u}else if(i.includes(s)){const u={};for(const[d,h]of Object.entries(l))u[d]=ar(h);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=l}return e}function xu(t){return ar(t)}function _u(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wu(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Er(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ar(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ar(e.response));return t}function kr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Y_(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ft(t,e){if(typeof e!="string")throw new Error("name must be a string");return Y_(t,e,"cachedContents")}function Tm(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fn(t){return yu(t)}function Q_(t){return t!=null&&typeof t=="object"&&"name"in t}function X_(t){return t!=null&&typeof t=="object"&&"video"in t}function Z_(t){return t!=null&&typeof t=="object"&&"uri"in t}function Cm(t){var e;let n;if(Q_(t)&&(n=t.name),!(Z_(t)&&(n=t.uri,n===void 0))&&!(X_(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Em(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function km(t){for(const e of["models","tunedModels","publisherModels"])if(ew(t,e))return t[e];return[]}function ew(t,e){return t!==null&&typeof t=="object"&&e in t}function tw(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function nw(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=tw(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Nm(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function rw(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Im(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Nr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Am(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iw(t){const e={},n=a(t,["responsesFile"]);n!=null&&c(e,["fileName"],n);const r=a(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Lw(s))),c(e,["inlinedResponses"],o)}const i=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["inlinedEmbedContentResponses"],o)}return e}function ow(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&c(e,["format"],n);const r=a(t,["gcsDestination","outputUriPrefix"]);r!=null&&c(e,["gcsUri"],r);const i=a(t,["bigqueryDestination","outputUri"]);return i!=null&&c(e,["bigqueryUri"],i),e}function sw(t){const e={},n=a(t,["format"]);n!=null&&c(e,["predictionsFormat"],n);const r=a(t,["gcsUri"]);r!=null&&c(e,["gcsDestination","outputUriPrefix"],r);const i=a(t,["bigqueryUri"]);if(i!=null&&c(e,["bigqueryDestination","outputUri"],i),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ho(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const r=a(t,["metadata","displayName"]);r!=null&&c(e,["displayName"],r);const i=a(t,["metadata","state"]);i!=null&&c(e,["state"],Am(i));const o=a(t,["metadata","createTime"]);o!=null&&c(e,["createTime"],o);const s=a(t,["metadata","endTime"]);s!=null&&c(e,["endTime"],s);const l=a(t,["metadata","updateTime"]);l!=null&&c(e,["updateTime"],l);const u=a(t,["metadata","model"]);u!=null&&c(e,["model"],u);const d=a(t,["metadata","output"]);return d!=null&&c(e,["dest"],iw(Im(d))),e}function ua(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const r=a(t,["displayName"]);r!=null&&c(e,["displayName"],r);const i=a(t,["state"]);i!=null&&c(e,["state"],Am(i));const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["createTime"]);s!=null&&c(e,["createTime"],s);const l=a(t,["startTime"]);l!=null&&c(e,["startTime"],l);const u=a(t,["endTime"]);u!=null&&c(e,["endTime"],u);const d=a(t,["updateTime"]);d!=null&&c(e,["updateTime"],d);const h=a(t,["model"]);h!=null&&c(e,["model"],h);const p=a(t,["inputConfig"]);p!=null&&c(e,["src"],lw(p));const m=a(t,["outputConfig"]);return m!=null&&c(e,["dest"],ow(Im(m))),e}function lw(t){const e={},n=a(t,["instancesFormat"]);n!=null&&c(e,["format"],n);const r=a(t,["gcsSource","uris"]);r!=null&&c(e,["gcsUri"],r);const i=a(t,["bigquerySource","inputUri"]);return i!=null&&c(e,["bigqueryUri"],i),e}function aw(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=a(e,["fileName"]);r!=null&&c(n,["fileName"],r);const i=a(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Dw(t,s))),c(n,["requests","requests"],o)}return n}function uw(t){const e={},n=a(t,["format"]);n!=null&&c(e,["instancesFormat"],n);const r=a(t,["gcsUri"]);r!=null&&c(e,["gcsSource","uris"],r);const i=a(t,["bigqueryUri"]);if(i!=null&&c(e,["bigquerySource","inputUri"],i),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function cw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function dw(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Nr(t,r)),n}function fw(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Nr(t,r)),n}function hw(t){const e={},n=a(t,["content"]);n!=null&&c(e,["content"],n);const r=a(t,["citationMetadata"]);r!=null&&c(e,["citationMetadata"],pw(r));const i=a(t,["tokenCount"]);i!=null&&c(e,["tokenCount"],i);const o=a(t,["finishReason"]);o!=null&&c(e,["finishReason"],o);const s=a(t,["urlContextMetadata"]);s!=null&&c(e,["urlContextMetadata"],s);const l=a(t,["avgLogprobs"]);l!=null&&c(e,["avgLogprobs"],l);const u=a(t,["groundingMetadata"]);u!=null&&c(e,["groundingMetadata"],u);const d=a(t,["index"]);d!=null&&c(e,["index"],d);const h=a(t,["logprobsResult"]);h!=null&&c(e,["logprobsResult"],h);const p=a(t,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>g)),c(e,["safetyRatings"],m)}return e}function pw(t){const e={},n=a(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),c(e,["citations"],r)}return e}function Pm(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ow(o))),c(e,["parts"],i)}const r=a(t,["role"]);return r!=null&&c(e,["role"],r),e}function mw(t,e){const n={},r=a(t,["displayName"]);if(e!==void 0&&r!=null&&c(e,["batch","displayName"],r),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function gw(t,e){const n={},r=a(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const i=a(t,["dest"]);return e!==void 0&&i!=null&&c(e,["outputConfig"],sw(rw(i))),n}function mf(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["src"]);i!=null&&c(n,["batch","inputConfig"],aw(t,Nm(t,i)));const o=a(e,["config"]);return o!=null&&mw(o,n),n}function yw(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["model"],K(t,r));const i=a(e,["src"]);i!=null&&c(n,["inputConfig"],uw(Nm(t,i)));const o=a(e,["config"]);return o!=null&&gw(o,n),n}function vw(t,e){const n={},r=a(t,["displayName"]);return e!==void 0&&r!=null&&c(e,["batch","displayName"],r),n}function xw(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["src"]);i!=null&&c(n,["batch","inputConfig"],kw(t,i));const o=a(e,["config"]);return o!=null&&vw(o,n),n}function _w(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Nr(t,r)),n}function ww(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Nr(t,r)),n}function Sw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const i=a(t,["done"]);i!=null&&c(e,["done"],i);const o=a(t,["error"]);return o!=null&&c(e,["error"],o),e}function Tw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const i=a(t,["done"]);i!=null&&c(e,["done"],i);const o=a(t,["error"]);return o!=null&&c(e,["error"],o),e}function Cw(t,e){const n={},r=a(e,["contents"]);if(r!=null){let o=vu(t,r);Array.isArray(o)&&(o=o.map(s=>s)),c(n,["requests[]","request","content"],o)}const i=a(e,["config"]);return i!=null&&(c(n,["_self"],Ew(i,n)),N_(n,{"requests[].*":"requests[].request.*"})),n}function Ew(t,e){const n={},r=a(t,["taskType"]);e!==void 0&&r!=null&&c(e,["requests[]","taskType"],r);const i=a(t,["title"]);e!==void 0&&i!=null&&c(e,["requests[]","title"],i);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&c(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kw(t,e){const n={},r=a(e,["fileName"]);r!=null&&c(n,["file_name"],r);const i=a(e,["inlinedRequests"]);return i!=null&&c(n,["requests"],Cw(t,i)),n}function Nw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Iw(t,e,n){const r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&c(n,["systemInstruction"],Pm(Ie(i)));const o=a(e,["temperature"]);o!=null&&c(r,["temperature"],o);const s=a(e,["topP"]);s!=null&&c(r,["topP"],s);const l=a(e,["topK"]);l!=null&&c(r,["topK"],l);const u=a(e,["candidateCount"]);u!=null&&c(r,["candidateCount"],u);const d=a(e,["maxOutputTokens"]);d!=null&&c(r,["maxOutputTokens"],d);const h=a(e,["stopSequences"]);h!=null&&c(r,["stopSequences"],h);const p=a(e,["responseLogprobs"]);p!=null&&c(r,["responseLogprobs"],p);const m=a(e,["logprobs"]);m!=null&&c(r,["logprobs"],m);const g=a(e,["presencePenalty"]);g!=null&&c(r,["presencePenalty"],g);const _=a(e,["frequencyPenalty"]);_!=null&&c(r,["frequencyPenalty"],_);const w=a(e,["seed"]);w!=null&&c(r,["seed"],w);const C=a(e,["responseMimeType"]);C!=null&&c(r,["responseMimeType"],C);const x=a(e,["responseSchema"]);x!=null&&c(r,["responseSchema"],xu(x));const y=a(e,["responseJsonSchema"]);if(y!=null&&c(r,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(n!==void 0&&v!=null){let M=v;Array.isArray(M)&&(M=M.map(L=>jw(L))),c(n,["safetySettings"],M)}const S=a(e,["tools"]);if(n!==void 0&&S!=null){let M=kr(S);Array.isArray(M)&&(M=M.map(L=>Gw(Er(L)))),c(n,["tools"],M)}const k=a(e,["toolConfig"]);if(n!==void 0&&k!=null&&c(n,["toolConfig"],k),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=a(e,["cachedContent"]);n!==void 0&&E!=null&&c(n,["cachedContent"],Ft(t,E));const I=a(e,["responseModalities"]);I!=null&&c(r,["responseModalities"],I);const A=a(e,["mediaResolution"]);A!=null&&c(r,["mediaResolution"],A);const R=a(e,["speechConfig"]);if(R!=null&&c(r,["speechConfig"],_u(R)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=a(e,["thinkingConfig"]);b!=null&&c(r,["thinkingConfig"],b);const q=a(e,["imageConfig"]);return q!=null&&c(r,["imageConfig"],q),r}function Aw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>hw(d))),c(e,["candidates"],u)}const i=a(t,["modelVersion"]);i!=null&&c(e,["modelVersion"],i);const o=a(t,["promptFeedback"]);o!=null&&c(e,["promptFeedback"],o);const s=a(t,["responseId"]);s!=null&&c(e,["responseId"],s);const l=a(t,["usageMetadata"]);return l!=null&&c(e,["usageMetadata"],l),e}function Pw(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Nr(t,r)),n}function Rw(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Nr(t,r)),n}function bw(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function Mw(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Dw(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["request","model"],K(t,r));const i=a(e,["contents"]);if(i!=null){let l=Ze(i);Array.isArray(l)&&(l=l.map(u=>Pm(u))),c(n,["request","contents"],l)}const o=a(e,["metadata"]);o!=null&&c(n,["metadata"],o);const s=a(e,["config"]);return s!=null&&c(n,["request","generationConfig"],Iw(t,s,a(n,["request"],{}))),n}function Lw(t){const e={},n=a(t,["response"]);n!=null&&c(e,["response"],Aw(n));const r=a(t,["error"]);return r!=null&&c(e,["error"],r),e}function Uw(t,e){const n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const i=a(t,["pageToken"]);if(e!==void 0&&i!=null&&c(e,["_query","pageToken"],i),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Fw(t,e){const n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const i=a(t,["pageToken"]);e!==void 0&&i!=null&&c(e,["_query","pageToken"],i);const o=a(t,["filter"]);return e!==void 0&&o!=null&&c(e,["_query","filter"],o),n}function $w(t){const e={},n=a(t,["config"]);return n!=null&&Uw(n,e),e}function Vw(t){const e={},n=a(t,["config"]);return n!=null&&Fw(n,e),e}function Bw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ho(s))),c(e,["batchJobs"],o)}return e}function qw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ua(s))),c(e,["batchJobs"],o)}return e}function Ow(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const r=a(t,["thought"]);r!=null&&c(e,["thought"],r);const i=a(t,["inlineData"]);i!=null&&c(e,["inlineData"],cw(i));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],Nw(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const l=a(t,["functionCall"]);l!=null&&c(e,["functionCall"],l);const u=a(t,["codeExecutionResult"]);u!=null&&c(e,["codeExecutionResult"],u);const d=a(t,["executableCode"]);d!=null&&c(e,["executableCode"],d);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const p=a(t,["text"]);return p!=null&&c(e,["text"],p),e}function jw(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&c(e,["category"],n);const r=a(t,["threshold"]);return r!=null&&c(e,["threshold"],r),e}function Gw(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),c(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],Mw(r));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&c(e,["googleSearchRetrieval"],i),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],bw(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const l=a(t,["computerUse"]);l!=null&&c(e,["computerUse"],l);const u=a(t,["codeExecution"]);return u!=null&&c(e,["codeExecution"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Pn||(Pn={}));class Ri{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hw extends Dn{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Ri(Pn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=mf(this.apiClient,e),r=n._url,i=F("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,d=[];for(const h of u){const p=Object.assign({},h);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=m,p.request=g}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=yw(this.apiClient,e);return l=F("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>ua(h))}else{const d=mf(this.apiClient,e);return l=F("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ho(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xw(this.apiClient,e);return o=F("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>ho(u))}}async get(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=Rw(this.apiClient,e);return l=F("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>ua(h))}else{const d=Pw(this.apiClient,e);return l=F("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ho(h))}}async cancel(e){var n,r,i,o;let s="",l={};if(this.apiClient.isVertexAI()){const u=fw(this.apiClient,e);s=F("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=dw(this.apiClient,e);s=F("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=Vw(e);return l=F("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=qw(h),m=new df;return Object.assign(m,p),m})}else{const d=$w(e);return l=F("batches",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=Bw(h),m=new df;return Object.assign(m,p),m})}}async delete(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=ww(this.apiClient,e);return l=F("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>Tw(h))}else{const d=_w(this.apiClient,e);return l=F("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>Sw(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function gf(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hS(o))),c(e,["parts"],i)}const r=a(t,["role"]);return r!=null&&c(e,["role"],r),e}function Jw(t,e){const n={},r=a(t,["ttl"]);e!==void 0&&r!=null&&c(e,["ttl"],r);const i=a(t,["expireTime"]);e!==void 0&&i!=null&&c(e,["expireTime"],i);const o=a(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let h=Ze(s);Array.isArray(h)&&(h=h.map(p=>gf(p))),c(e,["contents"],h)}const l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&c(e,["systemInstruction"],gf(Ie(l)));const u=a(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>pS(p))),c(e,["tools"],h)}const d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&c(e,["toolConfig"],d),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Ww(t,e){const n={},r=a(t,["ttl"]);e!==void 0&&r!=null&&c(e,["ttl"],r);const i=a(t,["expireTime"]);e!==void 0&&i!=null&&c(e,["expireTime"],i);const o=a(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let p=Ze(s);Array.isArray(p)&&(p=p.map(m=>m)),c(e,["contents"],p)}const l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&c(e,["systemInstruction"],Ie(l));const u=a(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>mS(m))),c(e,["tools"],p)}const d=a(t,["toolConfig"]);e!==void 0&&d!=null&&c(e,["toolConfig"],d);const h=a(t,["kmsKeyName"]);return e!==void 0&&h!=null&&c(e,["encryption_spec","kmsKeyName"],h),n}function Kw(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["model"],vm(t,r));const i=a(e,["config"]);return i!=null&&Jw(i,n),n}function Yw(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["model"],vm(t,r));const i=a(e,["config"]);return i!=null&&Ww(i,n),n}function Qw(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Ft(t,r)),n}function Xw(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Ft(t,r)),n}function Zw(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function eS(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function tS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function nS(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const i=a(t,["parameters"]);i!=null&&c(e,["parameters"],i);const o=a(t,["parametersJsonSchema"]);o!=null&&c(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&c(e,["response"],s);const l=a(t,["responseJsonSchema"]);return l!=null&&c(e,["responseJsonSchema"],l),e}function rS(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Ft(t,r)),n}function iS(t,e){const n={},r=a(e,["name"]);return r!=null&&c(n,["_url","name"],Ft(t,r)),n}function oS(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function sS(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function lS(t,e){const n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const i=a(t,["pageToken"]);return e!==void 0&&i!=null&&c(e,["_query","pageToken"],i),n}function aS(t,e){const n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const i=a(t,["pageToken"]);return e!==void 0&&i!=null&&c(e,["_query","pageToken"],i),n}function uS(t){const e={},n=a(t,["config"]);return n!=null&&lS(n,e),e}function cS(t){const e={},n=a(t,["config"]);return n!=null&&aS(n,e),e}function dS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["cachedContents"],o)}return e}function fS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["cachedContents"],o)}return e}function hS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const r=a(t,["thought"]);r!=null&&c(e,["thought"],r);const i=a(t,["inlineData"]);i!=null&&c(e,["inlineData"],zw(i));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],tS(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const l=a(t,["functionCall"]);l!=null&&c(e,["functionCall"],l);const u=a(t,["codeExecutionResult"]);u!=null&&c(e,["codeExecutionResult"],u);const d=a(t,["executableCode"]);d!=null&&c(e,["executableCode"],d);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const p=a(t,["text"]);return p!=null&&c(e,["text"],p),e}function pS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),c(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],sS(r));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&c(e,["googleSearchRetrieval"],i),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],oS(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const l=a(t,["computerUse"]);l!=null&&c(e,["computerUse"],l);const u=a(t,["codeExecution"]);return u!=null&&c(e,["codeExecution"],u),e}function mS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>nS(m))),c(e,["functionDeclarations"],p)}const r=a(t,["retrieval"]);r!=null&&c(e,["retrieval"],r);const i=a(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);const s=a(t,["enterpriseWebSearch"]);s!=null&&c(e,["enterpriseWebSearch"],s);const l=a(t,["googleMaps"]);l!=null&&c(e,["googleMaps"],l);const u=a(t,["urlContext"]);u!=null&&c(e,["urlContext"],u);const d=a(t,["computerUse"]);d!=null&&c(e,["computerUse"],d);const h=a(t,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function gS(t,e){const n={},r=a(t,["ttl"]);e!==void 0&&r!=null&&c(e,["ttl"],r);const i=a(t,["expireTime"]);return e!==void 0&&i!=null&&c(e,["expireTime"],i),n}function yS(t,e){const n={},r=a(t,["ttl"]);e!==void 0&&r!=null&&c(e,["ttl"],r);const i=a(t,["expireTime"]);return e!==void 0&&i!=null&&c(e,["expireTime"],i),n}function vS(t,e){const n={},r=a(e,["name"]);r!=null&&c(n,["_url","name"],Ft(t,r));const i=a(e,["config"]);return i!=null&&gS(i,n),n}function xS(t,e){const n={},r=a(e,["name"]);r!=null&&c(n,["_url","name"],Ft(t,r));const i=a(e,["config"]);return i!=null&&yS(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _S extends Dn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ri(Pn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=Yw(this.apiClient,e);return l=F("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=Kw(this.apiClient,e);return l=F("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=iS(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=rS(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=Xw(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=eS(h),m=new uf;return Object.assign(m,p),m})}else{const d=Qw(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=Zw(h),m=new uf;return Object.assign(m,p),m})}}async update(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=xS(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=vS(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=cS(e);return l=F("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=fS(h),m=new cf;return Object.assign(m,p),m})}else{const d=uS(e);return l=F("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=dS(h),m=new cf;return Object.assign(m,p),m})}}}function yf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(t){return this instanceof ne?(this.v=t,this):new ne(t)}function ur(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,p)}}function l(g,_){r[g]&&(i[g]=function(w){return new Promise(function(C,x){o.push([g,w,C,x])>1||u(g,w)})},_&&(i[g]=_(i[g])))}function u(g,_){try{d(r[g](_))}catch(w){m(o[0][3],w)}}function d(g){g.value instanceof ne?Promise.resolve(g.value.v).then(h,p):m(o[0][2],g)}function h(g){u("next",g)}function p(g){u("throw",g)}function m(g,_){g(_),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ri(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yf=="function"?yf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(l,u){s=t[o](s),i(l,u,s.done,s.value)})}}function i(o,s,l,u){Promise.resolve(u).then(function(d){o({value:d,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Rm(n)}function Rm(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function SS(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vf(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Rm(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class TS{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new CS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class CS{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),SS(o)}async sendMessage(e){var n;await this.sendPromise;const r=Ie(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,l;const u=await i,d=(s=(o=u.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];h!=null&&(m=(l=h.slice(p))!==null&&l!==void 0?l:[]);const g=d?[d]:[];this.recordHistory(r,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ie(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?vf(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return ur(this,arguments,function*(){var s,l,u,d;const h=[];try{for(var p=!0,m=ri(e),g;g=yield ne(m.next()),s=g.done,!s;p=!0){d=g.value,p=!1;const _=d;if(wS(_)){const w=(i=(r=_.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;w!==void 0&&h.push(w)}yield yield ne(_)}}catch(_){l={error:_}}finally{try{!p&&!s&&(u=m.return)&&(yield ne(u.call(m)))}finally{if(l)throw l.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...vf(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,hs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(t){const e={},n=a(t,["file"]);return n!=null&&c(e,["file"],n),e}function kS(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function NS(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["_url","file"],Cm(n)),e}function IS(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function AS(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["_url","file"],Cm(n)),e}function PS(t,e){const n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const i=a(t,["pageToken"]);return e!==void 0&&i!=null&&c(e,["_query","pageToken"],i),n}function RS(t){const e={},n=a(t,["config"]);return n!=null&&PS(n,e),e}function bS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MS extends Dn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ri(Pn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RS(e);return o=F("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=bS(u),h=new G_;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ES(e);return o=F("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=kS(u),h=new H_;return Object.assign(h,d),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=AS(e);return o=F("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=NS(e);return o=F("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=IS(u),h=new z_;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function po(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function DS(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>KS(o))),c(e,["parts"],i)}const r=a(t,["role"]);return r!=null&&c(e,["role"],r),e}function LS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function US(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const i=a(t,["parameters"]);i!=null&&c(e,["parameters"],i);const o=a(t,["parametersJsonSchema"]);o!=null&&c(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&c(e,["response"],s);const l=a(t,["responseJsonSchema"]);return l!=null&&c(e,["responseJsonSchema"],l),e}function FS(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&c(e,["modelConfig"],n);const r=a(t,["audioTimestamp"]);r!=null&&c(e,["audioTimestamp"],r);const i=a(t,["candidateCount"]);i!=null&&c(e,["candidateCount"],i);const o=a(t,["enableAffectiveDialog"]);o!=null&&c(e,["enableAffectiveDialog"],o);const s=a(t,["frequencyPenalty"]);s!=null&&c(e,["frequencyPenalty"],s);const l=a(t,["logprobs"]);l!=null&&c(e,["logprobs"],l);const u=a(t,["maxOutputTokens"]);u!=null&&c(e,["maxOutputTokens"],u);const d=a(t,["mediaResolution"]);d!=null&&c(e,["mediaResolution"],d);const h=a(t,["presencePenalty"]);h!=null&&c(e,["presencePenalty"],h);const p=a(t,["responseJsonSchema"]);p!=null&&c(e,["responseJsonSchema"],p);const m=a(t,["responseLogprobs"]);m!=null&&c(e,["responseLogprobs"],m);const g=a(t,["responseMimeType"]);g!=null&&c(e,["responseMimeType"],g);const _=a(t,["responseModalities"]);_!=null&&c(e,["responseModalities"],_);const w=a(t,["responseSchema"]);w!=null&&c(e,["responseSchema"],w);const C=a(t,["routingConfig"]);C!=null&&c(e,["routingConfig"],C);const x=a(t,["seed"]);x!=null&&c(e,["seed"],x);const y=a(t,["speechConfig"]);y!=null&&c(e,["speechConfig"],bm(y));const v=a(t,["stopSequences"]);v!=null&&c(e,["stopSequences"],v);const S=a(t,["temperature"]);S!=null&&c(e,["temperature"],S);const k=a(t,["thinkingConfig"]);k!=null&&c(e,["thinkingConfig"],k);const E=a(t,["topK"]);E!=null&&c(e,["topK"],E);const I=a(t,["topP"]);return I!=null&&c(e,["topP"],I),e}function $S(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function VS(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function BS(t,e){const n={},r=a(t,["generationConfig"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig"],r);const i=a(t,["responseModalities"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig","responseModalities"],i);const o=a(t,["temperature"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);const l=a(t,["topK"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topK"],l);const u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);const h=a(t,["seed"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","seed"],h);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],wu(p));const m=a(t,["thinkingConfig"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","thinkingConfig"],m);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=a(t,["systemInstruction"]);e!==void 0&&_!=null&&c(e,["setup","systemInstruction"],DS(Ie(_)));const w=a(t,["tools"]);if(e!==void 0&&w!=null){let E=kr(w);Array.isArray(E)&&(E=E.map(I=>QS(Er(I)))),c(e,["setup","tools"],E)}const C=a(t,["sessionResumption"]);e!==void 0&&C!=null&&c(e,["setup","sessionResumption"],YS(C));const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&c(e,["setup","inputAudioTranscription"],x);const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&c(e,["setup","outputAudioTranscription"],y);const v=a(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&c(e,["setup","realtimeInputConfig"],v);const S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&c(e,["setup","contextWindowCompression"],S);const k=a(t,["proactivity"]);return e!==void 0&&k!=null&&c(e,["setup","proactivity"],k),n}function qS(t,e){const n={},r=a(t,["generationConfig"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig"],FS(r));const i=a(t,["responseModalities"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig","responseModalities"],i);const o=a(t,["temperature"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);const l=a(t,["topK"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topK"],l);const u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);const h=a(t,["seed"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","seed"],h);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],bm(wu(p)));const m=a(t,["thinkingConfig"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","thinkingConfig"],m);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=a(t,["systemInstruction"]);e!==void 0&&_!=null&&c(e,["setup","systemInstruction"],Ie(_));const w=a(t,["tools"]);if(e!==void 0&&w!=null){let E=kr(w);Array.isArray(E)&&(E=E.map(I=>XS(Er(I)))),c(e,["setup","tools"],E)}const C=a(t,["sessionResumption"]);e!==void 0&&C!=null&&c(e,["setup","sessionResumption"],C);const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&c(e,["setup","inputAudioTranscription"],x);const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&c(e,["setup","outputAudioTranscription"],y);const v=a(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&c(e,["setup","realtimeInputConfig"],v);const S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&c(e,["setup","contextWindowCompression"],S);const k=a(t,["proactivity"]);return e!==void 0&&k!=null&&c(e,["setup","proactivity"],k),n}function OS(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["setup","model"],K(t,r));const i=a(e,["config"]);return i!=null&&c(n,["config"],BS(i,n)),n}function jS(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["setup","model"],K(t,r));const i=a(e,["config"]);return i!=null&&c(n,["config"],qS(i,n)),n}function GS(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&c(e,["musicGenerationConfig"],n),e}function HS(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),c(e,["weightedPrompts"],r)}return e}function zS(t){const e={},n=a(t,["media"]);if(n!=null){let d=xm(n);Array.isArray(d)&&(d=d.map(h=>po(h))),c(e,["mediaChunks"],d)}const r=a(t,["audio"]);r!=null&&c(e,["audio"],po(wm(r)));const i=a(t,["audioStreamEnd"]);i!=null&&c(e,["audioStreamEnd"],i);const o=a(t,["video"]);o!=null&&c(e,["video"],po(_m(o)));const s=a(t,["text"]);s!=null&&c(e,["text"],s);const l=a(t,["activityStart"]);l!=null&&c(e,["activityStart"],l);const u=a(t,["activityEnd"]);return u!=null&&c(e,["activityEnd"],u),e}function JS(t){const e={},n=a(t,["media"]);if(n!=null){let d=xm(n);Array.isArray(d)&&(d=d.map(h=>h)),c(e,["mediaChunks"],d)}const r=a(t,["audio"]);r!=null&&c(e,["audio"],wm(r));const i=a(t,["audioStreamEnd"]);i!=null&&c(e,["audioStreamEnd"],i);const o=a(t,["video"]);o!=null&&c(e,["video"],_m(o));const s=a(t,["text"]);s!=null&&c(e,["text"],s);const l=a(t,["activityStart"]);l!=null&&c(e,["activityStart"],l);const u=a(t,["activityEnd"]);return u!=null&&c(e,["activityEnd"],u),e}function WS(t){const e={},n=a(t,["setupComplete"]);n!=null&&c(e,["setupComplete"],n);const r=a(t,["serverContent"]);r!=null&&c(e,["serverContent"],r);const i=a(t,["toolCall"]);i!=null&&c(e,["toolCall"],i);const o=a(t,["toolCallCancellation"]);o!=null&&c(e,["toolCallCancellation"],o);const s=a(t,["usageMetadata"]);s!=null&&c(e,["usageMetadata"],ZS(s));const l=a(t,["goAway"]);l!=null&&c(e,["goAway"],l);const u=a(t,["sessionResumptionUpdate"]);return u!=null&&c(e,["sessionResumptionUpdate"],u),e}function KS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const r=a(t,["thought"]);r!=null&&c(e,["thought"],r);const i=a(t,["inlineData"]);i!=null&&c(e,["inlineData"],po(i));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],LS(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const l=a(t,["functionCall"]);l!=null&&c(e,["functionCall"],l);const u=a(t,["codeExecutionResult"]);u!=null&&c(e,["codeExecutionResult"],u);const d=a(t,["executableCode"]);d!=null&&c(e,["executableCode"],d);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const p=a(t,["text"]);return p!=null&&c(e,["text"],p),e}function YS(t){const e={},n=a(t,["handle"]);if(n!=null&&c(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bm(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],n),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=a(t,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function QS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),c(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],VS(r));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&c(e,["googleSearchRetrieval"],i),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],$S(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const l=a(t,["computerUse"]);l!=null&&c(e,["computerUse"],l);const u=a(t,["codeExecution"]);return u!=null&&c(e,["codeExecution"],u),e}function XS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>US(m))),c(e,["functionDeclarations"],p)}const r=a(t,["retrieval"]);r!=null&&c(e,["retrieval"],r);const i=a(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);const s=a(t,["enterpriseWebSearch"]);s!=null&&c(e,["enterpriseWebSearch"],s);const l=a(t,["googleMaps"]);l!=null&&c(e,["googleMaps"],l);const u=a(t,["urlContext"]);u!=null&&c(e,["urlContext"],u);const d=a(t,["computerUse"]);d!=null&&c(e,["computerUse"],d);const h=a(t,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function ZS(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const r=a(t,["cachedContentTokenCount"]);r!=null&&c(e,["cachedContentTokenCount"],r);const i=a(t,["candidatesTokenCount"]);i!=null&&c(e,["responseTokenCount"],i);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&c(e,["toolUsePromptTokenCount"],o);const s=a(t,["thoughtsTokenCount"]);s!=null&&c(e,["thoughtsTokenCount"],s);const l=a(t,["totalTokenCount"]);l!=null&&c(e,["totalTokenCount"],l);const u=a(t,["promptTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(_=>_)),c(e,["promptTokensDetails"],g)}const d=a(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(_=>_)),c(e,["cacheTokensDetails"],g)}const h=a(t,["candidatesTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),c(e,["responseTokensDetails"],g)}const p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(_=>_)),c(e,["toolUsePromptTokensDetails"],g)}const m=a(t,["trafficType"]);return m!=null&&c(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eT(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function tT(t){const e={},n=a(t,["content"]);n!=null&&c(e,["content"],n);const r=a(t,["citationMetadata"]);r!=null&&c(e,["citationMetadata"],nT(r));const i=a(t,["tokenCount"]);i!=null&&c(e,["tokenCount"],i);const o=a(t,["finishReason"]);o!=null&&c(e,["finishReason"],o);const s=a(t,["urlContextMetadata"]);s!=null&&c(e,["urlContextMetadata"],s);const l=a(t,["avgLogprobs"]);l!=null&&c(e,["avgLogprobs"],l);const u=a(t,["groundingMetadata"]);u!=null&&c(e,["groundingMetadata"],u);const d=a(t,["index"]);d!=null&&c(e,["index"],d);const h=a(t,["logprobsResult"]);h!=null&&c(e,["logprobsResult"],h);const p=a(t,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>g)),c(e,["safetyRatings"],m)}return e}function nT(t){const e={},n=a(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),c(e,["citations"],r)}return e}function rT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["contents"]);if(i!=null){let o=Ze(i);Array.isArray(o)&&(o=o.map(s=>s)),c(n,["contents"],o)}return n}function iT(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),c(e,["tokensInfo"],i)}return e}function oT(t){const e={},n=a(t,["values"]);n!=null&&c(e,["values"],n);const r=a(t,["statistics"]);return r!=null&&c(e,["statistics"],sT(r)),e}function sT(t){const e={},n=a(t,["truncated"]);n!=null&&c(e,["truncated"],n);const r=a(t,["token_count"]);return r!=null&&c(e,["tokenCount"],r),e}function ps(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dC(o))),c(e,["parts"],i)}const r=a(t,["role"]);return r!=null&&c(e,["role"],r),e}function lT(t){const e={},n=a(t,["controlType"]);n!=null&&c(e,["controlType"],n);const r=a(t,["enableControlImageComputation"]);return r!=null&&c(e,["computeControl"],r),e}function aT(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function uT(t,e){const n={},r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&c(e,["systemInstruction"],Ie(r));const i=a(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Fm(l))),c(e,["tools"],s)}const o=a(t,["generationConfig"]);return e!==void 0&&o!=null&&c(e,["generationConfig"],XT(o)),n}function cT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["contents"]);if(i!=null){let s=Ze(i);Array.isArray(s)&&(s=s.map(l=>ps(l))),c(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&aT(o),n}function dT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["contents"]);if(i!=null){let s=Ze(i);Array.isArray(s)&&(s=s.map(l=>l)),c(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&uT(o,n),n}function fT(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["totalTokens"]);r!=null&&c(e,["totalTokens"],r);const i=a(t,["cachedContentTokenCount"]);return i!=null&&c(e,["cachedContentTokenCount"],i),e}function hT(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["totalTokens"]);return r!=null&&c(e,["totalTokens"],r),e}function pT(t,e){const n={},r=a(e,["model"]);return r!=null&&c(n,["_url","name"],K(t,r)),n}function mT(t,e){const n={},r=a(e,["model"]);return r!=null&&c(n,["_url","name"],K(t,r)),n}function gT(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function yT(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function vT(t,e){const n={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&c(e,["parameters","negativePrompt"],i);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);const l=a(t,["guidanceScale"]);e!==void 0&&l!=null&&c(e,["parameters","guidanceScale"],l);const u=a(t,["seed"]);e!==void 0&&u!=null&&c(e,["parameters","seed"],u);const d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);const h=a(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&c(e,["parameters","includeSafetyAttributes"],p);const m=a(t,["includeRaiReason"]);e!==void 0&&m!=null&&c(e,["parameters","includeRaiReason"],m);const g=a(t,["language"]);e!==void 0&&g!=null&&c(e,["parameters","language"],g);const _=a(t,["outputMimeType"]);e!==void 0&&_!=null&&c(e,["parameters","outputOptions","mimeType"],_);const w=a(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&c(e,["parameters","outputOptions","compressionQuality"],w);const C=a(t,["addWatermark"]);e!==void 0&&C!=null&&c(e,["parameters","addWatermark"],C);const x=a(t,["labels"]);e!==void 0&&x!=null&&c(e,["labels"],x);const y=a(t,["editMode"]);e!==void 0&&y!=null&&c(e,["parameters","editMode"],y);const v=a(t,["baseSteps"]);return e!==void 0&&v!=null&&c(e,["parameters","editConfig","baseSteps"],v),n}function xT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=a(e,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>yC(u))),c(n,["instances[0]","referenceImages"],l)}const s=a(e,["config"]);return s!=null&&vT(s,n),n}function _T(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ms(o))),c(e,["generatedImages"],i)}return e}function wT(t,e){const n={},r=a(t,["taskType"]);e!==void 0&&r!=null&&c(e,["requests[]","taskType"],r);const i=a(t,["title"]);e!==void 0&&i!=null&&c(e,["requests[]","title"],i);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&c(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ST(t,e){const n={},r=a(t,["taskType"]);e!==void 0&&r!=null&&c(e,["instances[]","task_type"],r);const i=a(t,["title"]);e!==void 0&&i!=null&&c(e,["instances[]","title"],i);const o=a(t,["outputDimensionality"]);e!==void 0&&o!=null&&c(e,["parameters","outputDimensionality"],o);const s=a(t,["mimeType"]);e!==void 0&&s!=null&&c(e,["instances[]","mimeType"],s);const l=a(t,["autoTruncate"]);return e!==void 0&&l!=null&&c(e,["parameters","autoTruncate"],l),n}function TT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["contents"]);if(i!=null){let l=vu(t,i);Array.isArray(l)&&(l=l.map(u=>u)),c(n,["requests[]","content"],l)}const o=a(e,["config"]);o!=null&&wT(o,n);const s=a(e,["model"]);return s!==void 0&&c(n,["requests[]","model"],K(t,s)),n}function CT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["contents"]);if(i!=null){let s=vu(t,i);Array.isArray(s)&&(s=s.map(l=>l)),c(n,["instances[]","content"],s)}const o=a(e,["config"]);return o!=null&&ST(o,n),n}function ET(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),c(e,["embeddings"],o)}const i=a(t,["metadata"]);return i!=null&&c(e,["metadata"],i),e}function kT(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>oT(s))),c(e,["embeddings"],o)}const i=a(t,["metadata"]);return i!=null&&c(e,["metadata"],i),e}function NT(t){const e={},n=a(t,["endpoint"]);n!=null&&c(e,["name"],n);const r=a(t,["deployedModelId"]);return r!=null&&c(e,["deployedModelId"],r),e}function IT(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function AT(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const i=a(t,["parameters"]);i!=null&&c(e,["parameters"],i);const o=a(t,["parametersJsonSchema"]);o!=null&&c(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&c(e,["response"],s);const l=a(t,["responseJsonSchema"]);return l!=null&&c(e,["responseJsonSchema"],l),e}function PT(t,e,n){const r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&c(n,["systemInstruction"],ps(Ie(i)));const o=a(e,["temperature"]);o!=null&&c(r,["temperature"],o);const s=a(e,["topP"]);s!=null&&c(r,["topP"],s);const l=a(e,["topK"]);l!=null&&c(r,["topK"],l);const u=a(e,["candidateCount"]);u!=null&&c(r,["candidateCount"],u);const d=a(e,["maxOutputTokens"]);d!=null&&c(r,["maxOutputTokens"],d);const h=a(e,["stopSequences"]);h!=null&&c(r,["stopSequences"],h);const p=a(e,["responseLogprobs"]);p!=null&&c(r,["responseLogprobs"],p);const m=a(e,["logprobs"]);m!=null&&c(r,["logprobs"],m);const g=a(e,["presencePenalty"]);g!=null&&c(r,["presencePenalty"],g);const _=a(e,["frequencyPenalty"]);_!=null&&c(r,["frequencyPenalty"],_);const w=a(e,["seed"]);w!=null&&c(r,["seed"],w);const C=a(e,["responseMimeType"]);C!=null&&c(r,["responseMimeType"],C);const x=a(e,["responseSchema"]);x!=null&&c(r,["responseSchema"],xu(x));const y=a(e,["responseJsonSchema"]);if(y!=null&&c(r,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(n!==void 0&&v!=null){let M=v;Array.isArray(M)&&(M=M.map(L=>vC(L))),c(n,["safetySettings"],M)}const S=a(e,["tools"]);if(n!==void 0&&S!=null){let M=kr(S);Array.isArray(M)&&(M=M.map(L=>CC(Er(L)))),c(n,["tools"],M)}const k=a(e,["toolConfig"]);if(n!==void 0&&k!=null&&c(n,["toolConfig"],k),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=a(e,["cachedContent"]);n!==void 0&&E!=null&&c(n,["cachedContent"],Ft(t,E));const I=a(e,["responseModalities"]);I!=null&&c(r,["responseModalities"],I);const A=a(e,["mediaResolution"]);A!=null&&c(r,["mediaResolution"],A);const R=a(e,["speechConfig"]);if(R!=null&&c(r,["speechConfig"],_u(R)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=a(e,["thinkingConfig"]);b!=null&&c(r,["thinkingConfig"],b);const q=a(e,["imageConfig"]);return q!=null&&c(r,["imageConfig"],q),r}function RT(t,e,n){const r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&c(n,["systemInstruction"],Ie(i));const o=a(e,["temperature"]);o!=null&&c(r,["temperature"],o);const s=a(e,["topP"]);s!=null&&c(r,["topP"],s);const l=a(e,["topK"]);l!=null&&c(r,["topK"],l);const u=a(e,["candidateCount"]);u!=null&&c(r,["candidateCount"],u);const d=a(e,["maxOutputTokens"]);d!=null&&c(r,["maxOutputTokens"],d);const h=a(e,["stopSequences"]);h!=null&&c(r,["stopSequences"],h);const p=a(e,["responseLogprobs"]);p!=null&&c(r,["responseLogprobs"],p);const m=a(e,["logprobs"]);m!=null&&c(r,["logprobs"],m);const g=a(e,["presencePenalty"]);g!=null&&c(r,["presencePenalty"],g);const _=a(e,["frequencyPenalty"]);_!=null&&c(r,["frequencyPenalty"],_);const w=a(e,["seed"]);w!=null&&c(r,["seed"],w);const C=a(e,["responseMimeType"]);C!=null&&c(r,["responseMimeType"],C);const x=a(e,["responseSchema"]);x!=null&&c(r,["responseSchema"],xu(x));const y=a(e,["responseJsonSchema"]);y!=null&&c(r,["responseJsonSchema"],y);const v=a(e,["routingConfig"]);v!=null&&c(r,["routingConfig"],v);const S=a(e,["modelSelectionConfig"]);S!=null&&c(r,["modelConfig"],S);const k=a(e,["safetySettings"]);if(n!==void 0&&k!=null){let _e=k;Array.isArray(_e)&&(_e=_e.map(rt=>rt)),c(n,["safetySettings"],_e)}const E=a(e,["tools"]);if(n!==void 0&&E!=null){let _e=kr(E);Array.isArray(_e)&&(_e=_e.map(rt=>Fm(Er(rt)))),c(n,["tools"],_e)}const I=a(e,["toolConfig"]);n!==void 0&&I!=null&&c(n,["toolConfig"],I);const A=a(e,["labels"]);n!==void 0&&A!=null&&c(n,["labels"],A);const R=a(e,["cachedContent"]);n!==void 0&&R!=null&&c(n,["cachedContent"],Ft(t,R));const b=a(e,["responseModalities"]);b!=null&&c(r,["responseModalities"],b);const q=a(e,["mediaResolution"]);q!=null&&c(r,["mediaResolution"],q);const M=a(e,["speechConfig"]);M!=null&&c(r,["speechConfig"],Um(_u(M)));const L=a(e,["audioTimestamp"]);L!=null&&c(r,["audioTimestamp"],L);const ue=a(e,["thinkingConfig"]);ue!=null&&c(r,["thinkingConfig"],ue);const $t=a(e,["imageConfig"]);return $t!=null&&c(r,["imageConfig"],$t),r}function xf(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["contents"]);if(i!=null){let s=Ze(i);Array.isArray(s)&&(s=s.map(l=>ps(l))),c(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&c(n,["generationConfig"],PT(t,o,n)),n}function _f(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["contents"]);if(i!=null){let s=Ze(i);Array.isArray(s)&&(s=s.map(l=>l)),c(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&c(n,["generationConfig"],RT(t,o,n)),n}function wf(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>tT(d))),c(e,["candidates"],u)}const i=a(t,["modelVersion"]);i!=null&&c(e,["modelVersion"],i);const o=a(t,["promptFeedback"]);o!=null&&c(e,["promptFeedback"],o);const s=a(t,["responseId"]);s!=null&&c(e,["responseId"],s);const l=a(t,["usageMetadata"]);return l!=null&&c(e,["usageMetadata"],l),e}function Sf(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),c(e,["candidates"],d)}const i=a(t,["createTime"]);i!=null&&c(e,["createTime"],i);const o=a(t,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const s=a(t,["promptFeedback"]);s!=null&&c(e,["promptFeedback"],s);const l=a(t,["responseId"]);l!=null&&c(e,["responseId"],l);const u=a(t,["usageMetadata"]);return u!=null&&c(e,["usageMetadata"],u),e}function bT(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&c(e,["parameters","aspectRatio"],i);const o=a(t,["guidanceScale"]);if(e!==void 0&&o!=null&&c(e,["parameters","guidanceScale"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&c(e,["parameters","safetySetting"],s);const l=a(t,["personGeneration"]);e!==void 0&&l!=null&&c(e,["parameters","personGeneration"],l);const u=a(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&c(e,["parameters","includeSafetyAttributes"],u);const d=a(t,["includeRaiReason"]);e!==void 0&&d!=null&&c(e,["parameters","includeRaiReason"],d);const h=a(t,["language"]);e!==void 0&&h!=null&&c(e,["parameters","language"],h);const p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","mimeType"],p);const m=a(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&c(e,["parameters","outputOptions","compressionQuality"],m),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=a(t,["imageSize"]);if(e!==void 0&&g!=null&&c(e,["parameters","sampleImageSize"],g),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function MT(t,e){const n={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&c(e,["parameters","negativePrompt"],i);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);const l=a(t,["guidanceScale"]);e!==void 0&&l!=null&&c(e,["parameters","guidanceScale"],l);const u=a(t,["seed"]);e!==void 0&&u!=null&&c(e,["parameters","seed"],u);const d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);const h=a(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&c(e,["parameters","includeSafetyAttributes"],p);const m=a(t,["includeRaiReason"]);e!==void 0&&m!=null&&c(e,["parameters","includeRaiReason"],m);const g=a(t,["language"]);e!==void 0&&g!=null&&c(e,["parameters","language"],g);const _=a(t,["outputMimeType"]);e!==void 0&&_!=null&&c(e,["parameters","outputOptions","mimeType"],_);const w=a(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&c(e,["parameters","outputOptions","compressionQuality"],w);const C=a(t,["addWatermark"]);e!==void 0&&C!=null&&c(e,["parameters","addWatermark"],C);const x=a(t,["labels"]);e!==void 0&&x!=null&&c(e,["labels"],x);const y=a(t,["imageSize"]);e!==void 0&&y!=null&&c(e,["parameters","sampleImageSize"],y);const v=a(t,["enhancePrompt"]);return e!==void 0&&v!=null&&c(e,["parameters","enhancePrompt"],v),n}function DT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=a(e,["config"]);return o!=null&&bT(o,n),n}function LT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=a(e,["config"]);return o!=null&&MT(o,n),n}function UT(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>WT(s))),c(e,["generatedImages"],o)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&c(e,["positivePromptSafetyAttributes"],Dm(i)),e}function FT(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ms(s))),c(e,["generatedImages"],o)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&c(e,["positivePromptSafetyAttributes"],Lm(i)),e}function $T(t,e){const n={},r=a(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=a(t,["durationSeconds"]);if(e!==void 0&&i!=null&&c(e,["parameters","durationSeconds"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=a(t,["aspectRatio"]);e!==void 0&&o!=null&&c(e,["parameters","aspectRatio"],o);const s=a(t,["resolution"]);e!==void 0&&s!=null&&c(e,["parameters","resolution"],s);const l=a(t,["personGeneration"]);if(e!==void 0&&l!=null&&c(e,["parameters","personGeneration"],l),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=a(t,["negativePrompt"]);e!==void 0&&u!=null&&c(e,["parameters","negativePrompt"],u);const d=a(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&c(e,["parameters","enhancePrompt"],d),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=a(t,["lastFrame"]);e!==void 0&&h!=null&&c(e,["instances[0]","lastFrame"],gs(h));const p=a(t,["referenceImages"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>FC(g))),c(e,["instances[0]","referenceImages"],m)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function VT(t,e){const n={},r=a(t,["numberOfVideos"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const o=a(t,["fps"]);e!==void 0&&o!=null&&c(e,["parameters","fps"],o);const s=a(t,["durationSeconds"]);e!==void 0&&s!=null&&c(e,["parameters","durationSeconds"],s);const l=a(t,["seed"]);e!==void 0&&l!=null&&c(e,["parameters","seed"],l);const u=a(t,["aspectRatio"]);e!==void 0&&u!=null&&c(e,["parameters","aspectRatio"],u);const d=a(t,["resolution"]);e!==void 0&&d!=null&&c(e,["parameters","resolution"],d);const h=a(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const p=a(t,["pubsubTopic"]);e!==void 0&&p!=null&&c(e,["parameters","pubsubTopic"],p);const m=a(t,["negativePrompt"]);e!==void 0&&m!=null&&c(e,["parameters","negativePrompt"],m);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&c(e,["parameters","enhancePrompt"],g);const _=a(t,["generateAudio"]);e!==void 0&&_!=null&&c(e,["parameters","generateAudio"],_);const w=a(t,["lastFrame"]);e!==void 0&&w!=null&&c(e,["instances[0]","lastFrame"],vt(w));const C=a(t,["referenceImages"]);if(e!==void 0&&C!=null){let v=C;Array.isArray(v)&&(v=v.map(S=>$C(S))),c(e,["instances[0]","referenceImages"],v)}const x=a(t,["mask"]);e!==void 0&&x!=null&&c(e,["instances[0]","mask"],UC(x));const y=a(t,["compressionQuality"]);return e!==void 0&&y!=null&&c(e,["parameters","compressionQuality"],y),n}function BT(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const r=a(t,["metadata"]);r!=null&&c(e,["metadata"],r);const i=a(t,["done"]);i!=null&&c(e,["done"],i);const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["response","generateVideoResponse"]);return s!=null&&c(e,["response"],GT(s)),e}function qT(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const r=a(t,["metadata"]);r!=null&&c(e,["metadata"],r);const i=a(t,["done"]);i!=null&&c(e,["done"],i);const o=a(t,["error"]);o!=null&&c(e,["error"],o);const s=a(t,["response"]);return s!=null&&c(e,["response"],HT(s)),e}function OT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=a(e,["image"]);o!=null&&c(n,["instances[0]","image"],gs(o));const s=a(e,["video"]);s!=null&&c(n,["instances[0]","video"],$m(s));const l=a(e,["source"]);l!=null&&zT(l,n);const u=a(e,["config"]);return u!=null&&$T(u,n),n}function jT(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["prompt"]);i!=null&&c(n,["instances[0]","prompt"],i);const o=a(e,["image"]);o!=null&&c(n,["instances[0]","image"],vt(o));const s=a(e,["video"]);s!=null&&c(n,["instances[0]","video"],Vm(s));const l=a(e,["source"]);l!=null&&JT(l,n);const u=a(e,["config"]);return u!=null&&VT(u,n),n}function GT(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>YT(s))),c(e,["generatedVideos"],o)}const r=a(t,["raiMediaFilteredCount"]);r!=null&&c(e,["raiMediaFilteredCount"],r);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&c(e,["raiMediaFilteredReasons"],i),e}function HT(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>QT(s))),c(e,["generatedVideos"],o)}const r=a(t,["raiMediaFilteredCount"]);r!=null&&c(e,["raiMediaFilteredCount"],r);const i=a(t,["raiMediaFilteredReasons"]);return i!=null&&c(e,["raiMediaFilteredReasons"],i),e}function zT(t,e){const n={},r=a(t,["prompt"]);e!==void 0&&r!=null&&c(e,["instances[0]","prompt"],r);const i=a(t,["image"]);e!==void 0&&i!=null&&c(e,["instances[0]","image"],gs(i));const o=a(t,["video"]);return e!==void 0&&o!=null&&c(e,["instances[0]","video"],$m(o)),n}function JT(t,e){const n={},r=a(t,["prompt"]);e!==void 0&&r!=null&&c(e,["instances[0]","prompt"],r);const i=a(t,["image"]);e!==void 0&&i!=null&&c(e,["instances[0]","image"],vt(i));const o=a(t,["video"]);return e!==void 0&&o!=null&&c(e,["instances[0]","video"],Vm(o)),n}function WT(t){const e={},n=a(t,["_self"]);n!=null&&c(e,["image"],rC(n));const r=a(t,["raiFilteredReason"]);r!=null&&c(e,["raiFilteredReason"],r);const i=a(t,["_self"]);return i!=null&&c(e,["safetyAttributes"],Dm(i)),e}function ms(t){const e={},n=a(t,["_self"]);n!=null&&c(e,["image"],Mm(n));const r=a(t,["raiFilteredReason"]);r!=null&&c(e,["raiFilteredReason"],r);const i=a(t,["_self"]);i!=null&&c(e,["safetyAttributes"],Lm(i));const o=a(t,["prompt"]);return o!=null&&c(e,["enhancedPrompt"],o),e}function KT(t){const e={},n=a(t,["_self"]);n!=null&&c(e,["mask"],Mm(n));const r=a(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),c(e,["labels"],i)}return e}function YT(t){const e={},n=a(t,["video"]);return n!=null&&c(e,["video"],DC(n)),e}function QT(t){const e={},n=a(t,["_self"]);return n!=null&&c(e,["video"],LC(n)),e}function XT(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&c(e,["modelConfig"],n);const r=a(t,["audioTimestamp"]);r!=null&&c(e,["audioTimestamp"],r);const i=a(t,["candidateCount"]);i!=null&&c(e,["candidateCount"],i);const o=a(t,["enableAffectiveDialog"]);o!=null&&c(e,["enableAffectiveDialog"],o);const s=a(t,["frequencyPenalty"]);s!=null&&c(e,["frequencyPenalty"],s);const l=a(t,["logprobs"]);l!=null&&c(e,["logprobs"],l);const u=a(t,["maxOutputTokens"]);u!=null&&c(e,["maxOutputTokens"],u);const d=a(t,["mediaResolution"]);d!=null&&c(e,["mediaResolution"],d);const h=a(t,["presencePenalty"]);h!=null&&c(e,["presencePenalty"],h);const p=a(t,["responseJsonSchema"]);p!=null&&c(e,["responseJsonSchema"],p);const m=a(t,["responseLogprobs"]);m!=null&&c(e,["responseLogprobs"],m);const g=a(t,["responseMimeType"]);g!=null&&c(e,["responseMimeType"],g);const _=a(t,["responseModalities"]);_!=null&&c(e,["responseModalities"],_);const w=a(t,["responseSchema"]);w!=null&&c(e,["responseSchema"],w);const C=a(t,["routingConfig"]);C!=null&&c(e,["routingConfig"],C);const x=a(t,["seed"]);x!=null&&c(e,["seed"],x);const y=a(t,["speechConfig"]);y!=null&&c(e,["speechConfig"],Um(y));const v=a(t,["stopSequences"]);v!=null&&c(e,["stopSequences"],v);const S=a(t,["temperature"]);S!=null&&c(e,["temperature"],S);const k=a(t,["thinkingConfig"]);k!=null&&c(e,["thinkingConfig"],k);const E=a(t,["topK"]);E!=null&&c(e,["topK"],E);const I=a(t,["topP"]);return I!=null&&c(e,["topP"],I),e}function ZT(t,e){const n={},r=a(e,["model"]);return r!=null&&c(n,["_url","name"],K(t,r)),n}function eC(t,e){const n={},r=a(e,["model"]);return r!=null&&c(n,["_url","name"],K(t,r)),n}function tC(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function nC(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function rC(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&c(e,["imageBytes"],fn(n));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Mm(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const r=a(t,["bytesBase64Encoded"]);r!=null&&c(e,["imageBytes"],fn(r));const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function gs(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&c(e,["bytesBase64Encoded"],fn(n));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function vt(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const r=a(t,["imageBytes"]);r!=null&&c(e,["bytesBase64Encoded"],fn(r));const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function iC(t,e,n){const r={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&c(n,["_query","pageSize"],i);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&c(n,["_query","pageToken"],o);const s=a(e,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);const l=a(e,["queryBase"]);return n!==void 0&&l!=null&&c(n,["_url","models_url"],Em(t,l)),r}function oC(t,e,n){const r={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&c(n,["_query","pageSize"],i);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&c(n,["_query","pageToken"],o);const s=a(e,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);const l=a(e,["queryBase"]);return n!==void 0&&l!=null&&c(n,["_url","models_url"],Em(t,l)),r}function sC(t,e){const n={},r=a(e,["config"]);return r!=null&&iC(t,r,n),n}function lC(t,e){const n={},r=a(e,["config"]);return r!=null&&oC(t,r,n),n}function aC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["_self"]);if(i!=null){let o=km(i);Array.isArray(o)&&(o=o.map(s=>ca(s))),c(e,["models"],o)}return e}function uC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["_self"]);if(i!=null){let o=km(i);Array.isArray(o)&&(o=o.map(s=>da(s))),c(e,["models"],o)}return e}function cC(t){const e={},n=a(t,["maskMode"]);n!=null&&c(e,["maskMode"],n);const r=a(t,["segmentationClasses"]);r!=null&&c(e,["maskClasses"],r);const i=a(t,["maskDilation"]);return i!=null&&c(e,["dilation"],i),e}function ca(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const r=a(t,["displayName"]);r!=null&&c(e,["displayName"],r);const i=a(t,["description"]);i!=null&&c(e,["description"],i);const o=a(t,["version"]);o!=null&&c(e,["version"],o);const s=a(t,["_self"]);s!=null&&c(e,["tunedModelInfo"],EC(s));const l=a(t,["inputTokenLimit"]);l!=null&&c(e,["inputTokenLimit"],l);const u=a(t,["outputTokenLimit"]);u!=null&&c(e,["outputTokenLimit"],u);const d=a(t,["supportedGenerationMethods"]);return d!=null&&c(e,["supportedActions"],d),e}function da(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const r=a(t,["displayName"]);r!=null&&c(e,["displayName"],r);const i=a(t,["description"]);i!=null&&c(e,["description"],i);const o=a(t,["versionId"]);o!=null&&c(e,["version"],o);const s=a(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>NT(m))),c(e,["endpoints"],p)}const l=a(t,["labels"]);l!=null&&c(e,["labels"],l);const u=a(t,["_self"]);u!=null&&c(e,["tunedModelInfo"],kC(u));const d=a(t,["defaultCheckpointId"]);d!=null&&c(e,["defaultCheckpointId"],d);const h=a(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(m=>m)),c(e,["checkpoints"],p)}return e}function dC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const r=a(t,["thought"]);r!=null&&c(e,["thought"],r);const i=a(t,["inlineData"]);i!=null&&c(e,["inlineData"],eT(i));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],IT(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const l=a(t,["functionCall"]);l!=null&&c(e,["functionCall"],l);const u=a(t,["codeExecutionResult"]);u!=null&&c(e,["codeExecutionResult"],u);const d=a(t,["executableCode"]);d!=null&&c(e,["executableCode"],d);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const p=a(t,["text"]);return p!=null&&c(e,["text"],p),e}function fC(t){const e={},n=a(t,["productImage"]);return n!=null&&c(e,["image"],vt(n)),e}function hC(t,e){const n={},r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const i=a(t,["baseSteps"]);e!==void 0&&i!=null&&c(e,["parameters","editConfig","baseSteps"],i);const o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const s=a(t,["seed"]);e!==void 0&&s!=null&&c(e,["parameters","seed"],s);const l=a(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&c(e,["parameters","safetySetting"],l);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&c(e,["parameters","personGeneration"],u);const d=a(t,["addWatermark"]);e!==void 0&&d!=null&&c(e,["parameters","addWatermark"],d);const h=a(t,["outputMimeType"]);e!==void 0&&h!=null&&c(e,["parameters","outputOptions","mimeType"],h);const p=a(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","compressionQuality"],p);const m=a(t,["enhancePrompt"]);e!==void 0&&m!=null&&c(e,["parameters","enhancePrompt"],m);const g=a(t,["labels"]);return e!==void 0&&g!=null&&c(e,["labels"],g),n}function pC(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["source"]);i!=null&&gC(i,n);const o=a(e,["config"]);return o!=null&&hC(o,n),n}function mC(t){const e={},n=a(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ms(i))),c(e,["generatedImages"],r)}return e}function gC(t,e){const n={},r=a(t,["prompt"]);e!==void 0&&r!=null&&c(e,["instances[0]","prompt"],r);const i=a(t,["personImage"]);e!==void 0&&i!=null&&c(e,["instances[0]","personImage","image"],vt(i));const o=a(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>fC(l))),c(e,["instances[0]","productImages"],s)}return n}function yC(t){const e={},n=a(t,["referenceImage"]);n!=null&&c(e,["referenceImage"],vt(n));const r=a(t,["referenceId"]);r!=null&&c(e,["referenceId"],r);const i=a(t,["referenceType"]);i!=null&&c(e,["referenceType"],i);const o=a(t,["maskImageConfig"]);o!=null&&c(e,["maskImageConfig"],cC(o));const s=a(t,["controlImageConfig"]);s!=null&&c(e,["controlImageConfig"],lT(s));const l=a(t,["styleImageConfig"]);l!=null&&c(e,["styleImageConfig"],l);const u=a(t,["subjectImageConfig"]);return u!=null&&c(e,["subjectImageConfig"],u),e}function Dm(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const r=a(t,["safetyAttributes","scores"]);r!=null&&c(e,["scores"],r);const i=a(t,["contentType"]);return i!=null&&c(e,["contentType"],i),e}function Lm(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const r=a(t,["safetyAttributes","scores"]);r!=null&&c(e,["scores"],r);const i=a(t,["contentType"]);return i!=null&&c(e,["contentType"],i),e}function vC(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&c(e,["category"],n);const r=a(t,["threshold"]);return r!=null&&c(e,["threshold"],r),e}function xC(t){const e={},n=a(t,["image"]);return n!=null&&c(e,["image"],vt(n)),e}function _C(t,e){const n={},r=a(t,["mode"]);e!==void 0&&r!=null&&c(e,["parameters","mode"],r);const i=a(t,["maxPredictions"]);e!==void 0&&i!=null&&c(e,["parameters","maxPredictions"],i);const o=a(t,["confidenceThreshold"]);e!==void 0&&o!=null&&c(e,["parameters","confidenceThreshold"],o);const s=a(t,["maskDilation"]);e!==void 0&&s!=null&&c(e,["parameters","maskDilation"],s);const l=a(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&c(e,["parameters","binaryColorThreshold"],l);const u=a(t,["labels"]);return e!==void 0&&u!=null&&c(e,["labels"],u),n}function wC(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["source"]);i!=null&&TC(i,n);const o=a(e,["config"]);return o!=null&&_C(o,n),n}function SC(t){const e={},n=a(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KT(i))),c(e,["generatedMasks"],r)}return e}function TC(t,e){const n={},r=a(t,["prompt"]);e!==void 0&&r!=null&&c(e,["instances[0]","prompt"],r);const i=a(t,["image"]);e!==void 0&&i!=null&&c(e,["instances[0]","image"],vt(i));const o=a(t,["scribbleImage"]);return e!==void 0&&o!=null&&c(e,["instances[0]","scribble"],xC(o)),n}function Um(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],n),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=a(t,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function CC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),c(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],nC(r));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&c(e,["googleSearchRetrieval"],i),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],tC(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const l=a(t,["computerUse"]);l!=null&&c(e,["computerUse"],l);const u=a(t,["codeExecution"]);return u!=null&&c(e,["codeExecution"],u),e}function Fm(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>AT(m))),c(e,["functionDeclarations"],p)}const r=a(t,["retrieval"]);r!=null&&c(e,["retrieval"],r);const i=a(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],i);const o=a(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);const s=a(t,["enterpriseWebSearch"]);s!=null&&c(e,["enterpriseWebSearch"],s);const l=a(t,["googleMaps"]);l!=null&&c(e,["googleMaps"],l);const u=a(t,["urlContext"]);u!=null&&c(e,["urlContext"],u);const d=a(t,["computerUse"]);d!=null&&c(e,["computerUse"],d);const h=a(t,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function EC(t){const e={},n=a(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const r=a(t,["createTime"]);r!=null&&c(e,["createTime"],r);const i=a(t,["updateTime"]);return i!=null&&c(e,["updateTime"],i),e}function kC(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(e,["baseModel"],n);const r=a(t,["createTime"]);r!=null&&c(e,["createTime"],r);const i=a(t,["updateTime"]);return i!=null&&c(e,["updateTime"],i),e}function NC(t,e){const n={},r=a(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const i=a(t,["description"]);e!==void 0&&i!=null&&c(e,["description"],i);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&c(e,["defaultCheckpointId"],o),n}function IC(t,e){const n={},r=a(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const i=a(t,["description"]);e!==void 0&&i!=null&&c(e,["description"],i);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&c(e,["defaultCheckpointId"],o),n}function AC(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","name"],K(t,r));const i=a(e,["config"]);return i!=null&&NC(i,n),n}function PC(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["config"]);return i!=null&&IC(i,n),n}function RC(t,e){const n={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&c(e,["parameters","includeRaiReason"],i);const o=a(t,["outputMimeType"]);e!==void 0&&o!=null&&c(e,["parameters","outputOptions","mimeType"],o);const s=a(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&c(e,["parameters","outputOptions","compressionQuality"],s);const l=a(t,["enhanceInputImage"]);e!==void 0&&l!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],l);const u=a(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const d=a(t,["labels"]);e!==void 0&&d!=null&&c(e,["labels"],d);const h=a(t,["numberOfImages"]);e!==void 0&&h!=null&&c(e,["parameters","sampleCount"],h);const p=a(t,["mode"]);return e!==void 0&&p!=null&&c(e,["parameters","mode"],p),n}function bC(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["_url","model"],K(t,r));const i=a(e,["image"]);i!=null&&c(n,["instances[0]","image"],vt(i));const o=a(e,["upscaleFactor"]);o!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=a(e,["config"]);return s!=null&&RC(s,n),n}function MC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ms(o))),c(e,["generatedImages"],i)}return e}function DC(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["uri"],n);const r=a(t,["encodedVideo"]);r!=null&&c(e,["videoBytes"],fn(r));const i=a(t,["encoding"]);return i!=null&&c(e,["mimeType"],i),e}function LC(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["uri"],n);const r=a(t,["bytesBase64Encoded"]);r!=null&&c(e,["videoBytes"],fn(r));const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function UC(t){const e={},n=a(t,["image"]);n!=null&&c(e,["_self"],vt(n));const r=a(t,["maskMode"]);return r!=null&&c(e,["maskMode"],r),e}function FC(t){const e={},n=a(t,["image"]);n!=null&&c(e,["image"],gs(n));const r=a(t,["referenceType"]);return r!=null&&c(e,["referenceType"],r),e}function $C(t){const e={},n=a(t,["image"]);n!=null&&c(e,["image"],vt(n));const r=a(t,["referenceType"]);return r!=null&&c(e,["referenceType"],r),e}function $m(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["uri"],n);const r=a(t,["videoBytes"]);r!=null&&c(e,["encodedVideo"],fn(r));const i=a(t,["mimeType"]);return i!=null&&c(e,["encoding"],i),e}function Vm(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["gcsUri"],n);const r=a(t,["videoBytes"]);r!=null&&c(e,["bytesBase64Encoded"],fn(r));const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VC="Content-Type",BC="X-Server-Timeout",qC="User-Agent",fa="x-goog-api-client",OC="1.25.0",jC=`google-genai-sdk/${OC}`,GC="v1beta1",HC="v1beta",Tf=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class zC{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:GC,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:HC,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>i.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&JC(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Cf(i),new la(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Cf(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return ur(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:l,value:u}=yield ne(i.read());if(l){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(u,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),g=m.status,_=m.code,w=`got status: ${g}. ${JSON.stringify(p)}`;if(_>=400&&_<600)throw new hs({message:w,status:_})}}catch(p){if(p.name==="ApiError")throw p}s+=d;let h=s.match(Tf);for(;h;){const p=h[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ne(new la(m)),s=s.slice(h[0].length),h=s.match(Tf)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=jC+" "+this.clientOptions.userAgentExtra;return e[qC]=n,e[fa]=n,e[VC]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(BC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u=await this.fetchUploadUrl(i,n);return o.upload(e,u,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:F("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function Cf(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new hs({message:i,status:n}):new Error(i)}}function JC(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const l=Object.assign({},o);for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=s[u],h=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?l[u]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WC="mcp_used/unknown";let KC=!1;function Bm(t){for(const e of t)if(YC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return KC}function qm(t){var e;const n=(e=t[fa])!==null&&e!==void 0?e:"";t[fa]=(n+` ${WC}`).trimStart()}function YC(t){return t!==null&&typeof t=="object"&&t instanceof Su}function QC(t,e=100){return ur(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield ne(t.listTools({cursor:r}));for(const s of o.tools)yield yield ne(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Su{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Su(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var l=!0,u=(n=void 0,ri(QC(h))),d;d=await u.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const p=i;s.push(p);const m=p.name;if(o[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);o[m]=h}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),nw(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function XC(t,e,n){const r=new W_;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class ZC{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=n1(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const h=new Promise(v=>{d=v}),p=e.callbacks,m=function(){d({})},g=this.apiClient,_={onopen:m,onmessage:v=>{XC(g,p.onmessage,v)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(v){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(v){}},w=this.webSocketFactory.create(u,t1(s),_);w.connect(),await h;const y={setup:{model:K(this.apiClient,e.model)}};return w.send(JSON.stringify(y)),new e1(w,this.apiClient)}}class e1{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=HS(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=GS(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(tr.PLAY)}pause(){this.sendPlaybackControl(tr.PAUSE)}stop(){this.sendPlaybackControl(tr.STOP)}resetContext(){this.sendPlaybackControl(tr.RESET_CONTEXT)}close(){this.conn.close()}}function t1(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function n1(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function i1(t,e,n){const r=new J_;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=WS(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class o1{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ZC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&Bm(e.config.tools)&&qm(p);const m=u1(p);if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const R=this.apiClient.getApiKey();let b="BidiGenerateContent",q="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),b="BidiGenerateContentConstrained",q="access_token"),h=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${b}?${q}=${R}`}let g=()=>{};const _=new Promise(R=>{g=R}),w=e.callbacks,C=function(){var R;(R=w==null?void 0:w.onopen)===null||R===void 0||R.call(w),g({})},x=this.apiClient,y={onopen:C,onmessage:R=>{i1(x,w.onmessage,R)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(R){}},v=this.webSocketFactory.create(h,a1(m),y);v.connect(),await _;let S=K(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const R=this.apiClient.getProject(),b=this.apiClient.getLocation();S=`projects/${R}/locations/${b}/`+S}let k={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[jo.AUDIO]}:e.config.responseModalities=[jo.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],I=[];for(const R of E)if(this.isCallableTool(R)){const b=R;I.push(await b.tool())}else I.push(R);I.length>0&&(e.config.tools=I);const A={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?k=jS(this.apiClient,A):k=OS(this.apiClient,A),delete k.config,v.send(JSON.stringify(k)),new l1(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const s1={turnComplete:!0};class l1{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ze(n.turns),e.isVertexAI()||(r=r.map(i=>ps(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(r1)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},s1),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:JS(e)}:n={realtimeInput:zS(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function a1(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function u1(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ef=10;function kf(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(cr(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function cr(t){return"callTool"in t&&typeof t.callTool=="function"}function c1(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>cr(i)))!==null&&r!==void 0?r:!1}function d1(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!cr(i)))!==null&&r!==void 0?r:!1}function Nf(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f1 extends Dn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!c1(n)||kf(n.config))return await this.generateContentInternal(u);if(d1(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,h;const p=Ze(u.contents),m=(o=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Ef;let g=0;for(;g<m&&(d=await this.generateContentInternal(u),!(!d.functionCalls||d.functionCalls.length===0));){const _=d.candidates[0].content,w=[];for(const C of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(cr(C)){const y=await C.callTool(d.functionCalls);w.push(...y)}g++,h={role:"user",parts:w},u.contents=Ze(u.contents),u.contents.push(_),u.contents.push(h),Nf(u.config)&&(p.push(_),p.push(h))}return Nf(u.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),kf(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=u==null?void 0:u.safetyAttributes:s.push(u);let l;return o?l={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ri(Pn.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async u=>cr(u)?await u.tool():u)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&Bm(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),qm(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(cr(s)){const l=s,u=await l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,l)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Ef;let s=!1,l=0;const u=await this.initAfcToolsMap(e);return function(d,h,p){var m,g;return ur(this,arguments,function*(){for(var _,w,C,x;l<o;){s&&(l++,s=!1);const k=yield ne(d.processParamsMaybeAddMcpUsage(p)),E=yield ne(d.generateContentStreamInternal(k)),I=[],A=[];try{for(var y=!0,v=(w=void 0,ri(E)),S;S=yield ne(v.next()),_=S.done,!_;y=!0){x=S.value,y=!1;const R=x;if(yield yield ne(R),R.candidates&&(!((m=R.candidates[0])===null||m===void 0)&&m.content)){A.push(R.candidates[0].content);for(const b of(g=R.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(l<o&&b.functionCall){if(!b.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(b.functionCall.name)){const q=yield ne(h.get(b.functionCall.name).callTool([b.functionCall]));I.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${b.functionCall.name}`)}}}}catch(R){w={error:R}}finally{try{!y&&!_&&(C=v.return)&&(yield ne(C.call(v)))}finally{if(w)throw w.error}}if(I.length>0){s=!0;const R=new $r;R.candidates=[{content:{role:"user",parts:I}}],yield yield ne(R);const b=[];b.push(...A),b.push({role:"user",parts:I});const q=Ze(p.contents).concat(b);p.contents=q}else break}})}(this,u,e)}async generateContentInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=_f(this.apiClient,e);return l=F("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=Sf(h),m=new $r;return Object.assign(m,p),m})}else{const d=xf(this.apiClient,e);return l=F("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=wf(h),m=new $r;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=_f(this.apiClient,e);return l=F("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return ur(this,arguments,function*(){var m,g,_,w;try{for(var C=!0,x=ri(p),y;y=yield ne(x.next()),m=y.done,!m;C=!0){w=y.value,C=!1;const v=w,S=Sf(yield ne(v.json()));S.sdkHttpResponse={headers:v.headers};const k=new $r;Object.assign(k,S),yield yield ne(k)}}catch(v){g={error:v}}finally{try{!C&&!m&&(_=x.return)&&(yield ne(_.call(x)))}finally{if(g)throw g.error}}})})}else{const d=xf(this.apiClient,e);return l=F("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return ur(this,arguments,function*(){var m,g,_,w;try{for(var C=!0,x=ri(p),y;y=yield ne(x.next()),m=y.done,!m;C=!0){w=y.value,C=!1;const v=w,S=wf(yield ne(v.json()));S.sdkHttpResponse={headers:v.headers};const k=new $r;Object.assign(k,S),yield yield ne(k)}}catch(v){g={error:v}}finally{try{!C&&!m&&(_=x.return)&&(yield ne(_.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=CT(this.apiClient,e);return l=F("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=kT(h),m=new nf;return Object.assign(m,p),m})}else{const d=TT(this.apiClient,e);return l=F("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=ET(h),m=new nf;return Object.assign(m,p),m})}}async generateImagesInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=LT(this.apiClient,e);return l=F("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=FT(h),m=new rf;return Object.assign(m,p),m})}else{const d=DT(this.apiClient,e);return l=F("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=UT(h),m=new rf;return Object.assign(m,p),m})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=xT(this.apiClient,e);return o=F("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=_T(u),h=new V_;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=bC(this.apiClient,e);return o=F("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=MC(u),h=new B_;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=pC(this.apiClient,e);return o=F("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=mC(u),h=new q_;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=wC(this.apiClient,e);return o=F("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=SC(u),h=new O_;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=eC(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>da(h))}else{const d=ZT(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ca(h))}}async listInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=lC(this.apiClient,e);return l=F("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=uC(h),m=new of;return Object.assign(m,p),m})}else{const d=sC(this.apiClient,e);return l=F("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=aC(h),m=new of;return Object.assign(m,p),m})}}async update(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=PC(this.apiClient,e);return l=F("{model}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>da(h))}else{const d=AC(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>ca(h))}}async delete(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=mT(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=yT(h),m=new sf;return Object.assign(m,p),m})}else{const d=pT(this.apiClient,e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=gT(h),m=new sf;return Object.assign(m,p),m})}}async countTokens(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=dT(this.apiClient,e);return l=F("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=hT(h),m=new lf;return Object.assign(m,p),m})}else{const d=cT(this.apiClient,e);return l=F("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=fT(h),m=new lf;return Object.assign(m,p),m})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=rT(this.apiClient,e);return o=F("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=iT(u),h=new j_;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=jT(this.apiClient,e);return l=F("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=qT(h),m=new Go;return Object.assign(m,p),m})}else{const d=OT(this.apiClient,e);return l=F("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const p=BT(h),m=new Go;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h1 extends Dn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=U_(e);return l=F("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=L_(e);return l=F("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=I_(e);return o=F("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function m1(t){const e={},n=a(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>T1(o))),c(e,["parts"],i)}const r=a(t,["role"]);return r!=null&&c(e,["role"],r),e}function g1(t,e,n){const r={},i=a(e,["expireTime"]);n!==void 0&&i!=null&&c(n,["expireTime"],i);const o=a(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&c(n,["newSessionExpireTime"],o);const s=a(e,["uses"]);n!==void 0&&s!=null&&c(n,["uses"],s);const l=a(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&c(n,["bidiGenerateContentSetup"],S1(t,l));const u=a(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&c(n,["fieldMask"],u),r}function y1(t,e){const n={},r=a(e,["config"]);return r!=null&&c(n,["config"],g1(t,r,n)),n}function v1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function x1(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function _1(t){const e={},n=a(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],n),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function w1(t,e){const n={},r=a(t,["generationConfig"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig"],r);const i=a(t,["responseModalities"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig","responseModalities"],i);const o=a(t,["temperature"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);const l=a(t,["topK"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topK"],l);const u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);const h=a(t,["seed"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","seed"],h);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],wu(p));const m=a(t,["thinkingConfig"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","thinkingConfig"],m);const g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=a(t,["systemInstruction"]);e!==void 0&&_!=null&&c(e,["setup","systemInstruction"],m1(Ie(_)));const w=a(t,["tools"]);if(e!==void 0&&w!=null){let E=kr(w);Array.isArray(E)&&(E=E.map(I=>E1(Er(I)))),c(e,["setup","tools"],E)}const C=a(t,["sessionResumption"]);e!==void 0&&C!=null&&c(e,["setup","sessionResumption"],C1(C));const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&c(e,["setup","inputAudioTranscription"],x);const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&c(e,["setup","outputAudioTranscription"],y);const v=a(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&c(e,["setup","realtimeInputConfig"],v);const S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&c(e,["setup","contextWindowCompression"],S);const k=a(t,["proactivity"]);return e!==void 0&&k!=null&&c(e,["setup","proactivity"],k),n}function S1(t,e){const n={},r=a(e,["model"]);r!=null&&c(n,["setup","model"],K(t,r));const i=a(e,["config"]);return i!=null&&c(n,["config"],w1(i,n)),n}function T1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],n);const r=a(t,["thought"]);r!=null&&c(e,["thought"],r);const i=a(t,["inlineData"]);i!=null&&c(e,["inlineData"],p1(i));const o=a(t,["fileData"]);o!=null&&c(e,["fileData"],v1(o));const s=a(t,["thoughtSignature"]);s!=null&&c(e,["thoughtSignature"],s);const l=a(t,["functionCall"]);l!=null&&c(e,["functionCall"],l);const u=a(t,["codeExecutionResult"]);u!=null&&c(e,["codeExecutionResult"],u);const d=a(t,["executableCode"]);d!=null&&c(e,["executableCode"],d);const h=a(t,["functionResponse"]);h!=null&&c(e,["functionResponse"],h);const p=a(t,["text"]);return p!=null&&c(e,["text"],p),e}function C1(t){const e={},n=a(t,["handle"]);if(n!=null&&c(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function E1(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),c(e,["functionDeclarations"],d)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],_1(r));const i=a(t,["googleSearchRetrieval"]);if(i!=null&&c(e,["googleSearchRetrieval"],i),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=a(t,["googleMaps"]);o!=null&&c(e,["googleMaps"],x1(o));const s=a(t,["urlContext"]);s!=null&&c(e,["urlContext"],s);const l=a(t,["computerUse"]);l!=null&&c(e,["computerUse"],l);const u=a(t,["codeExecution"]);return u!=null&&c(e,["codeExecution"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k1(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function N1(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=k1(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const u=[];o&&u.push(o),l.length>0&&u.push(...l),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class I1 extends Dn{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=y1(this.apiClient,e);o=F("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const u=N1(l,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A1(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["_url","name"],n),e}function P1(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["_url","name"],n),e}function R1(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=a(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&c(e,["displayName"],r),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=a(t,["epochCount"]);e!==void 0&&i!=null&&c(e,["tuningTask","hyperparameters","epochCount"],i);const o=a(t,["learningRateMultiplier"]);if(o!=null&&c(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=a(t,["batchSize"]);e!==void 0&&s!=null&&c(e,["tuningTask","hyperparameters","batchSize"],s);const l=a(t,["learningRate"]);if(e!==void 0&&l!=null&&c(e,["tuningTask","hyperparameters","learningRate"],l),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function b1(t,e){const n={},r=a(t,["validationDataset"]);e!==void 0&&r!=null&&c(e,["supervisedTuningSpec"],J1(r,n));const i=a(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&c(e,["tunedModelDisplayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);const s=a(t,["epochCount"]);e!==void 0&&s!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const l=a(t,["learningRateMultiplier"]);e!==void 0&&l!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],l);const u=a(t,["exportLastCheckpointOnly"]);e!==void 0&&u!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],u);const d=a(t,["adapterSize"]);if(e!==void 0&&d!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=a(t,["labels"]);return e!==void 0&&h!=null&&c(e,["labels"],h),n}function M1(t){const e={},n=a(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const r=a(t,["preTunedModel"]);r!=null&&c(e,["preTunedModel"],r);const i=a(t,["trainingDataset"]);i!=null&&c(e,["tuningTask","trainingData"],G1(i));const o=a(t,["config"]);return o!=null&&R1(o,e),e}function D1(t){const e={},n=a(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const r=a(t,["preTunedModel"]);r!=null&&c(e,["preTunedModel"],r);const i=a(t,["trainingDataset"]);i!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],H1(i,e));const o=a(t,["config"]);return o!=null&&b1(o,e),e}function L1(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["_url","name"],n),e}function U1(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["_url","name"],n),e}function F1(t,e){const n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const i=a(t,["pageToken"]);e!==void 0&&i!=null&&c(e,["_query","pageToken"],i);const o=a(t,["filter"]);return e!==void 0&&o!=null&&c(e,["_query","filter"],o),n}function $1(t,e){const n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);const i=a(t,["pageToken"]);e!==void 0&&i!=null&&c(e,["_query","pageToken"],i);const o=a(t,["filter"]);return e!==void 0&&o!=null&&c(e,["_query","filter"],o),n}function V1(t){const e={},n=a(t,["config"]);return n!=null&&F1(n,e),e}function B1(t){const e={},n=a(t,["config"]);return n!=null&&$1(n,e),e}function q1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Om(s))),c(e,["tuningJobs"],o)}return e}function O1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["nextPageToken"]);r!=null&&c(e,["nextPageToken"],r);const i=a(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ha(s))),c(e,["tuningJobs"],o)}return e}function j1(t){const e={},n=a(t,["name"]);n!=null&&c(e,["model"],n);const r=a(t,["name"]);return r!=null&&c(e,["endpoint"],r),e}function G1(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),c(e,["examples","examples"],r)}return e}function H1(t,e){const n={},r=a(t,["gcsUri"]);e!==void 0&&r!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=a(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],i),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Om(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const i=a(t,["state"]);i!=null&&c(e,["state"],Tm(i));const o=a(t,["createTime"]);o!=null&&c(e,["createTime"],o);const s=a(t,["tuningTask","startTime"]);s!=null&&c(e,["startTime"],s);const l=a(t,["tuningTask","completeTime"]);l!=null&&c(e,["endTime"],l);const u=a(t,["updateTime"]);u!=null&&c(e,["updateTime"],u);const d=a(t,["description"]);d!=null&&c(e,["description"],d);const h=a(t,["baseModel"]);h!=null&&c(e,["baseModel"],h);const p=a(t,["_self"]);p!=null&&c(e,["tunedModel"],j1(p));const m=a(t,["customBaseModel"]);m!=null&&c(e,["customBaseModel"],m);const g=a(t,["experiment"]);g!=null&&c(e,["experiment"],g);const _=a(t,["labels"]);_!=null&&c(e,["labels"],_);const w=a(t,["outputUri"]);w!=null&&c(e,["outputUri"],w);const C=a(t,["pipelineJob"]);C!=null&&c(e,["pipelineJob"],C);const x=a(t,["serviceAccount"]);x!=null&&c(e,["serviceAccount"],x);const y=a(t,["tunedModelDisplayName"]);y!=null&&c(e,["tunedModelDisplayName"],y);const v=a(t,["veoTuningSpec"]);return v!=null&&c(e,["veoTuningSpec"],v),e}function ha(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const i=a(t,["state"]);i!=null&&c(e,["state"],Tm(i));const o=a(t,["createTime"]);o!=null&&c(e,["createTime"],o);const s=a(t,["startTime"]);s!=null&&c(e,["startTime"],s);const l=a(t,["endTime"]);l!=null&&c(e,["endTime"],l);const u=a(t,["updateTime"]);u!=null&&c(e,["updateTime"],u);const d=a(t,["error"]);d!=null&&c(e,["error"],d);const h=a(t,["description"]);h!=null&&c(e,["description"],h);const p=a(t,["baseModel"]);p!=null&&c(e,["baseModel"],p);const m=a(t,["tunedModel"]);m!=null&&c(e,["tunedModel"],m);const g=a(t,["preTunedModel"]);g!=null&&c(e,["preTunedModel"],g);const _=a(t,["supervisedTuningSpec"]);_!=null&&c(e,["supervisedTuningSpec"],_);const w=a(t,["tuningDataStats"]);w!=null&&c(e,["tuningDataStats"],w);const C=a(t,["encryptionSpec"]);C!=null&&c(e,["encryptionSpec"],C);const x=a(t,["partnerModelTuningSpec"]);x!=null&&c(e,["partnerModelTuningSpec"],x);const y=a(t,["customBaseModel"]);y!=null&&c(e,["customBaseModel"],y);const v=a(t,["experiment"]);v!=null&&c(e,["experiment"],v);const S=a(t,["labels"]);S!=null&&c(e,["labels"],S);const k=a(t,["outputUri"]);k!=null&&c(e,["outputUri"],k);const E=a(t,["pipelineJob"]);E!=null&&c(e,["pipelineJob"],E);const I=a(t,["serviceAccount"]);I!=null&&c(e,["serviceAccount"],I);const A=a(t,["tunedModelDisplayName"]);A!=null&&c(e,["tunedModelDisplayName"],A);const R=a(t,["veoTuningSpec"]);return R!=null&&c(e,["veoTuningSpec"],R),e}function z1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const o=a(t,["done"]);o!=null&&c(e,["done"],o);const s=a(t,["error"]);return s!=null&&c(e,["error"],s),e}function J1(t,e){const n={},r=a(t,["gcsUri"]);r!=null&&c(n,["validationDatasetUri"],r);const i=a(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W1 extends Dn{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ri(Pn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:sa.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=U1(e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>ha(h))}else{const d=L1(e);return l=F("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>Om(h))}}async listInternal(e){var n,r,i,o;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=B1(e);return l=F("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=O1(h),m=new af;return Object.assign(m,p),m})}else{const d=V1(e);return l=F("tunedModels",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:h.headers},m})),s.then(h=>{const p=q1(h),m=new af;return Object.assign(m,p),m})}}async cancel(e){var n,r,i,o;let s="",l={};if(this.apiClient.isVertexAI()){const u=P1(e);s=F("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=A1(e);s=F("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=D1(e);return o=F("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>ha(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=M1(e);return o=F("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>z1(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K1{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Y1=1024*1024*8,Q1=3,X1=1e3,Z1=2,Zs="x-goog-upload-status";async function eE(t,e,n){var r,i,o;let s=0,l=0,u=new la(new Response),d="upload";for(s=t.size;l<s;){const p=Math.min(Y1,s-l),m=t.slice(l,l+p);l+p>=s&&(d+=", finalize");let g=0,_=X1;for(;g<Q1&&(u=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(p)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Zs]));)g++,await nE(_),_=_*Z1;if(l+=p,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Zs])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(u==null?void 0:u.json());if(((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[Zs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function tE(t){return{size:t.size,type:t.type}}function nE(t){return new Promise(e=>setTimeout(e,t))}class rE{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eE(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iE{create(e,n,r){return new oE(e,n,r)}}class oE{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const If="x-goog-api-key";class sE{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(If)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(If,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lE="gl-node/";class aE{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=k_(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new sE(this.apiKey);this.apiClient=new zC({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:lE+"web",uploader:new rE,downloader:new K1}),this.models=new f1(this.apiClient),this.live=new o1(this.apiClient,i,new iE),this.batches=new Hw(this.apiClient),this.chats=new TS(this.models,this.apiClient),this.caches=new _S(this.apiClient),this.files=new MS(this.apiClient),this.operations=new h1(this.apiClient),this.authTokens=new I1(this.apiClient),this.tunings=new W1(this.apiClient)}}const uE="AIzaSyAQqGJ30pzRWaE9GAEdSYHBfYpQ8BsHZLg",cE=new aE({apiKey:uE}),dE=async()=>{const t=`
Tugas Anda adalah menghasilkan kutipan ayat Al-Qur'an atau doa Nabi tentang pernikahan dengan format yang sangat spesifik.

Pilih salah satu dari referensi berikut:
- Q.S. Ar-Rum ayat 21
- Al-Quran Surat Yasiin (36:36)
- Al-Quran Surat Adz-Dzariyyat (51:49)
- Q.S. An-Nisa ayat 1
- Q.S An-Nur ayat 32
- Q.S An-Nahl ayat 72
- Hadits Riwayat Bukhari dan Muslim
- Doa Nabi Muhammad SAW saat pernikahan putrinya Fatimah Az Zahra dengan Ali bin Abi Thalib.

Hasilkan teks HANYA dalam format berikut, tanpa teks tambahan atau pembuka/penutup, menggunakan salah satu referensi di atas. hasil selanjutnya berbeda dari sebelumnya, Contoh ini menggunakan Q.S. Ar-Rum ayat 21:

Al-Quran Surat Ar-Ruum (30:21)

Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu isteri-isteri dari jenismu sendiri, supaya kamu cenderung dan merasa tenteram kepadanya, dan dijadikan-Nya diantaramu rasa kasih dan sayang. Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda bagi kaum yang berfikir.
`;try{return(await cE.models.generateContent({model:"gemini-2.5-flash",contents:t})).text}catch(e){return console.error("Error generating Islamic wedding prayer:",e),"Maaf, terjadi kesalahan saat menyusun doa pernikahan. Silakan coba lagi."}},fE=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(!1),[i,o]=N.useState(""),s=async()=>{r(!0),o(""),e(null);try{const u=await dE();u.startsWith("Maaf")?o(u):e(u)}catch(u){o("An unexpected error occurred. Please try again."),console.error(u)}finally{r(!1)}},l=()=>{if(!t)return null;const u=t.split(`

`),d=u[0],h=u.slice(1).join(`

`);return f.jsxs("div",{className:"animate-fade-in text-center",children:[f.jsx("h3",{className:"text-xl font-semibold font-serif text-text/90 mb-4",children:d}),f.jsx("blockquote",{className:"text-lg text-text/80 leading-relaxed italic",children:f.jsxs("p",{children:["",h,""]})})]})};return f.jsx("section",{id:"prayer",className:"relative z-[30] py-20 md:py-32 bg-background",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-block bg-gradient-to-br from-primary/20 to-secondary/20 p-5 rounded-full mb-4",children:f.jsx(au,{className:"text-primary",size:40})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-text mb-4",children:"Doa Untuk Kami"}),f.jsx("p",{className:"text-text/80 max-w-2xl mx-auto",children:"Saat kita memulai hidup bersama, kami sangat berterima kasih atas doa-doa Anda. Klik di bawah ini untuk menerima doa khusus bagi persatuan kita."})]}),f.jsx("div",{className:"max-w-3xl mx-auto bg-white/80 backdrop-blur-sm border border-accent/20 rounded-xl shadow-lg p-8 md:p-12 min-h-[250px] flex flex-col justify-center items-center transition-all duration-500",children:n?f.jsxs("div",{className:"flex flex-col items-center text-secondary",children:[f.jsx(jr,{className:"animate-spin",size:48}),f.jsx("p",{className:"mt-4 font-serif",children:"Menerima Doa Untuk Kami.."})]}):i?f.jsxs("div",{className:"text-center text-red-600",children:[f.jsx("p",{children:i}),f.jsx("button",{onClick:s,className:"mt-4 px-6 py-2 bg-secondary text-white font-semibold rounded-md hover:bg-secondary/90 transition duration-300",children:"Coba Lagi"})]}):t?f.jsxs(f.Fragment,{children:[l(),f.jsxs("button",{onClick:s,className:"mt-8 w-full bg-rose-500 hover:bg-rose-600 text-white py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 hover:scale-105 hover:shadow-lg",children:[f.jsx(Bo,{className:"mr-2",size:18}),"Memulai Doa Lainnya"]})]}):f.jsxs("button",{onClick:s,className:"w-full bg-rose-500 hover:bg-rose-600 text-white py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 hover:scale-105 hover:shadow-lg",children:[f.jsx(Bo,{className:"mr-3",size:22}),"Memulai Menerima doa"]})})]})})},hE=({config:t})=>{const[e,n]=N.useState(!1),r=N.useRef(null);return N.useEffect(()=>{const i=new IntersectionObserver(([s])=>{s.isIntersecting&&(n(!0),i.unobserve(s.target))},{threshold:.1}),o=r.current;return o&&i.observe(o),()=>{o&&i.unobserve(o)}},[]),f.jsx("div",{className:"py-20 bg-[#FBF9F6]",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"bg-gradient-to-br from-rose-100 to-orange-100 p-6 rounded-full animate-pulse-glow",children:f.jsx(au,{className:"text-rose-600",size:48})})}),f.jsx("h2",{className:"py-5 text-4xl md:text-5xl font-serif text-gray-800 mb-4",children:"Pesan dari Kami"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Terima kasih untukmu yang paling berharga sudah mempersempatkan waktu ke acara kami, semoga di berikan kesehatan, keberkahan, rejeki akan kalian dapatkan ."})]}),f.jsx("div",{ref:r,className:`relative z-[30] max-w-4xl mx-auto bg-gradient-to-br from-white to-gray-50 border-2 border-gray-100 rounded-2xl p-8 md:p-12 shadow-lg transition-all duration-1000 ease-out ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-lg text-gray-800 leading-relaxed mb-6 font-serif italic",children:t.prayerLetter.greeting}),f.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:t.prayerLetter.body1}),f.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:t.prayerLetter.body2}),f.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:t.prayerLetter.body3}),f.jsxs("div",{className:"border-t border-rose-200 pt-6 mt-8 text-right",children:[f.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:t.prayerLetter.closing}),f.jsxs("p",{className:"font-serif text-3xl text-rose-600 mt-2",children:[t.couple.groom.name," & ",t.couple.bride.name]})]})]})})]})})},pE=({show:t,onClose:e,config:n})=>{const[r,i]=N.useState(!1),o=N.useRef(null);N.useEffect(()=>{if(t){document.body.style.overflow="hidden";const u=setTimeout(()=>i(!0),100);return()=>{clearTimeout(u)}}else document.body.style.overflow="auto",i(!1)},[t]),N.useEffect(()=>{r&&o.current?o.current.play().catch(u=>{console.error("Video autoplay was prevented:",u)}):!r&&o.current&&(o.current.pause(),o.current.currentTime=0)},[r]);const s=()=>{i(!1),setTimeout(e,800)};if(!t)return null;const l={width:"100vw",height:"100vh",backgroundImage:`url('${n.cinematic.doorImage}')`,backgroundSize:"cover",backgroundPosition:"center center"};return f.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 w-full h-full",children:f.jsx("video",{ref:o,src:n.cinematic.videoSrc,className:`w-full h-full object-cover transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,loop:!0,muted:!0,playsInline:!0})}),f.jsx("button",{onClick:s,className:`absolute top-5 right-5 z-[120] text-white/70 hover:text-white transition-all duration-500 delay-1000 ${r?"opacity-100 scale-100":"opacity-0 scale-0"}`,"aria-label":"Close video",children:f.jsx(du,{size:32})}),f.jsx("div",{className:`fixed top-0 left-0 w-1/2 h-full z-[110] overflow-hidden transition-transform duration-1000 ease-in-out ${r?"-translate-x-full":"translate-x-0"}`,children:f.jsx("div",{style:l})}),f.jsx("div",{className:`fixed top-0 right-0 w-1/2 h-full z-[110] overflow-hidden transition-transform duration-1000 ease-in-out ${r?"translate-x-full":"translate-x-0"}`,children:f.jsx("div",{style:{...l,transform:"translateX(-50vw)"}})})]})};function mE(){const[t,e]=N.useState(!1),[n,r]=N.useState("hero"),{isLoading:i,showInvitation:o,handleOpenInvitation:s}=__(),[l,u]=N.useState(!1),[d,h]=N.useState(!1),[p,m]=N.useState(!1),[g,_]=N.useState(!1),[w,C]=N.useState(!1),[x,y]=N.useState(null),[v,S]=N.useState(!1),[k,E]=N.useState(!1),[I,A]=N.useState(!1),R=w_(),[b,q]=N.useState(R);N.useEffect(()=>{const V=new URLSearchParams(window.location.search).get("to");V&&V.trim()&&y(V.trim())},[]),N.useEffect(()=>{const D=localStorage.getItem("weddingConfig");if(D)try{const V=JSON.parse(D),O=(Q,X)=>{const it={...Q};for(const Pe in X)if(Object.prototype.hasOwnProperty.call(X,Pe)){const ot=it[Pe],we=X[Pe];typeof ot=="object"&&ot!==null&&!Array.isArray(ot)&&typeof we=="object"&&we!==null&&!Array.isArray(we)?it[Pe]=O(ot,we):we!==void 0&&(it[Pe]=we)}return it};typeof V=="object"&&V!==null?q(O(R,V)):console.warn("Invalid config in localStorage, using defaults.")}catch(V){console.error("Failed to parse config from localStorage, using defaults.",V),localStorage.removeItem("weddingConfig")}},[]),N.useEffect(()=>{const D=()=>{e(window.scrollY>50);const V=["hero","couple","story","event","gallery","donation","rsvp","prayer"];for(const O of V){const Q=document.getElementById(O);if(Q){const X=Q.getBoundingClientRect();if(X.top<=window.innerHeight/2&&X.bottom>=window.innerHeight/2){n!==O&&r(O);break}}}};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[n]),N.useEffect(()=>{o&&h(!0)},[o]);const M=()=>{s(),h(!1),setTimeout(()=>{u(!0),document.body.style.overflow="auto",m(!0),_(!0)},500)};N.useEffect(()=>{i||d||k||w?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[i,d,w,k]);const L=D=>{r(D);const V=document.getElementById(D);V==null||V.scrollIntoView({behavior:"smooth"})},ue=()=>{S(!0)},$t=(D,V)=>{D==="admin"&&V==="wedding2025"&&(A(!0),S(!1),E(!0),document.body.style.overflow="hidden")},_e=D=>{q(D),localStorage.setItem("weddingConfig",JSON.stringify(D))},rt=()=>{E(!1),A(!1),document.body.style.overflow="auto"};return i?f.jsx(m_,{}):f.jsxs(f.Fragment,{children:[f.jsx(g_,{isOpen:d,onOpen:M,config:b,guestName:x}),f.jsx(pE,{show:w,onClose:()=>C(!1),config:b}),f.jsx(v_,{isOpen:v,onClose:()=>S(!1),onLogin:$t}),f.jsx(x_,{isOpen:k,onClose:rt,config:b,onSave:_e}),f.jsx("div",{className:`transition-opacity duration-1000 ease-in ${l?"opacity-100":"opacity-0"}`,children:f.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans overflow-x-hidden relative",children:[l&&f.jsx(y_,{activeSection:n}),f.jsx("nav",{className:`fixed top-0 w-full z-[60] transition-all duration-300 ${t?"bg-white/80 backdrop-blur-sm shadow-md py-4":"bg-transparent py-6"}`,children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsx("div",{className:"flex justify-center items-center space-x-3 md:space-x-6",children:[{icon:ze,label:"Home",id:"hero"},{icon:T0,label:"Couple",id:"couple"},{icon:Jp,label:"Story",id:"story"},{icon:Vo,label:"Event",id:"event"},{icon:uu,label:"Gallery",id:"gallery"},{icon:Wp,label:"Gift",id:"donation"},{icon:b0,label:"RSVP",id:"rsvp"},{icon:vr,label:"Prayer",id:"prayer"}].map(D=>f.jsxs("button",{onClick:()=>L(D.id),className:`flex flex-col md:flex-row items-center space-x-0 md:space-x-2 transition-colors duration-300 ${t?"text-gray-700 hover:text-rose-500":"text-white/90 hover:text-white"} ${n===D.id?t?"text-rose-500 font-bold":"text-white font-bold":""}`,children:[f.jsx(D.icon,{size:18}),f.jsx("span",{className:"hidden md:inline text-sm font-medium",children:D.label})]},D.id))})})}),f.jsxs("main",{children:[f.jsx("div",{id:"hero",children:f.jsx(O0,{onAdminAccess:ue,config:b})}),f.jsx(j0,{config:b}),f.jsx("div",{id:"couple",children:f.jsx(G0,{config:b})}),f.jsx("div",{id:"story",children:f.jsx(H0,{config:b})}),f.jsx("div",{id:"event",children:f.jsx(z0,{config:b})}),f.jsx("div",{id:"gallery",children:f.jsx(W0,{config:b})}),f.jsx("div",{id:"donation",children:f.jsx(K0,{config:b})}),f.jsx("div",{id:"rsvp",children:f.jsx(h_,{})}),f.jsx("div",{id:"prayer",children:f.jsx(fE,{})}),f.jsx(hE,{config:b}),f.jsx(p_,{})]}),p&&f.jsx(S_,{lyrics:b.music.lyrics,audioSrc:b.music.audioSrc,initialShowLyrics:!1,autoPlay:g,autoPlayLyrics:g}),f.jsx("footer",{className:"bg-gray-900 text-white py-12 relative z-10",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsx(ze,{className:"inline-block text-rose-500 mb-2",size:24}),f.jsxs("p",{className:"font-serif text-lg",children:[b.couple.groom.name," & ",b.couple.bride.name]}),f.jsx("p",{className:"text-sm",children:"Made with love for our special day"}),f.jsxs("button",{onClick:()=>C(!0),className:"mt-4 px-4 py-3 bg-rose-500 hover:bg-rose-600 text-white rounded-lg font-medium transition-all duration-300 inline-flex items-center justify-center space-x-2 disabled:opacity-50 hover:scale-105 hover:shadow-lg",children:[f.jsx(Hp,{size:20}),f.jsx("span",{children:"Watch Our Cinematic Story"})]}),f.jsxs("p",{className:"text-xs text-gray-400 mt-6",children:[" 2025 ",b.couple.groom.name," & ",b.couple.bride.name," - All rights reserved"]})]})})]})})]})}qp(document.getElementById("root")).render(f.jsx(N.StrictMode,{children:f.jsx(mE,{})}));
